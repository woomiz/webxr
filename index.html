<!doctype html><html lang="en">
 <head>
  <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
  <meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport">
  <title>WebXR Device API</title>
<style data-fill-with="stylesheet">/******************************************************************************
 *                   Style sheet for the W3C specifications                   *
 *
 * Special classes handled by this style sheet include:
 *
 * Indices
 *   - .toc for the Table of Contents (<ol class="toc">)
 *     + <span class="secno"> for the section numbers
 *   - #toc for the Table of Contents (<nav id="toc">)
 *   - ul.index for Indices (<a href="#ref">term</a><span>, in §N.M</span>)
 *   - table.index for Index Tables (e.g. for properties or elements)
 *
 * Structural Markup
 *   - table.data for general data tables
 *     -> use 'scope' attribute, <colgroup>, <thead>, and <tbody> for best results !
 *     -> use <table class='complex data'> for extra-complex tables
 *     -> use <td class='long'> for paragraph-length cell content
 *     -> use <td class='pre'> when manual line breaks/indentation would help readability
 *   - dl.switch for switch statements
 *   - ol.algorithm for algorithms (helps to visualize nesting)
 *   - .figure and .caption (HTML4) and figure and figcaption (HTML5)
 *     -> .sidefigure for right-floated figures
 *   - ins/del
 *
 * Code
 *   - pre and code
 *
 * Special Sections
 *   - .note       for informative notes             (div, p, span, aside, details)
 *   - .example    for informative examples          (div, p, pre, span)
 *   - .issue      for issues                        (div, p, span)
 *   - .assertion  for assertions                    (div, p, span)
 *   - .advisement for loud normative statements     (div, p, strong)
 *   - .annoying-warning for spec obsoletion notices (div, aside, details)
 *
 * Definition Boxes
 *   - pre.def   for WebIDL definitions
 *   - table.def for tables that define other entities (e.g. CSS properties)
 *   - dl.def    for definition lists that define other entitles (e.g. HTML elements)
 *
 * Numbering
 *   - .secno for section numbers in .toc and headings (<span class='secno'>3.2</span>)
 *   - .marker for source-inserted example/figure/issue numbers (<span class='marker'>Issue 4</span>)
 *   - ::before styled for CSS-generated issue/example/figure numbers:
 *     -> Documents wishing to use this only need to add
 *        figcaption::before,
 *        .caption::before { content: "Figure "  counter(figure) " ";  }
 *        .example::before { content: "Example " counter(example) " "; }
 *        .issue::before   { content: "Issue "   counter(issue) " ";   }
 *
 * Header Stuff (ignore, just don't conflict with these classes)
 *   - .head for the header
 *   - .copyright for the copyright
 *
 * Miscellaneous
 *   - .overlarge for things that should be as wide as possible, even if
 *     that overflows the body text area. This can be used on an item or
 *     on its container, depending on the effect desired.
 *     Note that this styling basically doesn't help at all when printing,
 *     since A4 paper isn't much wider than the max-width here.
 *     It's better to design things to fit into a narrower measure if possible.
 *   - js-added ToC jump links (see fixup.js)
 *
 ******************************************************************************/

/******************************************************************************/
/*                                   Body                                     */
/******************************************************************************/

	body {
		counter-reset: example figure issue;

		/* Layout */
		max-width: 50em;               /* limit line length to 50em for readability   */
		margin: 0 auto;                /* center text within page                     */
		padding: 1.6em 1.5em 2em 50px; /* assume 16px font size for downlevel clients */
		padding: 1.6em 1.5em 2em calc(26px + 1.5em); /* leave space for status flag     */

		/* Typography */
		line-height: 1.5;
		font-family: sans-serif;
		widows: 2;
		orphans: 2;
		word-wrap: break-word;
		overflow-wrap: break-word;
		hyphens: auto;

		/* Colors */
		color: black;
		background: white top left fixed no-repeat;
		background-size: 25px auto;
	}


/******************************************************************************/
/*                         Front Matter & Navigation                          */
/******************************************************************************/

/** Header ********************************************************************/

	div.head { margin-bottom: 1em }
	div.head hr { border-style: solid; }

	div.head h1 {
		font-weight: bold;
		margin: 0 0 .1em;
		font-size: 220%;
	}

	div.head h2 { margin-bottom: 1.5em;}

/** W3C Logo ******************************************************************/

	.head .logo {
		float: right;
		margin: 0.4rem 0 0.2rem .4rem;
	}

	.head img[src*="logos/W3C"] {
		display: block;
		border: solid #1a5e9a;
		border-width: .65rem .7rem .6rem;
		border-radius: .4rem;
		background: #1a5e9a;
		color: white;
		font-weight: bold;
	}

	.head a:hover > img[src*="logos/W3C"],
	.head a:focus > img[src*="logos/W3C"] {
		opacity: .8;
	}

	.head a:active > img[src*="logos/W3C"] {
		background: #c00;
		border-color: #c00;
	}

	/* see also additional rules in Link Styling section */

/** Copyright *****************************************************************/

	p.copyright,
	p.copyright small { font-size: small }

/** Back to Top / ToC Toggle **************************************************/

	@media print {
		#toc-nav {
			display: none;
		}
	}
	@media not print {
		#toc-nav {
			position: fixed;
			z-index: 2;
			bottom: 0; left: 0;
			margin: 0;
			min-width: 1.33em;
			border-top-right-radius: 2rem;
			box-shadow: 0 0 2px;
			font-size: 1.5em;
			color: black;
		}
		#toc-nav > a {
			display: block;
			white-space: nowrap;

			height: 1.33em;
			padding: .1em 0.3em;
			margin: 0;

			background: white;
			box-shadow: 0 0 2px;
			border: none;
			border-top-right-radius: 1.33em;
			background: white;
		}
		#toc-nav > #toc-jump {
			padding-bottom: 2em;
			margin-bottom: -1.9em;
		}

		#toc-nav > a:hover,
		#toc-nav > a:focus {
			background: #f8f8f8;
		}
		#toc-nav > a:not(:hover):not(:focus) {
			color: #707070;
		}

		/* statusbar gets in the way on keyboard focus; remove once browsers fix */
		#toc-nav > a[href="#toc"]:not(:hover):focus:last-child {
			padding-bottom: 1.5rem;
		}

		#toc-nav:not(:hover) > a:not(:focus) > span + span {
			/* Ideally this uses :focus-within on #toc-nav */
			display: none;
		}
		#toc-nav > a > span + span {
			padding-right: 0.2em;
		}

		#toc-toggle-inline {
			vertical-align: 0.05em;
			font-size: 80%;
			color: gray;
			color: hsla(203,20%,40%,.7);
			border-style: none;
			background: transparent;
			position: relative;
		}
		#toc-toggle-inline:hover:not(:active),
		#toc-toggle-inline:focus:not(:active) {
			text-shadow: 1px 1px silver;
			top: -1px;
			left: -1px;
		}

		#toc-nav :active {
			color: #C00;
		}
	}

/** ToC Sidebar ***************************************************************/

	/* Floating sidebar */
	@media screen {
		body.toc-sidebar #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			max-width: 80%;
			max-width: calc(100% - 2em - 26px);
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body.toc-sidebar #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}
		body.toc-sidebar #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	/* Hide main scroller when only the ToC is visible anyway */
	@media screen and (max-width: 28em) {
		body.toc-sidebar {
			overflow: hidden;
		}
	}

	/* Sidebar with its own space */
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) #toc {
			position: fixed;
			top: 0; bottom: 0;
			left: 0;
			width: 23.5em;
			overflow: auto;
			padding: 0 1em;
			padding-left: 42px;
			padding-left: calc(1em + 26px);
			background: inherit;
			background-color: #f7f8f9;
			z-index: 1;
			box-shadow: -.1em 0 .25em rgba(0,0,0,.1) inset;
		}
		body:not(.toc-inline) #toc h2 {
			margin-top: .8rem;
			font-variant: small-caps;
			font-variant: all-small-caps;
			text-transform: lowercase;
			font-weight: bold;
			color: gray;
			color: hsla(203,20%,40%,.7);
		}

		body:not(.toc-inline) {
			padding-left: 29em;
		}
		/* See also Overflow section at the bottom */

		body:not(.toc-inline) #toc-jump:not(:focus) {
			width: 0;
			height: 0;
			padding: 0;
			position: absolute;
			overflow: hidden;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) {
			margin: 0 4em;
		}
	}

/******************************************************************************/
/*                                Sectioning                                  */
/******************************************************************************/

/** Headings ******************************************************************/

	h1, h2, h3, h4, h5, h6, dt {
		page-break-after: avoid;
		page-break-inside: avoid;
		font: 100% sans-serif;   /* Reset all font styling to clear out UA styles */
		font-family: inherit;    /* Inherit the font family. */
		line-height: 1.2;        /* Keep wrapped headings compact */
		hyphens: manual;         /* Hyphenated headings look weird */
	}

	h2, h3, h4, h5, h6 {
		margin-top: 3rem;
	}

	h1, h2, h3 {
		color: #005A9C;
		background: transparent;
	}

	h1 { font-size: 170%; }
	h2 { font-size: 140%; }
	h3 { font-size: 120%; }
	h4 { font-weight: bold; }
	h5 { font-style: italic; }
	h6 { font-variant: small-caps; }
	dt { font-weight: bold; }

/** Subheadings ***************************************************************/

	h1 + h2,
	#subtitle {
		/* #subtitle is a subtitle in an H2 under the H1 */
		margin-top: 0;
	}
	h2 + h3,
	h3 + h4,
	h4 + h5,
	h5 + h6 {
		margin-top: 1.2em; /* = 1 x line-height */
	}

/** Section divider ***********************************************************/

	:not(.head) > hr {
		font-size: 1.5em;
		text-align: center;
		margin: 1em auto;
		height: auto;
		border: transparent solid 0;
		background: transparent;
	}
	:not(.head) > hr::before {
		content: "\2727\2003\2003\2727\2003\2003\2727";
	}

/******************************************************************************/
/*                            Paragraphs and Lists                            */
/******************************************************************************/

	p {
		margin: 1em 0;
	}

	dd > p:first-child,
	li > p:first-child {
		margin-top: 0;
	}

	ul, ol {
		margin-left: 0;
		padding-left: 2em;
	}

	li {
		margin: 0.25em 0 0.5em;
		padding: 0;
	}

	dl dd {
		margin: 0 0 .5em 2em;
	}

	.head dd + dd { /* compact for header */
		margin-top: -.5em;
	}

	/* Style for algorithms */
	ol.algorithm ol:not(.algorithm),
	.algorithm > ol ol:not(.algorithm) {
	 border-left: 0.5em solid #DEF;
	}

	/* Put nice boxes around each algorithm. */
	[data-algorithm]:not(.heading) {
	  padding: .5em;
	  border: thin solid #ddd; border-radius: .5em;
	  margin: .5em calc(-0.5em - 1px);
	}
	[data-algorithm]:not(.heading) > :first-child {
	  margin-top: 0;
	}
	[data-algorithm]:not(.heading) > :last-child {
	  margin-bottom: 0;
	}

	/* Style for switch/case <dl>s */
	dl.switch > dd > ol.only,
	dl.switch > dd > .only > ol {
	 margin-left: 0;
	}
	dl.switch > dd > ol.algorithm,
	dl.switch > dd > .algorithm > ol {
	 margin-left: -2em;
	}
	dl.switch {
	 padding-left: 2em;
	}
	dl.switch > dt {
	 text-indent: -1.5em;
	 margin-top: 1em;
	}
	dl.switch > dt + dt {
	 margin-top: 0;
	}
	dl.switch > dt::before {
	 content: '\21AA';
	 padding: 0 0.5em 0 0;
	 display: inline-block;
	 width: 1em;
	 text-align: right;
	 line-height: 0.5em;
	}

/** Terminology Markup ********************************************************/


/******************************************************************************/
/*                                 Inline Markup                              */
/******************************************************************************/

/** Terminology Markup ********************************************************/
	dfn   { /* Defining instance */
		font-weight: bolder;
	}
	a > i { /* Instance of term */
		font-style: normal;
	}
	dt dfn code, code.idl {
		font-size: medium;
	}
	dfn var {
		font-style: normal;
	}

/** Change Marking ************************************************************/

	del { color: red;  text-decoration: line-through; }
	ins { color: #080; text-decoration: underline;    }

/** Miscellaneous improvements to inline formatting ***************************/

	sup {
		vertical-align: super;
		font-size: 80%
	}

/******************************************************************************/
/*                                    Code                                    */
/******************************************************************************/

/** General monospace/pre rules ***********************************************/

	pre, code, samp {
		font-family: Menlo, Consolas, "DejaVu Sans Mono", Monaco, monospace;
		font-size: .9em;
		page-break-inside: avoid;
		hyphens: none;
		text-transform: none;
	}
	pre code,
	code code {
		font-size: 100%;
	}

	pre {
		margin-top: 1em;
		margin-bottom: 1em;
		overflow: auto;
	}

/** Inline Code fragments *****************************************************/

  /* Do something nice. */

/******************************************************************************/
/*                                    Links                                   */
/******************************************************************************/

/** General Hyperlinks ********************************************************/

	/* We hyperlink a lot, so make it less intrusive */
	a[href] {
		color: #034575;
		text-decoration: none;
		border-bottom: 1px solid #707070;
		/* Need a bit of extending for it to look okay */
		padding: 0 1px 0;
		margin: 0 -1px 0;
	}
	a:visited {
		border-bottom-color: #BBB;
	}

	/* Use distinguishing colors when user is interacting with the link */
	a[href]:focus,
	a[href]:hover {
		background: #f8f8f8;
		background: rgba(75%, 75%, 75%, .25);
		border-bottom-width: 3px;
		margin-bottom: -2px;
	}
	a[href]:active {
		color: #C00;
		border-color: #C00;
	}

	/* Backout above styling for W3C logo */
	.head .logo,
	.head .logo a {
		border: none;
		text-decoration: none;
		background: transparent;
	}

/******************************************************************************/
/*                                    Images                                  */
/******************************************************************************/

	img {
		border-style: none;
	}

	/* For autogen numbers, add
	   .caption::before, figcaption::before { content: "Figure " counter(figure) ". "; }
	*/

	figure, .figure, .sidefigure {
		page-break-inside: avoid;
		text-align: center;
		margin: 2.5em 0;
	}
	.figure img,    .sidefigure img,    figure img,
	.figure object, .sidefigure object, figure object {
		max-width: 100%;
		margin: auto;
	}
	.figure pre, .sidefigure pre, figure pre {
		text-align: left;
		display: table;
		margin: 1em auto;
	}
	.figure table, figure table {
		margin: auto;
	}
	@media screen and (min-width: 20em) {
		.sidefigure {
			float: right;
			width: 50%;
			margin: 0 0 0.5em 0.5em
		}
	}
	.caption, figcaption, caption {
		font-style: italic;
		font-size: 90%;
	}
	.caption::before, figcaption::before, figcaption > .marker {
		font-weight: bold;
	}
	.caption, figcaption {
		counter-increment: figure;
	}

	/* DL list is indented 2em, but figure inside it is not */
	dd > .figure, dd > figure { margin-left: -2em }

/******************************************************************************/
/*                             Colored Boxes                                  */
/******************************************************************************/

	.issue, .note, .example, .assertion, .advisement, blockquote {
		padding: .5em;
		border: .5em;
		border-left-style: solid;
		page-break-inside: avoid;
	}
	span.issue, span.note {
		padding: .1em .5em .15em;
		border-right-style: solid;
	}

	.issue,
	.note,
	.example,
	.advisement,
	.assertion,
	blockquote {
		margin: 1em auto;
	}
	.note  > p:first-child,
	.issue > p:first-child,
	blockquote > :first-child {
		margin-top: 0;
	}
	blockquote > :last-child {
		margin-bottom: 0;
	}

/** Blockquotes ***************************************************************/

	blockquote {
		border-color: silver;
	}

/** Open issue ****************************************************************/

	.issue {
		border-color: #E05252;
		background: #FBE9E9;
		counter-increment: issue;
		overflow: auto;
	}
	.issue::before, .issue > .marker {
		text-transform: uppercase;
		color: #AE1E1E;
		padding-right: 1em;
		text-transform: uppercase;
	}
	/* Add .issue::before { content: "Issue " counter(issue) " "; } for autogen numbers,
	   or use class="marker" to mark up the issue number in source. */

/** Example *******************************************************************/

	.example {
		border-color: #E0CB52;
		background: #FCFAEE;
		counter-increment: example;
		overflow: auto;
		clear: both;
	}
	.example::before, .example > .marker {
		text-transform: uppercase;
		color: #827017;
		min-width: 7.5em;
		display: block;
	}
	/* Add .example::before { content: "Example " counter(example) " "; } for autogen numbers,
	   or use class="marker" to mark up the example number in source. */

/** Non-normative Note ********************************************************/

	.note {
		border-color: #52E052;
		background: #E9FBE9;
		overflow: auto;
	}

	.note::before, .note > .marker,
	details.note > summary::before,
	details.note > summary > .marker {
		text-transform: uppercase;
		display: block;
		color: hsl(120, 70%, 30%);
	}
	/* Add .note::before { content: "Note"; } for autogen label,
	   or use class="marker" to mark up the label in source. */

	details.note > summary {
		display: block;
		color: hsl(120, 70%, 30%);
	}
	details.note[open] > summary {
		border-bottom: 1px silver solid;
	}

/** Assertion Box *************************************************************/
	/*  for assertions in algorithms */

	.assertion {
		border-color: #AAA;
		background: #EEE;
	}

/** Advisement Box ************************************************************/
	/*  for attention-grabbing normative statements */

	.advisement {
		border-color: orange;
		border-style: none solid;
		background: #FFEECC;
	}
	strong.advisement {
		display: block;
		text-align: center;
	}
	.advisement > .marker {
		color: #B35F00;
	}

/** Spec Obsoletion Notice ****************************************************/
	/* obnoxious obsoletion notice for older/abandoned specs. */

	details {
		display: block;
	}
	summary {
		font-weight: bolder;
	}

	.annoying-warning:not(details),
	details.annoying-warning:not([open]) > summary,
	details.annoying-warning[open] {
		background: #fdd;
		color: red;
		font-weight: bold;
		padding: .75em 1em;
		border: thick red;
		border-style: solid;
		border-radius: 1em;
	}
	.annoying-warning :last-child {
		margin-bottom: 0;
	}

@media not print {
	details.annoying-warning[open] {
		position: fixed;
		left: 1em;
		right: 1em;
		bottom: 1em;
		z-index: 1000;
	}
}

	details.annoying-warning:not([open]) > summary {
		text-align: center;
	}

/** Entity Definition Boxes ***************************************************/

	.def {
		padding: .5em 1em;
		background: #DEF;
		margin: 1.2em 0;
		border-left: 0.5em solid #8CCBF2;
	}

/******************************************************************************/
/*                                    Tables                                  */
/******************************************************************************/

	th, td {
		text-align: left;
		text-align: start;
	}

/** Property/Descriptor Definition Tables *************************************/

	table.def {
		/* inherits .def box styling, see above */
		width: 100%;
		border-spacing: 0;
	}

	table.def td,
	table.def th {
		padding: 0.5em;
		vertical-align: baseline;
		border-bottom: 1px solid #bbd7e9;
	}

	table.def > tbody > tr:last-child th,
	table.def > tbody > tr:last-child td {
		border-bottom: 0;
	}

	table.def th {
		font-style: italic;
		font-weight: normal;
		padding-left: 1em;
		width: 3em;
	}

	/* For when values are extra-complex and need formatting for readability */
	table td.pre {
		white-space: pre-wrap;
	}

	/* A footnote at the bottom of a def table */
	table.def           td.footnote {
		padding-top: 0.6em;
	}
	table.def           td.footnote::before {
		content: " ";
		display: block;
		height: 0.6em;
		width: 4em;
		border-top: thin solid;
	}

/** Data tables (and properly marked-up index tables) *************************/
	/*
		 <table class="data"> highlights structural relationships in a table
		 when correct markup is used (e.g. thead/tbody, th vs. td, scope attribute)

		 Use class="complex data" for particularly complicated tables --
		 (This will draw more lines: busier, but clearer.)

		 Use class="long" on table cells with paragraph-like contents
		 (This will adjust text alignment accordingly.)
		 Alternately use class="longlastcol" on tables, to have the last column assume "long".
	*/

	table {
		word-wrap: normal;
		overflow-wrap: normal;
		hyphens: manual;
	}

	table.data,
	table.index {
		margin: 1em auto;
		border-collapse: collapse;
		border: hidden;
		width: 100%;
	}
	table.data caption,
	table.index caption {
		max-width: 50em;
		margin: 0 auto 1em;
	}

	table.data td,  table.data th,
	table.index td, table.index th {
		padding: 0.5em 1em;
		border-width: 1px;
		border-color: silver;
		border-top-style: solid;
	}

	table.data thead td:empty {
		padding: 0;
		border: 0;
	}

	table.data  thead,
	table.index thead,
	table.data  tbody,
	table.index tbody {
		border-bottom: 2px solid;
	}

	table.data colgroup,
	table.index colgroup {
		border-left: 2px solid;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		border-right: 2px solid;
		border-top: 1px solid silver;
		padding-right: 1em;
	}

	table.data th[colspan],
	table.data td[colspan] {
		text-align: center;
	}

	table.complex.data th,
	table.complex.data td {
		border: 1px solid silver;
		text-align: center;
	}

	table.data.longlastcol td:last-child,
	table.data td.long {
	 vertical-align: baseline;
	 text-align: left;
	}

	table.data img {
		vertical-align: middle;
	}


/*
Alternate table alignment rules

	table.data,
	table.index {
		text-align: center;
	}

	table.data  thead th[scope="row"],
	table.index thead th[scope="row"] {
		text-align: right;
	}

	table.data  tbody th:first-child,
	table.index tbody th:first-child  {
		text-align: right;
	}

Possible extra rowspan handling

	table.data  tbody th[rowspan]:not([rowspan='1']),
	table.index tbody th[rowspan]:not([rowspan='1']),
	table.data  tbody td[rowspan]:not([rowspan='1']),
	table.index tbody td[rowspan]:not([rowspan='1']) {
		border-left: 1px solid silver;
	}

	table.data  tbody th[rowspan]:first-child,
	table.index tbody th[rowspan]:first-child,
	table.data  tbody td[rowspan]:first-child,
	table.index tbody td[rowspan]:first-child{
		border-left: 0;
		border-right: 1px solid silver;
	}
*/

/******************************************************************************/
/*                                  Indices                                   */
/******************************************************************************/


/** Table of Contents *********************************************************/

	.toc a {
		/* More spacing; use padding to make it part of the click target. */
		padding-top: 0.1rem;
		/* Larger, more consistently-sized click target */
		display: block;
		/* Reverse color scheme */
		color: black;
		border-color: #3980B5;
		border-bottom-width: 3px !important;
		margin-bottom: 0px !important;
	}
	.toc a:visited {
		border-color: #054572;
	}
	.toc a:not(:focus):not(:hover) {
		/* Allow colors to cascade through from link styling */
		border-bottom-color: transparent;
	}

	.toc, .toc ol, .toc ul, .toc li {
		list-style: none; /* Numbers must be inlined into source */
		/* because generated content isn't search/selectable and markers can't do multilevel yet */
		margin:  0;
		padding: 0;
		line-height: 1.1rem; /* consistent spacing */
	}

	/* ToC not indented until third level, but font style & margins show hierarchy */
	.toc > li             { font-weight: bold;   }
	.toc > li li          { font-weight: normal; }
	.toc > li li li       { font-size:   95%;    }
	.toc > li li li li    { font-size:   90%;    }
	.toc > li li li li .secno { font-size: 85%; }
	.toc > li li li li li { font-size:   85%;    }
	.toc > li li li li li .secno { font-size: 100%; }

	/* @supports not (display:grid) { */
		.toc > li             { margin: 1.5rem 0;    }
		.toc > li li          { margin: 0.3rem 0;    }
		.toc > li li li       { margin-left: 2rem;   }

		/* Section numbers in a column of their own */
		.toc .secno {
			float: left;
			width: 4rem;
			white-space: nowrap;
		}

		.toc li {
			clear: both;
		}

		:not(li) > .toc              { margin-left:  5rem; }
		.toc .secno                  { margin-left: -5rem; }
		.toc > li li li .secno       { margin-left: -7rem; }
		.toc > li li li li .secno    { margin-left: -9rem; }
		.toc > li li li li li .secno { margin-left: -11rem; }

		/* Tighten up indentation in narrow ToCs */
		@media (max-width: 30em) {
			:not(li) > .toc              { margin-left:  4rem; }
			.toc .secno                  { margin-left: -4rem; }
			.toc > li li li              { margin-left:  1rem; }
			.toc > li li li .secno       { margin-left: -5rem; }
			.toc > li li li li .secno    { margin-left: -6rem; }
			.toc > li li li li li .secno { margin-left: -7rem; }
		}
	/* } */

	@supports (display:grid) {
		/* Use #toc over .toc to override non-@supports rules. */
		#toc {
			display: grid;
			align-content: start;
			grid-template-columns: auto 1fr;
			grid-column-gap: 1rem;
			column-gap: 1rem;
			grid-row-gap: .6rem;
			row-gap: .6rem;
		}
		#toc h2 {
			grid-column: 1 / -1;
			margin-bottom: 0;
		}
		#toc ol,
		#toc li,
		#toc a {
			display: contents;
			/* Switch <a> to subgrid when supported */
		}
		#toc span {
			margin: 0;
		}
		#toc > .toc > li > a > span {
			/* The spans of the top-level list,
			   comprising the first items of each top-level section. */
			margin-top: 1.1rem;
		}
		#toc#toc .secno { /* Ugh, need more specificity to override base.css */
			grid-column: 1;
			width: auto;
			margin-left: 0;
		}
		#toc .content {
			grid-column: 2;
			width: auto;
			margin-right: 1rem;
		}
		#toc .content:hover {
			background: rgba(75%, 75%, 75%, .25);
			border-bottom: 3px solid #054572;
			margin-bottom: -3px;
		}
		#toc li li li .content {
			margin-left: 1rem;
		}
		#toc li li li li .content {
			margin-left: 2rem;
		}
	}


/** Index *********************************************************************/

	/* Index Lists: Layout */
	ul.index       { margin-left: 0; columns: 15em; text-indent: 1em hanging; }
	ul.index li    { margin-left: 0; list-style: none; break-inside: avoid; }
	ul.index li li { margin-left: 1em }
	ul.index dl    { margin-top: 0; }
	ul.index dt    { margin: .2em 0 .2em 20px;}
	ul.index dd    { margin: .2em 0 .2em 40px;}
	/* Index Lists: Typography */
	ul.index ul,
	ul.index dl { font-size: smaller; }
	@media not print {
		ul.index li span {
			white-space: nowrap;
			color: transparent; }
		ul.index li a:hover + span,
		ul.index li a:focus + span {
			color: #707070;
		}
	}

/** Index Tables *****************************************************/
	/* See also the data table styling section, which this effectively subclasses */

	table.index {
		font-size: small;
		border-collapse: collapse;
		border-spacing: 0;
		text-align: left;
		margin: 1em 0;
	}

	table.index td,
	table.index th {
		padding: 0.4em;
	}

	table.index tr:hover td:not([rowspan]),
	table.index tr:hover th:not([rowspan]) {
		background: #f7f8f9;
	}

	/* The link in the first column in the property table (formerly a TD) */
	table.index th:first-child a {
		font-weight: bold;
	}

/******************************************************************************/
/*                                    Print                                   */
/******************************************************************************/

	@media print {
		/* Pages have their own margins. */
		html {
			margin: 0;
		}
		/* Serif for print. */
		body {
			font-family: serif;
		}
	}
	@page {
		margin: 1.5cm 1.1cm;
	}

/******************************************************************************/
/*                                    Legacy                                  */
/******************************************************************************/

	/* This rule is inherited from past style sheets. No idea what it's for. */
	.hide { display: none }



/******************************************************************************/
/*                             Overflow Control                               */
/******************************************************************************/

	.figure .caption, .sidefigure .caption, figcaption {
		/* in case figure is overlarge, limit caption to 50em */
		max-width: 50rem;
		margin-left: auto;
		margin-right: auto;
	}
	.overlarge > table {
		/* limit preferred width of table */
		max-width: 50em;
		margin-left: auto;
		margin-right: auto;
	}

	@media (min-width: 55em) {
		.overlarge {
			margin-left: calc(13px + 26.5rem - 50vw);
			margin-right: calc(13px + 26.5rem - 50vw);
			max-width: none;
		}
	}
	@media screen and (min-width: 78em) {
		body:not(.toc-inline) .overlarge {
			/* 30.5em body padding 50em content area */
			margin-left: calc(40em - 50vw) !important;
			margin-right: calc(40em - 50vw) !important;
		}
	}
	@media screen and (min-width: 90em) {
		body:not(.toc-inline) .overlarge {
			/* 4em html margin 30.5em body padding 50em content area */
			margin-left: 0 !important;
			margin-right: calc(84.5em - 100vw) !important;
		}
	}

	@media not print {
		.overlarge {
			overflow-x: auto;
			/* See Lea Verou's explanation background-attachment:
			 * http://lea.verou.me/2012/04/background-attachment-local/
			 *
			background: top left  / 4em 100% linear-gradient(to right,  #ffffff, rgba(255, 255, 255, 0)) local,
			            top right / 4em 100% linear-gradient(to left, #ffffff, rgba(255, 255, 255, 0)) local,
			            top left  / 1em 100% linear-gradient(to right,  #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            top right / 1em 100% linear-gradient(to left, #c3c3c5, rgba(195, 195, 197, 0)) scroll,
			            white;
			background-repeat: no-repeat;
			*/
		}
	}
</style>
  <link href="https://www.w3.org/StyleSheets/TR/2016/W3C-w3c/ED" rel="stylesheet" type="text/css">
  <meta content="Bikeshed version d76ab51ece93be5af3a1621c820b89fd4f9cc432" name="generator">
  <link href="https://www.w3.org/TR/webxr/" rel="canonical">
<style>
  .unstable::before {
    content: "This section is not stable";
    display: block;
    font-weight: bold;
    text-align: right;
    color: red;
  }
  .unstable {
    border: thin solid pink;
    border-radius: .5em;
    padding: .5em;
    margin: .5em calc(-0.5em - 1px);
    background-image: url("data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' width='300' height='290'><text transform='rotate(-45)' text-anchor='middle' font-family='sans-serif' font-weight='bold' font-size='70' y='210' opacity='.1'>Unstable</text></svg>");
    background-repeat: repeat;
    background-color: #FFF4F4;
  }
  .unstable h3:first-of-type {
    margin-top: 0.5rem;
  }

  .unstable.example:not(.no-marker)::before {
    content: "Example " counter(example) " (Unstable)";
    float: none;
  }

  .non-normative::before {
    content: "This section is non-normative.";
    font-style: italic;
  }
</style>
<style>/* style-md-lists */

/* This is a weird hack for me not yet following the commonmark spec
   regarding paragraph and lists. */
[data-md] > :first-child {
    margin-top: 0;
}
[data-md] > :last-child {
    margin-bottom: 0;
}</style>
<style>/* style-selflinks */

.heading, .issue, .note, .example, li, dt {
    position: relative;
}
a.self-link {
    position: absolute;
    top: 0;
    left: calc(-1 * (3.5rem - 26px));
    width: calc(3.5rem - 26px);
    height: 2em;
    text-align: center;
    border: none;
    transition: opacity .2s;
    opacity: .5;
}
a.self-link:hover {
    opacity: 1;
}
.heading > a.self-link {
    font-size: 83%;
}
li > a.self-link {
    left: calc(-1 * (3.5rem - 26px) - 2em);
}
dfn > a.self-link {
    top: auto;
    left: auto;
    opacity: 0;
    width: 1.5em;
    height: 1.5em;
    background: gray;
    color: white;
    font-style: normal;
    transition: opacity .2s, background-color .2s, color .2s;
}
dfn:hover > a.self-link {
    opacity: 1;
}
dfn > a.self-link:hover {
    color: black;
}

a.self-link::before            { content: "¶"; }
.heading > a.self-link::before { content: "§"; }
dfn > a.self-link::before      { content: "#"; }</style>
<style>/* style-counters */

body {
    counter-reset: example figure issue;
}
.issue {
    counter-increment: issue;
}
.issue:not(.no-marker)::before {
    content: "Issue " counter(issue);
}

.example {
    counter-increment: example;
}
.example:not(.no-marker)::before {
    content: "Example " counter(example);
}
.invalid.example:not(.no-marker)::before,
.illegal.example:not(.no-marker)::before {
    content: "Invalid Example" counter(example);
}

figcaption {
    counter-increment: figure;
}
figcaption:not(.no-marker)::before {
    content: "Figure " counter(figure) " ";
}</style>
<style>/* style-var-click-highlighting */

    var { cursor: pointer; }
    var.selected0 { background-color: #F4D200; box-shadow: 0 0 0 2px #F4D200; }
    var.selected1 { background-color: #FF87A2; box-shadow: 0 0 0 2px #FF87A2; }
    var.selected2 { background-color: #96E885; box-shadow: 0 0 0 2px #96E885; }
    var.selected3 { background-color: #3EEED2; box-shadow: 0 0 0 2px #3EEED2; }
    var.selected4 { background-color: #EACFB6; box-shadow: 0 0 0 2px #EACFB6; }
    var.selected5 { background-color: #82DDFF; box-shadow: 0 0 0 2px #82DDFF; }
    var.selected6 { background-color: #FFBCF2; box-shadow: 0 0 0 2px #FFBCF2; }
    </style>
<style>/* style-autolinks */

.css.css, .property.property, .descriptor.descriptor {
    color: #005a9c;
    font-size: inherit;
    font-family: inherit;
}
.css::before, .property::before, .descriptor::before {
    content: "‘";
}
.css::after, .property::after, .descriptor::after {
    content: "’";
}
.property, .descriptor {
    /* Don't wrap property and descriptor names */
    white-space: nowrap;
}
.type { /* CSS value <type> */
    font-style: italic;
}
pre .property::before, pre .property::after {
    content: "";
}
[data-link-type="property"]::before,
[data-link-type="propdesc"]::before,
[data-link-type="descriptor"]::before,
[data-link-type="value"]::before,
[data-link-type="function"]::before,
[data-link-type="at-rule"]::before,
[data-link-type="selector"]::before,
[data-link-type="maybe"]::before {
    content: "‘";
}
[data-link-type="property"]::after,
[data-link-type="propdesc"]::after,
[data-link-type="descriptor"]::after,
[data-link-type="value"]::after,
[data-link-type="function"]::after,
[data-link-type="at-rule"]::after,
[data-link-type="selector"]::after,
[data-link-type="maybe"]::after {
    content: "’";
}

[data-link-type].production::before,
[data-link-type].production::after,
.prod [data-link-type]::before,
.prod [data-link-type]::after {
    content: "";
}

[data-link-type=element],
[data-link-type=element-attr] {
    font-family: Menlo, Consolas, "DejaVu Sans Mono", monospace;
    font-size: .9em;
}
[data-link-type=element]::before { content: "<" }
[data-link-type=element]::after  { content: ">" }

[data-link-type=biblio] {
    white-space: pre;
}</style>
<style>/* style-dfn-panel */

.dfn-panel {
    position: absolute;
    z-index: 35;
    height: auto;
    width: -webkit-fit-content;
    width: fit-content;
    max-width: 300px;
    max-height: 500px;
    overflow: auto;
    padding: 0.5em 0.75em;
    font: small Helvetica Neue, sans-serif, Droid Sans Fallback;
    background: #DDDDDD;
    color: black;
    border: outset 0.2em;
}
.dfn-panel:not(.on) { display: none; }
.dfn-panel * { margin: 0; padding: 0; text-indent: 0; }
.dfn-panel > b { display: block; }
.dfn-panel a { color: black; }
.dfn-panel a:not(:hover) { text-decoration: none !important; border-bottom: none !important; }
.dfn-panel > b + b { margin-top: 0.25em; }
.dfn-panel ul { padding: 0; }
.dfn-panel li { list-style: inside; }
.dfn-panel.activated {
    display: inline-block;
    position: fixed;
    left: .5em;
    bottom: 2em;
    margin: 0 auto;
    max-width: calc(100vw - 1.5em - .4em - .5em);
    max-height: 30vh;
}

.dfn-paneled { cursor: pointer; }
</style>
<style>/* style-syntax-highlighting */
pre.idl.highlight { color: #708090; }
.highlight:not(.idl) { background: hsl(24, 20%, 95%); }
code.highlight { padding: .1em; border-radius: .3em; }
pre.highlight, pre > code.highlight { display: block; padding: 1em; margin: .5em 0; overflow: auto; border-radius: 0; }
c-[a] { color: #990055 } /* Keyword.Declaration */
c-[b] { color: #990055 } /* Keyword.Type */
c-[c] { color: #708090 } /* Comment */
c-[d] { color: #708090 } /* Comment.Multiline */
c-[e] { color: #0077aa } /* Name.Attribute */
c-[f] { color: #669900 } /* Name.Tag */
c-[g] { color: #222222 } /* Name.Variable */
c-[k] { color: #990055 } /* Keyword */
c-[l] { color: #000000 } /* Literal */
c-[m] { color: #000000 } /* Literal.Number */
c-[n] { color: #0077aa } /* Name */
c-[o] { color: #999999 } /* Operator */
c-[p] { color: #999999 } /* Punctuation */
c-[s] { color: #a67f59 } /* Literal.String */
c-[t] { color: #a67f59 } /* Literal.String.Single */
c-[u] { color: #a67f59 } /* Literal.String.Double */
c-[cp] { color: #708090 } /* Comment.Preproc */
c-[c1] { color: #708090 } /* Comment.Single */
c-[cs] { color: #708090 } /* Comment.Special */
c-[kc] { color: #990055 } /* Keyword.Constant */
c-[kn] { color: #990055 } /* Keyword.Namespace */
c-[kp] { color: #990055 } /* Keyword.Pseudo */
c-[kr] { color: #990055 } /* Keyword.Reserved */
c-[ld] { color: #000000 } /* Literal.Date */
c-[nc] { color: #0077aa } /* Name.Class */
c-[no] { color: #0077aa } /* Name.Constant */
c-[nd] { color: #0077aa } /* Name.Decorator */
c-[ni] { color: #0077aa } /* Name.Entity */
c-[ne] { color: #0077aa } /* Name.Exception */
c-[nf] { color: #0077aa } /* Name.Function */
c-[nl] { color: #0077aa } /* Name.Label */
c-[nn] { color: #0077aa } /* Name.Namespace */
c-[py] { color: #0077aa } /* Name.Property */
c-[ow] { color: #999999 } /* Operator.Word */
c-[mb] { color: #000000 } /* Literal.Number.Bin */
c-[mf] { color: #000000 } /* Literal.Number.Float */
c-[mh] { color: #000000 } /* Literal.Number.Hex */
c-[mi] { color: #000000 } /* Literal.Number.Integer */
c-[mo] { color: #000000 } /* Literal.Number.Oct */
c-[sb] { color: #a67f59 } /* Literal.String.Backtick */
c-[sc] { color: #a67f59 } /* Literal.String.Char */
c-[sd] { color: #a67f59 } /* Literal.String.Doc */
c-[se] { color: #a67f59 } /* Literal.String.Escape */
c-[sh] { color: #a67f59 } /* Literal.String.Heredoc */
c-[si] { color: #a67f59 } /* Literal.String.Interpol */
c-[sx] { color: #a67f59 } /* Literal.String.Other */
c-[sr] { color: #a67f59 } /* Literal.String.Regex */
c-[ss] { color: #a67f59 } /* Literal.String.Symbol */
c-[vc] { color: #0077aa } /* Name.Variable.Class */
c-[vg] { color: #0077aa } /* Name.Variable.Global */
c-[vi] { color: #0077aa } /* Name.Variable.Instance */
c-[il] { color: #000000 } /* Literal.Number.Integer.Long */
</style>
 <body class="h-entry">
  <div class="head">
   <p data-fill-with="logo"><a class="logo" href="https://www.w3.org/"> <img alt="W3C" height="48" src="https://www.w3.org/StyleSheets/TR/2016/logos/W3C" width="72"> </a> </p>
   <h1 class="p-name no-ref" id="title">WebXR Device API</h1>
   <h2 class="no-num no-toc no-ref heading settled" id="subtitle"><span class="content">Editor’s Draft, <time class="dt-updated" datetime="2019-02-06">6 February 2019</time></span></h2>
   <div data-fill-with="spec-metadata">
    <dl>
     <dt>This version:
     <dd><a class="u-url" href="https://immersive-web.github.io/webxr/">https://immersive-web.github.io/webxr/</a>
     <dt>Latest published version:
     <dd><a href="https://www.w3.org/TR/webxr/">https://www.w3.org/TR/webxr/</a>
     <dt>Issue Tracking:
     <dd><a href="https://github.com/immersive-web/webxr/issues/">GitHub</a>
     <dt class="editor">Editors:
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:bajones@google.com">Brandon Jones</a> (<a class="p-org org" href="http://google.com/">Google</a>)
     <dd class="editor p-author h-card vcard"><a class="p-name fn u-email email" href="mailto:nhw@amazon.com">Nell Waliczek</a> (<a class="p-org org" href="https://amazon.com/">Amazon [Microsoft until 2018]</a>)
     <dd class="editor p-author h-card vcard"><span class="p-name fn"></span>
     <dt>Participate:
     <dd><a href="https://github.com/immersive-web/webxr/issues/new">File an issue</a> (<a href="https://github.com/immersive-web/webxr/issues">open issues</a>)
     <dd><a href="https://lists.w3.org/Archives/Public/public-immersive-web/">Mailing list archive</a>
     <dd><a href="irc://irc.w3.org:6665/">W3C’s #immersive-web IRC</a>
     <dd>
    </dl>
   </div>
   <div data-fill-with="warning">
    <details class="annoying-warning" open>
     <summary>Unstable API</summary>
     <p><b>Parts of the API represented in this document are incomplete and may change at any time.</b></p>
     <p>While this specification is under development some concepts may be represented better by the <a href="https://github.com/w3c/webvr/blob/master/explainer.md">WebXR Device API Explainer</a>.</p>
    </details>
   </div>
   <p class="copyright" data-fill-with="copyright"><a href="http://www.w3.org/Consortium/Legal/ipr-notice#Copyright">Copyright</a> © 2019 <a href="http://www.w3.org/"><abbr title="World Wide Web Consortium">W3C</abbr></a><sup>®</sup> (<a href="http://www.csail.mit.edu/"><abbr title="Massachusetts Institute of Technology">MIT</abbr></a>, <a href="http://www.ercim.eu/"><abbr title="European Research Consortium for Informatics and Mathematics">ERCIM</abbr></a>, <a href="http://www.keio.ac.jp/">Keio</a>, <a href="http://ev.buaa.edu.cn/">Beihang</a>). W3C <a href="http://www.w3.org/Consortium/Legal/ipr-notice#Legal_Disclaimer">liability</a>, <a href="http://www.w3.org/Consortium/Legal/ipr-notice#W3C_Trademarks">trademark</a> and <a href="http://www.w3.org/Consortium/Legal/2015/copyright-software-and-document" rel="license">permissive document license</a> rules apply. </p>
   <hr title="Separator for header">
  </div>
  <div class="p-summary" data-fill-with="abstract">
   <h2 class="no-num no-toc no-ref heading settled" id="abstract"><span class="content">Abstract</span></h2>
   <p>This specification describes support for accessing virtual reality (VR) and augmented reality (AR) devices, including sensors and head-mounted displays, on the Web.</p>
  </div>
  <h2 class="no-num no-toc no-ref heading settled" id="status"><span class="content">Status of this document</span></h2>
  <div data-fill-with="status">
   <p> <em>This section describes the status of this document at the time of its publication. Other
    documents may supersede this document. A list of current <abbr title="World Wide Web Consortium">W3C</abbr> publications and the latest revision of this
    technical report can be found in the <a href="http://www.w3.org/TR/"><abbr title="World Wide Web Consortium">W3C</abbr> technical
    reports index</a> at http://www.w3.org/TR/.</em> </p>
   <p> This document was published by the <a href="https://www.w3.org/immersive-web/">Immersive Web Working Group</a> as an Editors' Draft. This document is intended to become a W3C Recommendation.

    Feedback and comments on this specification are welcome. Please use <a href="https://github.com/immersive-web/webxr/issues">Github issues</a>.
    Discussions may also be found in the <a href="http://lists.w3.org/Archives/Public/public-immersive-web/">public-immersive-web@w3.org archives</a>. </p>
   <p> Publication as an Editors' Draft does not imply endorsement by the <abbr title="World Wide Web Consortium">W3C</abbr> Membership. This is a draft document and may
    be updated, replaced or obsoleted by other documents at any time. It is inappropriate to cite
    this document as other than work in progress. </p>
   <p> This document was produced by a group operating under the <a href="http://www.w3.org/Consortium/Patent-Policy/"> <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. <abbr title="World Wide Web Consortium">W3C</abbr> maintains a <a href="https://www.w3.org/2004/01/pp-impl/109735/status" rel="disclosure">public list of any
    patent disclosures</a> made in connection with the deliverables of the group; that page also
    includes instructions for disclosing a patent. An individual who has actual knowledge of a
    patent which the individual believes contains <a href="http://www.w3.org/Consortium/Patent-Policy/#def-essential">Essential
    Claim(s)</a> must disclose the information in accordance with <a href="http://www.w3.org/Consortium/Patent-Policy/#sec-Disclosure">section 6 of the <abbr title="World Wide Web Consortium">W3C</abbr> Patent Policy</a>. </p>
   <p> This document is governed by the <a href="https://www.w3.org/2018/Process-20180201/" id="w3c_process_revision">1 February 2018 W3C Process Document</a>. </p>
   <p></p>
  </div>
  <div data-fill-with="at-risk"></div>
  <nav data-fill-with="table-of-contents" id="toc">
   <h2 class="no-num no-toc no-ref" id="contents">Table of Contents</h2>
   <ol class="toc" role="directory">
    <li>
     <a href="#intro"><span class="secno">1</span> <span class="content">Introduction</span></a>
     <ol class="toc">
      <li><a href="#terminology"><span class="secno">1.1</span> <span class="content">Terminology</span></a>
      <li><a href="#applicationflow"><span class="secno">1.2</span> <span class="content">Application flow</span></a>
     </ol>
    <li>
     <a href="#initialization"><span class="secno">2</span> <span class="content">Initialization</span></a>
     <ol class="toc">
      <li><a href="#xr-interface"><span class="secno">2.1</span> <span class="content">XR</span></a>
     </ol>
    <li>
     <a href="#session"><span class="secno">3</span> <span class="content">Session</span></a>
     <ol class="toc">
      <li><a href="#xrsession-interface"><span class="secno">3.1</span> <span class="content">XRSession</span></a>
      <li><a href="#xrsessionmode-enum"><span class="secno">3.2</span> <span class="content">XRSessionMode</span></a>
      <li><a href="#xrsessioncreationoptions-interface"><span class="secno">3.3</span> <span class="content">XRSessionCreationOptions</span></a>
      <li><a href="#xrrenderstate-interface"><span class="secno">3.4</span> <span class="content">XRRenderState</span></a>
      <li><a href="#animation-frames"><span class="secno">3.5</span> <span class="content">Animation Frames</span></a>
      <li><a href="#compositor"><span class="secno">3.6</span> <span class="content">The XR Compositor</span></a>
     </ol>
    <li>
     <a href="#frame"><span class="secno">4</span> <span class="content">Frame Loop</span></a>
     <ol class="toc">
      <li><a href="#xrframe-interface"><span class="secno">4.1</span> <span class="content">XRFrame</span></a>
     </ol>
    <li>
     <a href="#spaces"><span class="secno">5</span> <span class="content">Spaces</span></a>
     <ol class="toc">
      <li><a href="#xrspace-interface"><span class="secno">5.1</span> <span class="content">XRSpace</span></a>
      <li><a href="#xrreferencespace-interface"><span class="secno">5.2</span> <span class="content">XRReferenceSpace</span></a>
      <li><a href="#xrstationaryreferencespace-interface"><span class="secno">5.3</span> <span class="content">XRStationaryReferenceSpace</span></a>
      <li><a href="#xrboundedreferencespace-interface"><span class="secno">5.4</span> <span class="content">XRBoundedReferenceSpace</span></a>
      <li><a href="#xrunboundedreferencespace-interface"><span class="secno">5.5</span> <span class="content">XRUnboundedReferenceSpace</span></a>
     </ol>
    <li>
     <a href="#views"><span class="secno">6</span> <span class="content">Views</span></a>
     <ol class="toc">
      <li><a href="#xrview-interface"><span class="secno">6.1</span> <span class="content">XRView</span></a>
      <li><a href="#xrviewport-interface"><span class="secno">6.2</span> <span class="content">XRViewport</span></a>
     </ol>
    <li>
     <a href="#geometricprimitives"><span class="secno">7</span> <span class="content">Geometric Primitives</span></a>
     <ol class="toc">
      <li><a href="#matrices"><span class="secno">7.1</span> <span class="content">Matrices</span></a>
      <li><a href="#xrrigidtransform-interface"><span class="secno">7.2</span> <span class="content">XRRigidTransform</span></a>
      <li><a href="#xrray-interface"><span class="secno">7.3</span> <span class="content">XRRay</span></a>
     </ol>
    <li>
     <a href="#pose"><span class="secno">8</span> <span class="content">Pose</span></a>
     <ol class="toc">
      <li><a href="#xrviewerpose-interface"><span class="secno">8.1</span> <span class="content">XRViewerPose</span></a>
     </ol>
    <li>
     <a href="#input"><span class="secno">9</span> <span class="content">Input</span></a>
     <ol class="toc">
      <li><a href="#xrinputsource-interface"><span class="secno">9.1</span> <span class="content">XRInputSource</span></a>
      <li><a href="#xrinputpose-interface"><span class="secno">9.2</span> <span class="content">XRInputPose</span></a>
     </ol>
    <li>
     <a href="#layers"><span class="secno">10</span> <span class="content">Layers</span></a>
     <ol class="toc">
      <li><a href="#xrlayer-interface"><span class="secno">10.1</span> <span class="content">XRLayer</span></a>
      <li><a href="#xrwebgllayer-interface"><span class="secno">10.2</span> <span class="content">XRWebGLLayer</span></a>
      <li><a href="#contextcompatibility"><span class="secno">10.3</span> <span class="content">WebGL Context Compatibility</span></a>
     </ol>
    <li>
     <a href="#canvas-rendering-context"><span class="secno">11</span> <span class="content">Canvas Rendering Context</span></a>
     <ol class="toc">
      <li><a href="#xrpresentationcontext-interface"><span class="secno">11.1</span> <span class="content">XRPresentationContext</span></a>
     </ol>
    <li>
     <a href="#events"><span class="secno">12</span> <span class="content">Events</span></a>
     <ol class="toc">
      <li><a href="#xrsessionevent-interface"><span class="secno">12.1</span> <span class="content">XRSessionEvent</span></a>
      <li><a href="#xrinputsourceevent-interface"><span class="secno">12.2</span> <span class="content">XRInputSourceEvent</span></a>
      <li><a href="#xrreferencespaceevent-interface"><span class="secno">12.3</span> <span class="content">XRReferenceSpaceEvent</span></a>
      <li><a href="#event-types"><span class="secno">12.4</span> <span class="content">Event Types</span></a>
     </ol>
    <li>
     <a href="#security"><span class="secno">13</span> <span class="content">Security, Privacy, and Comfort Considerations</span></a>
     <ol class="toc">
      <li><a href="#gazetracking-security"><span class="secno">13.1</span> <span class="content">Gaze Tracking</span></a>
      <li><a href="#trustedenvironment-security"><span class="secno">13.2</span> <span class="content">Trusted Environment</span></a>
      <li><a href="#contextisolation-security"><span class="secno">13.3</span> <span class="content">Context Isolation</span></a>
      <li><a href="#fingerprinting-security"><span class="secno">13.4</span> <span class="content">Fingerprinting</span></a>
     </ol>
    <li>
     <a href="#integrations"><span class="secno">14</span> <span class="content">Integrations</span></a>
     <ol class="toc">
      <li><a href="#feature-policy"><span class="secno">14.1</span> <span class="content">Feature Policy</span></a>
     </ol>
    <li><a href="#ack"><span class="secno">15</span> <span class="content">Acknowledgements</span></a>
    <li>
     <a href="#index"><span class="secno"></span> <span class="content">Index</span></a>
     <ol class="toc">
      <li><a href="#index-defined-here"><span class="secno"></span> <span class="content">Terms defined by this specification</span></a>
      <li><a href="#index-defined-elsewhere"><span class="secno"></span> <span class="content">Terms defined by reference</span></a>
     </ol>
    <li>
     <a href="#references"><span class="secno"></span> <span class="content">References</span></a>
     <ol class="toc">
      <li><a href="#normative"><span class="secno"></span> <span class="content">Normative References</span></a>
      <li><a href="#informative"><span class="secno"></span> <span class="content">Informative References</span></a>
     </ol>
    <li><a href="#idl-index"><span class="secno"></span> <span class="content">IDL Index</span></a>
   </ol>
  </nav>
  <main>
   <h2 class="heading settled" data-level="1" id="intro"><span class="secno">1. </span><span class="content">Introduction</span><a class="self-link" href="#intro"></a></h2>
   <section class="non-normative">
    <p>Hardware that enables Virtual Reality (VR) and Augmented Reality (AR) applications are now broadly available to consumers, offering an immersive computing platform with both new opportunities and challenges. The ability to interact directly with immersive hardware is critical to ensuring that the web is well equipped to operate as a first-class citizen in this environment.</p>
    <p>Immersive computing introduces strict requirements for high-precision, low-latency communication in order to deliver an acceptable experience. It also brings unique <a href="#security">security</a> concerns for a platform like the web. The WebXR Device API provides the interfaces necessary to enable developers to build compelling, comfortable, and safe immersive applications on the web across a wide variety of hardware formfactors.</p>
    <p>Other web interfaces, such as the <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/orientation-sensor/#relativeorientationsensor" id="ref-for-relativeorientationsensor">RelativeOrientationSensor</a></code> and <code class="idl"><a data-link-type="idl" href="https://w3c.github.io/orientation-sensor/#absoluteorientationsensor" id="ref-for-absoluteorientationsensor">AbsoluteOrientationSensor</a></code>, can be repurposed to surface input from some devices to polyfill the WebXR Device API in limited situations. These interfaces cannot support multiple features of high-end immersive experiences, however, such as <a data-link-type="dfn" href="#6dof" id="ref-for-6dof">6DoF</a> tracking, presentation to headset peripherals, or tracked input devices.</p>
   </section>
   <h3 class="heading settled" data-level="1.1" id="terminology"><span class="secno">1.1. </span><span class="content">Terminology</span><a class="self-link" href="#terminology"></a></h3>
   <p>This document uses the acronym <b>XR</b> throughout to refer to the spectrum of hardware, applications, and techniques used for Virtual Reality, Augmented Reality, and other related technologies. Examples include, but are not limited to:</p>
   <ul>
    <li data-md>
     <p>Head mounted displays, whether they are opaque, transparent, or utilize video passthrough</p>
    <li data-md>
     <p>Mobile devices with positional tracking</p>
    <li data-md>
     <p>Fixed displays with head tracking capabilities</p>
   </ul>
   <p>The important commonality between them being that they offer some degree of spatial tracking with which to simulate a view of virtual content.</p>
   <p>Terms like "XR Device", "XR Application", etc. are generally understood to apply to any of the above. Portions of this document that only apply to a subset of these devices will indicate so as appropriate.</p>
   <p>The terms <a data-link-type="dfn" href="#3dof" id="ref-for-3dof">3DoF</a> and <a data-link-type="dfn" href="#6dof" id="ref-for-6dof①">6DoF</a> are used throughout this document to describe the tracking capabilities of XR devices.</p>
   <ul>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="3dof">3DoF</dfn> device, short for "Three Degrees of Freedom", is one that can only track rotational movement. This is common in devices which rely exclusively on accelerometer and gyroscope readings to provide tracking. <a data-link-type="dfn" href="#3dof" id="ref-for-3dof①">3DoF</a> devices do not respond translational movements from the user, though they may employ algorithms to estimate translational changes based on modeling of the neck or arms.</p>
    <li data-md>
     <p>A <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="6dof">6DoF</dfn> device, short for "Six Degrees of Freedom", is one that can track both rotation and translation, enabling for precise 1:1 tracking in space. This typically requires some level of understanding of the user’s environment. That environmental understanding may be achieved via inside-out tracking, where sensors on the tracked device itself (such as cameras or depth sensors) are used to determine the device’s position, or outside-in tracking, where external devices placed in the user’s environment (like a camera or light emitting device) provides a stable point of reference against which the XR device can determine it’s position.</p>
   </ul>
   <h3 class="heading settled" data-level="1.2" id="applicationflow"><span class="secno">1.2. </span><span class="content">Application flow</span><a class="self-link" href="#applicationflow"></a></h3>
   <section class="non-normative">
    <p>Most applications using the WebXR Device API will follow a similar usage pattern:</p>
    <ul>
     <li data-md>
      <p>Query <code class="idl"><a data-link-type="idl" href="#dom-xr-supportssessionmode" id="ref-for-dom-xr-supportssessionmode">navigator.xr.supportsSessionMode()</a></code> to determine if the desired type of XR content is supported by the hardware and UA.</p>
     <li data-md>
      <p>If so, advertise the XR content to the user.</p>
     <li data-md>
      <p>Wait for the user to <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#triggered-by-user-activation" id="ref-for-triggered-by-user-activation">trigger a user activation event</a> indicating they want to begin viewing XR content.</p>
     <li data-md>
      <p>Request an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession">XRSession</a></code> within the user activation event with <code class="idl"><a data-link-type="idl" href="#dom-xr-requestsession" id="ref-for-dom-xr-requestsession">navigator.xr.requestSession()</a></code>.</p>
     <li data-md>
      <p>If the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①">XRSession</a></code> request succeeds, use it to run a <a href="#frame">frame loop</a> to respond to XR input and produce images to display on the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device">XR device</a> in response.</p>
     <li data-md>
      <p>Continue running the <a href="#frame">frame loop</a> until the UA <a data-link-type="dfn" href="#end-the-session" id="ref-for-end-the-session">ends the session</a> or the user indicates they want to exit the XR content.</p>
    </ul>
   </section>
   <h2 class="heading settled" data-level="2" id="initialization"><span class="secno">2. </span><span class="content">Initialization</span><a class="self-link" href="#initialization"></a></h2>
   <h3 class="heading settled" data-level="2.1" id="xr-interface"><span class="secno">2.1. </span><span class="content">XR</span><a class="self-link" href="#xr-interface"></a></h3>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="Navigator" data-dfn-type="attribute" data-export id="dom-navigator-xr"><code>xr</code></dfn> object is the entry point to the API, used to query for XR features available to the user agent and initiate communication with XR hardware via the creation of <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②">XRSession</a></code>s.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xr"><code><c- g>XR</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget"><c- n>EventTarget</c-></a> {
  // Methods
  <c- b>Promise</c->&lt;<c- b>void</c->> <a class="idl-code" data-link-type="method" href="#dom-xr-supportssessionmode" id="ref-for-dom-xr-supportssessionmode①"><c- g>supportsSessionMode</c-></a>(<a class="n" data-link-type="idl-name" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode"><c- n>XRSessionMode</c-></a> <dfn class="idl-code" data-dfn-for="XR/supportsSessionMode(mode)" data-dfn-type="argument" data-export id="dom-xr-supportssessionmode-mode-mode"><code><c- g>mode</c-></code><a class="self-link" href="#dom-xr-supportssessionmode-mode-mode"></a></dfn>);
  <c- b>Promise</c->&lt;<a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession③"><c- n>XRSession</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xr-requestsession" id="ref-for-dom-xr-requestsession①"><c- g>requestSession</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-xrsessioncreationoptions" id="ref-for-dictdef-xrsessioncreationoptions"><c- n>XRSessionCreationOptions</c-></a> <dfn class="idl-code" data-dfn-for="XR/requestSession(parameters), XR/requestSession()" data-dfn-type="argument" data-export id="dom-xr-requestsession-parameters-parameters"><code><c- g>parameters</c-></code><a class="self-link" href="#dom-xr-requestsession-parameters-parameters"></a></dfn>);

  // Events
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xr-ondevicechange" id="ref-for-dom-xr-ondevicechange"><c- g>ondevicechange</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xr" id="ref-for-xr"><c- n>XR</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XR" href="#dom-navigator-xr" id="ref-for-dom-navigator-xr"><c- g>xr</c-></a>;
};
</pre>
   <p>The <code class="idl"><a data-link-type="idl" href="#xr" id="ref-for-xr①">XR</a></code> object has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-xr-devices">list of XR devices</dfn>, which MUST be initially empty, and an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="xr-device">XR device</dfn> which MUST be initially <code>null</code> and represents the active device from the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices">list of XR devices</a> that API calls will interact with.</p>
   <p>The user agent MUST be able to <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="enumerate-xr-devices">enumerate XR devices</dfn> attached to the system, at which time each available device is placed in the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices①">list of XR devices</a>. Subsequent algorithms requesting enumeration MAY reuse the cached <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices②">list of XR devices</a>. Enumerating the devices <a data-link-type="dfn" href="#should-not-initialize-device-tracking" id="ref-for-should-not-initialize-device-tracking">should not initialize device tracking</a>. After the first enumeration the user agent SHOULD begin monitoring device connection and disconnection, adding connected devices to the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices③">list of XR devices</a> and removing disconnected devices.</p>
   <div class="algorithm" data-algorithm="xr-device-selection">
    <p>Each time the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices④">list of XR devices</a> changes the user agent should <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="select-an-xr-device">select an XR device</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>oldDevice</var> be the current <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①">XR device</a>.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices⑤">list of XR devices</a> is empty, set the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②">XR device</a> to <code>null</code>.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices⑥">list of XR devices</a> contains one device set the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③">XR device</a> to that device.</p>
     <li data-md>
      <p>If there are any active <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④">XRSession</a></code>s and <var>oldDevice</var> is in the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices⑦">list of XR devices</a>, set the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device④">XR device</a> to <var>oldDevice</var>.</p>
     <li data-md>
      <p>Else set the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device⑤">XR device</a> to a device of the user agent’s choosing.</p>
     <li data-md>
      <p>If this is the first time devices have been enumerated or <var>oldDevice</var> equals <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device⑥">XR device</a>, abort these steps.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#shut-down-the-session" id="ref-for-shut-down-the-session">Shut down</a> any active <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤">XRSession</a></code>s.</p>
     <li data-md>
      <p>Set the <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible">XR compatible</a> boolean of all <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase">WebGLRenderingContextBase</a></code> instances to <code>false</code>.</p>
     <li data-md>
      <p>Queue a task that fires a simple event named <code class="idl"><a data-link-type="idl" href="#eventdef-xr-devicechange" id="ref-for-eventdef-xr-devicechange">devicechange</a></code> on the <code class="idl"><a data-link-type="idl" href="#xr" id="ref-for-xr②">XR</a></code> object.</p>
    </ol>
   </div>
   <p class="note" role="note"><span>NOTE:</span> The user agent is allowed to use any criteria it wishes to <a data-link-type="dfn" href="#select-an-xr-device" id="ref-for-select-an-xr-device">select an XR device</a> when the <a data-link-type="dfn" href="#list-of-xr-devices" id="ref-for-list-of-xr-devices⑧">list of XR devices</a> contains multiple devices. For example, the user agent may always select the first item in the list, or provide settings UI that allows users to manage device priority. Ideally the algorithm used to select the default device is stable and will result in the same device being selected across multiple browsing sessions.</p>
   <div class="algorithm" data-algorithm="ensure-device-selected">
    <p>Any time an <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device⑦">XR device</a> is needed by an algorithm it can <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ensure-an-xr-device-is-selected">ensure an XR device is selected</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device⑧">XR device</a> is not <code>null</code>, abort these steps.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#enumerate-xr-devices" id="ref-for-enumerate-xr-devices">Enumerate XR devices</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#select-an-xr-device" id="ref-for-select-an-xr-device①">Select an XR device</a>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XR" data-dfn-type="attribute" data-export id="dom-xr-ondevicechange"><code>ondevicechange</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xr-devicechange" id="ref-for-eventdef-xr-devicechange①">devicechange</a></code> event type.</p>
   <p>Each <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device⑨">XR device</a> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-supported-modes">list of supported modes</dfn>, which MUST contain all of the <code class="idl"><a data-link-type="idl" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode①">XRSessionMode</a></code> types that the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①⓪">XR device</a> can support, and MUST contain <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-inline" id="ref-for-dom-xrsessionmode-inline">inline</a></code>.</p>
   <div class="algorithm" data-algorithm="supports-session-mode">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XR" data-dfn-type="method" data-export id="dom-xr-supportssessionmode"><code>supportsSessionMode(<var>mode</var>)</code></dfn> method is invoked, it MUST return <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise" id="ref-for-a-new-promise">a new Promise</a> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel">in parallel</a>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#ensure-an-xr-device-is-selected" id="ref-for-ensure-an-xr-device-is-selected">Ensure an XR device is selected</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①①">XR device</a> is <code>null</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror">NotSupportedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>mode</var> is in not in <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①②">XR device</a>'s <a data-link-type="dfn" href="#list-of-supported-modes" id="ref-for-list-of-supported-modes">list of supported modes</a>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise①">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror①">NotSupportedError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Else <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise">resolve</a> <var>promise</var>.</p>
    </ol>
   </div>
   <p>Calling <code class="idl"><a data-link-type="idl" href="#dom-xr-supportssessionmode" id="ref-for-dom-xr-supportssessionmode②">supportsSessionMode()</a></code> MUST NOT trigger device-selection UI as this would cause many sites to display XR-specific dialogs early in the document lifecycle without user activation.</p>
   <div class="example" id="example-56d44228">
    <a class="self-link" href="#example-56d44228"></a> The following code checks to see if <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr">immersive-vr</a></code> sessions are supported. 
<pre class="highlight">navigator<c- p>.</c->xr<c- p>.</c->supportsSessionMode<c- p>(</c-><c- t>'immersive-vr'</c-><c- p>).</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// 'immersive-vr' sessions are supported.</c->
  <c- c1>// Page should advertise support to the user.</c->
<c- p>}</c->
</pre>
   </div>
   <p>The <code class="idl"><a data-link-type="idl" href="#xr" id="ref-for-xr③">XR</a></code> object has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="pending-immersive-session">pending immersive session</dfn> boolean, which MUST be initially <code>false</code>, an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="active-immersive-session">active immersive session</dfn>, which MUST be initially <code>null</code>, and a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-inline-sessions">list of inline sessions</dfn>, which MUST be initially empty.</p>
   <div class="algorithm" data-algorithm="request-session">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XR" data-dfn-type="method" data-export id="dom-xr-requestsession"><code>requestSession(<var>options</var>)</code></dfn> method is invoked, the user agent MUST return <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise" id="ref-for-a-new-promise①">a new Promise</a> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel①">in parallel</a>:</p>
    <ol>
     <li data-md>
      <p>Let <var>mode</var> be the <code class="idl"><a data-link-type="idl" href="#dom-xrsessioncreationoptions-mode" id="ref-for-dom-xrsessioncreationoptions-mode">mode</a></code> attribute of the <var>options</var> argument.</p>
     <li data-md>
      <p>Let <var>immersive</var> be a boolean set to <code>true</code> if <var>mode</var> is <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr①">immersive-vr</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-ar" id="ref-for-dom-xrsessionmode-immersive-ar">immersive-ar</a></code> and <code>false</code> otherwise.</p>
     <li data-md>
      <p>If <var>immersive</var> is <code>true</code>:</p>
      <ol>
       <li data-md>
        <p>If <a data-link-type="dfn" href="#pending-immersive-session" id="ref-for-pending-immersive-session">pending immersive session</a> is <code>true</code> or <a data-link-type="dfn" href="#active-immersive-session" id="ref-for-active-immersive-session">active immersive session</a> is not <code>null</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise②">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror">InvalidStateError</a></code> and abort these steps.</p>
       <li data-md>
        <p>Else set <a data-link-type="dfn" href="#pending-immersive-session" id="ref-for-pending-immersive-session①">pending immersive session</a> to be <code>true</code>.</p>
      </ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#ensure-an-xr-device-is-selected" id="ref-for-ensure-an-xr-device-is-selected①">Ensure an XR device is selected</a>.</p>
     <li data-md>
      <p>If <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①③">XR device</a> is <code>null</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise③">reject</a> <var>promise</var> with <code>null</code>.</p>
     <li data-md>
      <p>Else if <var>mode</var> is in not in <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①④">XR device</a>'s <a data-link-type="dfn" href="#list-of-supported-modes" id="ref-for-list-of-supported-modes①">list of supported modes</a>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise④">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror②">NotSupportedError</a></code>.</p>
     <li data-md>
      <p>Else If <var>immersive</var> is <code>true</code> and the algorithm is not <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/interaction.html#triggered-by-user-activation" id="ref-for-triggered-by-user-activation①">triggered by user activation</a>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise⑤">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#securityerror" id="ref-for-securityerror">SecurityError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>promise</var> was <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise⑥">rejected</a> and <var>immersive</var> is <code>true</code>, set <a data-link-type="dfn" href="#pending-immersive-session" id="ref-for-pending-immersive-session②">pending immersive session</a> to be <code>false</code>.</p>
     <li data-md>
      <p>If <var>promise</var> was <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise⑦">rejected</a>, abort these steps.</p>
     <li data-md>
      <p>Let <var>session</var> be a new <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑥">XRSession</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#initialize-the-session" id="ref-for-initialize-the-session">Initialize the session</a> <var>session</var> with the <a data-link-type="dfn" href="#session-description" id="ref-for-session-description">session description</a> given by <var>options</var>.</p>
     <li data-md>
      <p>If <var>immersive</var> is <code>true</code> set the <a data-link-type="dfn" href="#active-immersive-session" id="ref-for-active-immersive-session①">active immersive session</a> to <var>session</var> and set <a data-link-type="dfn" href="#pending-immersive-session" id="ref-for-pending-immersive-session③">pending immersive session</a> to <code>false</code>.</p>
     <li data-md>
      <p>Else append <var>session</var> to the <a data-link-type="dfn" href="#list-of-inline-sessions" id="ref-for-list-of-inline-sessions">list of inline sessions</a>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise①">Resolve</a> <var>promise</var> with <var>session</var>.</p>
    </ol>
   </div>
   <div class="example" id="example-0b25cfd3">
    <a class="self-link" href="#example-0b25cfd3"></a> The following code attempts to retrieve an <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr②">immersive-vr</a></code> <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑦">XRSession</a></code>. 
<pre class="highlight"><c- a>let</c-> xrSession<c- p>;</c->

navigator<c- p>.</c->xr<c- p>.</c->requestSession<c- p>({</c-> mode<c- o>:</c-> <c- u>"immersive-vr"</c-> <c- p>}).</c->then<c- p>((</c->session<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
  xrSession <c- o>=</c-> session<c- p>;</c->
<c- p>});</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="3" id="session"><span class="secno">3. </span><span class="content">Session</span><a class="self-link" href="#session"></a></h2>
   <h3 class="heading settled" data-level="3.1" id="xrsession-interface"><span class="secno">3.1. </span><span class="content">XRSession</span><a class="self-link" href="#xrsession-interface"></a></h3>
   <p>Any interaction with XR hardware is done via an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑧">XRSession</a></code> object, which can only be retrieved by calling <code class="idl"><a data-link-type="idl" href="#dom-xr-requestsession" id="ref-for-dom-xr-requestsession②">requestSession()</a></code> on the <code class="idl"><a data-link-type="idl" href="#xr" id="ref-for-xr④">XR</a></code> object. Once a session has been successfully acquired it can be used to <a data-link-type="dfn" href="#poll-the-device-pose" id="ref-for-poll-the-device-pose">poll the device pose</a>, query information about the user’s environment and, present imagery to the user.</p>
   <p>The user agent, when possible, <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="should-not-initialize-device-tracking">SHOULD NOT initialize device tracking</dfn> or rendering capabilities until an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑨">XRSession</a></code> has been acquired. This is to prevent unwanted side effects of engaging the XR systems when they’re not actively being used, such as increased battery usage or related utility applications from appearing when first navigating to a page that only wants to test for the presence of XR hardware in order to advertise XR features. Not all XR platforms offer ways to detect the hardware’s presence without initializing tracking, however, so this is only a strong recommendation.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrenvironmentblendmode"><code><c- g>XREnvironmentBlendMode</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrenvironmentblendmode-opaque" id="ref-for-dom-xrenvironmentblendmode-opaque"><c- s>"opaque"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrenvironmentblendmode-additive" id="ref-for-dom-xrenvironmentblendmode-additive"><c- s>"additive"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrenvironmentblendmode-alpha-blend" id="ref-for-dom-xrenvironmentblendmode-alpha-blend"><c- s>"alpha-blend"</c-></a>,
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrsession"><code><c- g>XRSession</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①"><c- n>EventTarget</c-></a> {
  // Attributes
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode②"><c- n>XRSessionMode</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export data-readonly data-type="XRSessionMode" id="dom-xrsession-mode"><code><c- g>mode</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrpresentationcontext" id="ref-for-xrpresentationcontext"><c- n>XRPresentationContext</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export data-readonly data-type="XRPresentationContext?" id="dom-xrsession-outputcontext"><code><c- g>outputContext</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrenvironmentblendmode" id="ref-for-enumdef-xrenvironmentblendmode"><c- n>XREnvironmentBlendMode</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XREnvironmentBlendMode" href="#dom-xrsession-environmentblendmode" id="ref-for-dom-xrsession-environmentblendmode"><c- g>environmentBlendMode</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrenderstate" id="ref-for-xrrenderstate"><c- n>XRRenderState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRenderState" href="#dom-xrsession-renderstate" id="ref-for-dom-xrsession-renderstate"><c- g>renderState</c-></a>;

  // Methods
  <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-xrsession-updaterenderstate" id="ref-for-dom-xrsession-updaterenderstate"><c- g>updateRenderState</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-xrrenderstateinit" id="ref-for-dictdef-xrrenderstateinit"><c- n>XRRenderStateInit</c-></a> <dfn class="idl-code" data-dfn-for="XRSession/updateRenderState(state), XRSession/updateRenderState()" data-dfn-type="argument" data-export id="dom-xrsession-updaterenderstate-state-state"><code><c- g>state</c-></code><a class="self-link" href="#dom-xrsession-updaterenderstate-state-state"></a></dfn>);
  <c- b>Promise</c->&lt;<a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace"><c- n>XRReferenceSpace</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requestreferencespace" id="ref-for-dom-xrsession-requestreferencespace"><c- g>requestReferenceSpace</c-></a>(<a class="n" data-link-type="idl-name" href="#dictdef-xrreferencespaceoptions" id="ref-for-dictdef-xrreferencespaceoptions"><c- n>XRReferenceSpaceOptions</c-></a> <dfn class="idl-code" data-dfn-for="XRSession/requestReferenceSpace(options)" data-dfn-type="argument" data-export id="dom-xrsession-requestreferencespace-options-options"><code><c- g>options</c-></code><a class="self-link" href="#dom-xrsession-requestreferencespace-options-options"></a></dfn>);

  <c- b>FrozenArray</c->&lt;<a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource"><c- n>XRInputSource</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-getinputsources" id="ref-for-dom-xrsession-getinputsources"><c- g>getInputSources</c-></a>();

  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long"><c- b>long</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe"><c- g>requestAnimationFrame</c-></a>(<a class="n" data-link-type="idl-name" href="#callbackdef-xrframerequestcallback" id="ref-for-callbackdef-xrframerequestcallback"><c- n>XRFrameRequestCallback</c-></a> <dfn class="idl-code" data-dfn-for="XRSession/requestAnimationFrame(callback)" data-dfn-type="argument" data-export id="dom-xrsession-requestanimationframe-callback-callback"><code><c- g>callback</c-></code><a class="self-link" href="#dom-xrsession-requestanimationframe-callback-callback"></a></dfn>);
  <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-xrsession-cancelanimationframe" id="ref-for-dom-xrsession-cancelanimationframe"><c- g>cancelAnimationFrame</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long①"><c- b>long</c-></a> <dfn class="idl-code" data-dfn-for="XRSession/cancelAnimationFrame(handle)" data-dfn-type="argument" data-export id="dom-xrsession-cancelanimationframe-handle-handle"><code><c- g>handle</c-></code><a class="self-link" href="#dom-xrsession-cancelanimationframe-handle-handle"></a></dfn>);

  <c- b>Promise</c->&lt;<c- b>void</c->> <a class="idl-code" data-link-type="method" href="#dom-xrsession-end" id="ref-for-dom-xrsession-end"><c- g>end</c-></a>();

  // Events
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onblur" id="ref-for-dom-xrsession-onblur"><c- g>onblur</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onfocus" id="ref-for-dom-xrsession-onfocus"><c- g>onfocus</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onend" id="ref-for-dom-xrsession-onend"><c- g>onend</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onselect" id="ref-for-dom-xrsession-onselect"><c- g>onselect</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-oninputsourceschange" id="ref-for-dom-xrsession-oninputsourceschange"><c- g>oninputsourceschange</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑥"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onselectstart" id="ref-for-dom-xrsession-onselectstart"><c- g>onselectstart</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑦"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onselectend" id="ref-for-dom-xrsession-onselectend"><c- g>onselectend</c-></a>;
};
</pre>
   <div class="algorithm" data-algorithm="initialize-session">
    <p>When an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①⓪">XRSession</a></code> is created, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-the-session">initialize the session</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the newly created <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①①">XRSession</a></code> object.</p>
     <li data-md>
      <p>Let <var>options</var> be the <code class="idl"><a data-link-type="idl" href="#dictdef-xrsessioncreationoptions" id="ref-for-dictdef-xrsessioncreationoptions①">XRSessionCreationOptions</a></code> passed to <code class="idl"><a data-link-type="idl" href="#dom-xr-requestsession" id="ref-for-dom-xr-requestsession③">requestSession()</a></code>.</p>
     <li data-md>
      <p>Initialize <var>session</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrsession-mode" id="ref-for-dom-xrsession-mode">mode</a></code> to <var>options</var> <code class="idl"><a data-link-type="idl" href="#dom-xrsessioncreationoptions-mode" id="ref-for-dom-xrsessioncreationoptions-mode①">mode</a></code> value.</p>
     <li data-md>
      <p>Initialize <var>session</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrsession-outputcontext" id="ref-for-dom-xrsession-outputcontext">outputContext</a></code> to <var>options</var> <code class="idl"><a data-link-type="idl" href="#dom-xrsessioncreationoptions-outputcontext" id="ref-for-dom-xrsessioncreationoptions-outputcontext">outputContext</a></code> value.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#initialize-the-render-state" id="ref-for-initialize-the-render-state">Initialize the render state</a>.</p>
     <li data-md>
      <p>If no other features of the user agent have done so already, perform the necessary platform-specific steps to initialize the device’s tracking and rendering capabilities.</p>
    </ol>
   </div>
   <p>A number of different circumstances may <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="shut-down-the-session">shut down the session</dfn>, which is permanent and irreversible. Once a session has been shut down the only way to access the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①⑤">XR device</a>'s tracking or rendering capabilities again is to request a new session. Each <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①②">XRSession</a></code> has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="ended">ended</dfn> boolean, initially set to <code>false</code>, that indicates if it has been shut down.</p>
   <div class="algorithm" data-algorithm="shut-down-session">
    <p>When an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①③">XRSession</a></code> is shut down the following steps are run:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①④">XRSession</a></code> object.</p>
     <li data-md>
      <p>Set <var>session</var>’s <a data-link-type="dfn" href="#ended" id="ref-for-ended">ended</a> value to <code>true</code>.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#active-immersive-session" id="ref-for-active-immersive-session②">active immersive session</a> is equal to <var>session</var>, set the <a data-link-type="dfn" href="#active-immersive-session" id="ref-for-active-immersive-session③">active immersive session</a> to <code>null</code>.</p>
     <li data-md>
      <p>Remove <var>session</var> from the <a data-link-type="dfn" href="#list-of-inline-sessions" id="ref-for-list-of-inline-sessions①">list of inline sessions</a>.</p>
     <li data-md>
      <p>If no other features of the user agent are actively using them, perform the necessary platform-specific steps to shut down the device’s tracking and rendering capabilities.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="end-session">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-end"><code>end()</code></dfn> method provides a way to manually shut down a session. When invoked, it MUST return <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise" id="ref-for-a-new-promise②">a new Promise</a> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel②">in parallel</a>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#shut-down-the-session" id="ref-for-shut-down-the-session①">Shut down</a> the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①⑤">XRSession</a></code> object.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise②">Resolve</a> <var>promise</var>.</p>
    </ol>
   </div>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①⑥">XRSession</a></code> has an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="active-render-state">active render state</dfn> which is a new <code class="idl"><a data-link-type="idl" href="#xrrenderstate" id="ref-for-xrrenderstate①">XRRenderState</a></code>, a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-pending-render-states">list of pending render states</dfn>, which is initially empty.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-renderstate"><code>renderState</code></dfn> attribute returns the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①⑦">XRSession</a></code>'s <a data-link-type="dfn" href="#active-render-state" id="ref-for-active-render-state">active render state</a>.</p>
   <div class="algorithm" data-algorithm="update-render-state">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-updaterenderstate"><code>updateRenderState(<var>newState</var>)</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①⑧">XRSession</a></code>.</p>
     <li data-md>
      <p>If <var>session</var>’s <a data-link-type="dfn" href="#ended" id="ref-for-ended①">ended</a> value is <code>true</code>, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror①">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-baselayer" id="ref-for-dom-xrrenderstateinit-baselayer">baseLayer</a></code>'s was created with an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession①⑨">XRSession</a></code> other than <var>session</var>, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror②">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Append <var>newState</var> to <var>session</var>’s <a data-link-type="dfn" href="#list-of-pending-render-states" id="ref-for-list-of-pending-render-states">list of pending render states</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="apply-pending-render-states">
    <p>When requested, the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②⓪">XRSession</a></code> MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="apply-pending-render-states">apply pending render states</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②①">XRSession</a></code>.</p>
     <li data-md>
      <p>Let <var>activeState</var> be <var>session</var>’s <a data-link-type="dfn" href="#active-render-state" id="ref-for-active-render-state①">active render state</a>.</p>
     <li data-md>
      <p>Let <var>pendingStates</var> be <var>session</var>’s <a data-link-type="dfn" href="#list-of-pending-render-states" id="ref-for-list-of-pending-render-states①">list of pending render states</a>.</p>
     <li data-md>
      <p>Set <var>session</var>’s <a data-link-type="dfn" href="#list-of-pending-render-states" id="ref-for-list-of-pending-render-states②">list of pending render states</a> to the empty list.</p>
     <li data-md>
      <p>For each <var>newState</var> in <var>pendingStates</var>:</p>
      <ol>
       <li data-md>
        <p>If <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-depthnear" id="ref-for-dom-xrrenderstateinit-depthnear">depthNear</a></code> value is set, set <var>activeState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-depthnear" id="ref-for-dom-xrrenderstate-depthnear">depthNear</a></code> to <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-depthnear" id="ref-for-dom-xrrenderstateinit-depthnear①">depthNear</a></code>.</p>
       <li data-md>
        <p>If <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-depthfar" id="ref-for-dom-xrrenderstateinit-depthfar">depthFar</a></code> value is set, set <var>activeState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-depthfar" id="ref-for-dom-xrrenderstate-depthfar">depthFar</a></code> to <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-depthfar" id="ref-for-dom-xrrenderstateinit-depthfar①">depthFar</a></code>.</p>
       <li data-md>
        <p>If <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-baselayer" id="ref-for-dom-xrrenderstateinit-baselayer①">baseLayer</a></code> is set, set <var>activeState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-baselayer" id="ref-for-dom-xrrenderstate-baselayer">baseLayer</a></code> to <var>newState</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstateinit-baselayer" id="ref-for-dom-xrrenderstateinit-baselayer②">baseLayer</a></code>.</p>
      </ol>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="request-reference-space">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-requestreferencespace"><code>requestReferenceSpace(<var>options</var>)</code></dfn> method is invoked, the user agent MUST return <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise" id="ref-for-a-new-promise③">a new Promise</a> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel③">in parallel</a>:</p>
    <ol>
     <li data-md>
      <p><a data-link-type="dfn" href="#create-a-reference-space" id="ref-for-create-a-reference-space">Create a reference space</a>, <var>referenceSpace</var>, as described by <var>options</var>.</p>
     <li data-md>
      <p>If <var>referenceSpace</var> is <code>null</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise⑧">reject</a> <var>promise</var> with a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#notsupportederror" id="ref-for-notsupportederror③">NotSupportedError</a></code> and abort these steps.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise③">Resolve</a> <var>promise</var> with <var>referenceSpace</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get-input-sources">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-getinputsources"><code>getInputSources()</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Return the current <a data-link-type="dfn" href="#list-of-active-input-sources" id="ref-for-list-of-active-input-sources">list of active input sources</a>.</p>
    </ol>
   </div>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②②">XRSession</a></code> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="environment-blending-mode">environment blending mode</dfn> value, which is a enum which MUST be set to whichever of the following values best matches the behavior of imagery rendered by the session in relation to the user’s surrounding environment.</p>
   <ul>
    <li data-md>
     <p>A blend mode of <dfn class="dfn-paneled idl-code" data-dfn-for="XREnvironmentBlendMode" data-dfn-type="enum-value" data-export id="dom-xrenvironmentblendmode-opaque"><code>opaque</code></dfn> indicates that the user’s surrounding environment is not visible at all. Alpha values in the <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-baselayer" id="ref-for-dom-xrrenderstate-baselayer①">baseLayer</a></code> will be ignored, with the compositor treating all alpha values as 1.0.</p>
    <li data-md>
     <p>A blend mode of <dfn class="dfn-paneled idl-code" data-dfn-for="XREnvironmentBlendMode" data-dfn-type="enum-value" data-export id="dom-xrenvironmentblendmode-additive"><code>additive</code></dfn> indicates that the user’s surrounding environment is visible and the <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-baselayer" id="ref-for-dom-xrrenderstate-baselayer②">baseLayer</a></code> will be shown additively against it. Alpha values in the <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-baselayer" id="ref-for-dom-xrrenderstate-baselayer③">baseLayer</a></code> will be ignored, with the compositor treating all alpha values as 1.0. When this blend mode is in use black pixels will appear fully transparent, and there is no way to make a pixel appear fully opaque.</p>
    <li data-md>
     <p>A blend mode of <dfn class="dfn-paneled idl-code" data-dfn-for="XREnvironmentBlendMode" data-dfn-type="enum-value" data-export id="dom-xrenvironmentblendmode-alpha-blend"><code>alpha-blend</code></dfn> indicates that the user’s surrounding environment is visible and the <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-baselayer" id="ref-for-dom-xrrenderstate-baselayer④">baseLayer</a></code> will be blended with it according to the alpha values of each pixel. Pixels with an alpha value of 1.0 will be fully opaque and pixels with an alpha value of 0.0 will be fully transparent.</p>
   </ul>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-environmentblendmode"><code>environmentBlendMode</code></dfn> attribute returns the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②③">XRSession</a></code>'s <a data-link-type="dfn" href="#environment-blending-mode" id="ref-for-environment-blending-mode">environment blending mode</a></p>
   <p class="note" role="note"><span>NOTE:</span> Most Virtual Reality devices exhibit <code class="idl"><a data-link-type="idl" href="#dom-xrenvironmentblendmode-opaque" id="ref-for-dom-xrenvironmentblendmode-opaque①">opaque</a></code> blending behavior. Augmented Reality devices that use transparent optical elements frequently exhibit <code class="idl"><a data-link-type="idl" href="#dom-xrenvironmentblendmode-additive" id="ref-for-dom-xrenvironmentblendmode-additive①">additive</a></code> blending behavior, and Augmented Reality devices that use passthrough cameras frequently exhibit <code class="idl"><a data-link-type="idl" href="#dom-xrenvironmentblendmode-alpha-blend" id="ref-for-dom-xrenvironmentblendmode-alpha-blend①">alpha-blend</a></code> blending behavior.</p>
   <section class="unstable">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-onblur"><code>onblur</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes①">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-blur" id="ref-for-eventdef-xrsession-blur">blur</a></code> event type. 
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-onfocus"><code>onfocus</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes②">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-focus" id="ref-for-eventdef-xrsession-focus">focus</a></code> event type.</p>
   </section>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-onend"><code>onend</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes③">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-end" id="ref-for-eventdef-xrsession-end">end</a></code> event type.</p>
   <section class="unstable"> The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-oninputsourceschange"><code>oninputsourceschange</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes④">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-inputsourceschange" id="ref-for-eventdef-xrsession-inputsourceschange">inputsourceschange</a></code> event type. </section>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-onselectstart"><code>onselectstart</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes⑤">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-selectstart" id="ref-for-eventdef-xrsession-selectstart">selectstart</a></code> event type.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-onselectend"><code>onselectend</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes⑥">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-selectend" id="ref-for-eventdef-xrsession-selectend">selectend</a></code> event type.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="attribute" data-export id="dom-xrsession-onselect"><code>onselect</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes⑦">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-select" id="ref-for-eventdef-xrsession-select">select</a></code> event type.</p>
   <p>We still need to document what happens when we <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="end-the-session">end the session</dfn>. (This is <a href="https://github.com/immersive-web/webxr/issues/467">filed</a>.)</p>
   <p>We still need to document what happens when we <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="blur-all-sessions">blur all sessions</dfn>. (This is <a href="https://github.com/immersive-web/webxr/issues/468">filed</a>.)</p>
   <p>We still need to document what happens when we <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="poll-the-device-pose">poll the device pose</dfn> (This is <a href="https://github.com/immersive-web/webxr/issues/480">filed</a>.)</p>
   <p>We still need to document how the<dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-active-input-sources">list of active input sources</dfn> is maintained. (This is <a href="https://github.com/immersive-web/webxr/issues/465">filed</a>.)</p>
   <section class="unstable">
    <h3 class="heading settled" data-level="3.2" id="xrsessionmode-enum"><span class="secno">3.2. </span><span class="content">XRSessionMode</span><a class="self-link" href="#xrsessionmode-enum"></a></h3>
    <p>The <code class="idl"><a data-link-type="idl" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode③">XRSessionMode</a></code> enum defines the modes that an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②④">XRSession</a></code> can operate in.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrsessionmode"><code><c- g>XRSessionMode</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrsessionmode-inline" id="ref-for-dom-xrsessionmode-inline①"><c- s>"inline"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr③"><c- s>"immersive-vr"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrsessionmode-immersive-ar" id="ref-for-dom-xrsessionmode-immersive-ar①"><c- s>"immersive-ar"</c-></a>
};
</pre>
    <ul>
     <li data-md>
      <p>A session mode of <dfn class="dfn-paneled idl-code" data-dfn-for="XRSessionMode" data-dfn-type="enum-value" data-export id="dom-xrsessionmode-inline"><code>inline</code></dfn> indicates that the session’s output will be shown as an element in the HTML document. <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-inline" id="ref-for-dom-xrsessionmode-inline②">inline</a></code> session content MAY be displayed in mono or stereo and MAY allow for <a data-link-type="dfn" href="#viewer" id="ref-for-viewer">viewer</a> tracking. User agents MUST allow <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-inline" id="ref-for-dom-xrsessionmode-inline③">inline</a></code> sessions to be created for any <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①⑥">XR device</a>.</p>
     <li data-md>
      <p>A session mode of <dfn class="dfn-paneled idl-code" data-dfn-for="XRSessionMode" data-dfn-type="enum-value" data-export id="dom-xrsessionmode-immersive-vr"><code>immersive-vr</code></dfn> indicates that the session’s output will be given <a data-link-type="dfn" href="#exclusive-access" id="ref-for-exclusive-access">exclusive access</a> to the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①⑦">XR device</a> display and that content <b>is not</b> intended to be integrated with the user’s environment. The <code class="idl"><a data-link-type="idl" href="#dom-xrsession-environmentblendmode" id="ref-for-dom-xrsession-environmentblendmode①">environmentBlendMode</a></code> for <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr④">immersive-vr</a></code> sessions is expected to be <code class="idl"><a data-link-type="idl" href="#dom-xrenvironmentblendmode-opaque" id="ref-for-dom-xrenvironmentblendmode-opaque②">opaque</a></code> when possible, but MAY be <code class="idl"><a data-link-type="idl" href="#dom-xrenvironmentblendmode-additive" id="ref-for-dom-xrenvironmentblendmode-additive②">additive</a></code> if the hardware requires it.</p>
     <li data-md>
      <p>A session mode of <dfn class="dfn-paneled idl-code" data-dfn-for="XRSessionMode" data-dfn-type="enum-value" data-export id="dom-xrsessionmode-immersive-ar"><code>immersive-ar</code></dfn> indicates that the session’s output will be given <a data-link-type="dfn" href="#exclusive-access" id="ref-for-exclusive-access①">exclusive access</a> to the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①⑧">XR device</a> display and that content <b>is</b> intended to be integrated with the user’s environment. The <code class="idl"><a data-link-type="idl" href="#dom-xrsession-environmentblendmode" id="ref-for-dom-xrsession-environmentblendmode②">environmentBlendMode</a></code> MUST NOT be <code class="idl"><a data-link-type="idl" href="#dom-xrenvironmentblendmode-opaque" id="ref-for-dom-xrenvironmentblendmode-opaque③">opaque</a></code> for <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-ar" id="ref-for-dom-xrsessionmode-immersive-ar②">immersive-ar</a></code> sessions.</p>
    </ul>
    <p>An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="immersive-session">immersive session</dfn> refers to either an <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr⑤">immersive-vr</a></code> or an <code class="idl"><a data-link-type="idl" href="#dom-xrsessionmode-immersive-ar" id="ref-for-dom-xrsessionmode-immersive-ar③">immersive-ar</a></code> session. <a data-link-type="dfn" href="#immersive-session" id="ref-for-immersive-session">Immersive sessions</a> MUST provide some level of <a data-link-type="dfn" href="#viewer" id="ref-for-viewer①">viewer</a> tracking, and content MUST be shown at the proper scale relative to the user and/or the surrounding environment. Additionally, <a data-link-type="dfn" href="#immersive-session" id="ref-for-immersive-session①">Immersive sessions</a> MUST be given <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="exclusive-access">exclusive access</dfn> to the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device①⑨">XR device</a>, meaning that while the <a data-link-type="dfn" href="#immersive-session" id="ref-for-immersive-session②">immersive session</a> is not <a data-link-type="dfn" href="#blurred" id="ref-for-blurred">blurred</a> the HTML document is not shown on the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②⓪">XR device</a>'s display, nor is content from other applications shown on the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②①">XR device</a>'s display.</p>
    <p class="note" role="note"><span>NOTE:</span> Examples of ways <a data-link-type="dfn" href="#exclusive-access" id="ref-for-exclusive-access②">exclusive access</a> may be presented include stereo content displayed on a virtual reality or augmented reality headset, or augmented reality content displayed fullscreen on a mobile device.</p>
   </section>
   <section class="unstable">
    <h3 class="heading settled" data-level="3.3" id="xrsessioncreationoptions-interface"><span class="secno">3.3. </span><span class="content">XRSessionCreationOptions</span><a class="self-link" href="#xrsessioncreationoptions-interface"></a></h3>
    <p>The <code class="idl"><a data-link-type="idl" href="#dictdef-xrsessioncreationoptions" id="ref-for-dictdef-xrsessioncreationoptions②">XRSessionCreationOptions</a></code> dictionary provides a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="session-description">session description</dfn>, indicating the desired properties of a session to be returned from <code class="idl"><a data-link-type="idl" href="#dom-xr-requestsession" id="ref-for-dom-xr-requestsession④">requestSession()</a></code>.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrsessioncreationoptions"><code><c- g>XRSessionCreationOptions</c-></code></dfn> {
  <a class="n" data-link-type="idl-name" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode④"><c- n>XRSessionMode</c-></a> <dfn class="dfn-paneled idl-code" data-default="&quot;inline&quot;" data-dfn-for="XRSessionCreationOptions" data-dfn-type="dict-member" data-export data-type="XRSessionMode " id="dom-xrsessioncreationoptions-mode"><code><c- g>mode</c-></code></dfn> = "inline";
  <a class="n" data-link-type="idl-name" href="#xrpresentationcontext" id="ref-for-xrpresentationcontext①"><c- n>XRPresentationContext</c-></a>? <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="XRSessionCreationOptions" data-dfn-type="dict-member" data-export data-type="XRPresentationContext? " id="dom-xrsessioncreationoptions-outputcontext"><code><c- g>outputContext</c-></code></dfn> = <c- b>null</c->;
};
</pre>
   </section>
   <h3 class="heading settled" data-level="3.4" id="xrrenderstate-interface"><span class="secno">3.4. </span><span class="content">XRRenderState</span><a class="self-link" href="#xrrenderstate-interface"></a></h3>
   <p>There are multiple values that developers can configure which affect how the session’s output is composited. These values are tracked by an <code class="idl"><a data-link-type="idl" href="#xrrenderstate" id="ref-for-xrrenderstate②">XRRenderState</a></code> object.</p>
<pre class="idl highlight def"><c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrrenderstateinit"><code><c- g>XRRenderStateInit</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRRenderStateInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrrenderstateinit-depthnear"><code><c- g>depthNear</c-></code></dfn>;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double①"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRRenderStateInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrrenderstateinit-depthfar"><code><c- g>depthFar</c-></code></dfn>;
  <a class="n" data-link-type="idl-name" href="#xrlayer" id="ref-for-xrlayer"><c- n>XRLayer</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="XRRenderStateInit" data-dfn-type="dict-member" data-export data-type="XRLayer? " id="dom-xrrenderstateinit-baselayer"><code><c- g>baseLayer</c-></code></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext③"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrrenderstate"><code><c- g>XRRenderState</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double②"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRRenderState" data-dfn-type="attribute" data-export data-readonly data-type="double" id="dom-xrrenderstate-depthnear"><code><c- g>depthNear</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double③"><c- b>double</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRRenderState" data-dfn-type="attribute" data-export data-readonly data-type="double" id="dom-xrrenderstate-depthfar"><code><c- g>depthFar</c-></code></dfn>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrlayer" id="ref-for-xrlayer①"><c- n>XRLayer</c-></a>? <dfn class="dfn-paneled idl-code" data-dfn-for="XRRenderState" data-dfn-type="attribute" data-export data-readonly data-type="XRLayer?" id="dom-xrrenderstate-baselayer"><code><c- g>baseLayer</c-></code></dfn>;
};
</pre>
   <div class="algorithm" data-algorithm="initialize-renderstate">
    <p>When an <code class="idl"><a data-link-type="idl" href="#xrrenderstate" id="ref-for-xrrenderstate③">XRRenderState</a></code> object is created, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="initialize-the-render-state">initialize the render state</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>state</var> be the newly created <code class="idl"><a data-link-type="idl" href="#xrrenderstate" id="ref-for-xrrenderstate④">XRRenderState</a></code> object.</p>
     <li data-md>
      <p>Initialize <var>state</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-depthnear" id="ref-for-dom-xrrenderstate-depthnear①">depthNear</a></code> to <code>0.1</code>.</p>
     <li data-md>
      <p>Initialize <var>state</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-depthfar" id="ref-for-dom-xrrenderstate-depthfar①">depthFar</a></code> to <code>1000.0</code>.</p>
     <li data-md>
      <p>Initialize <var>state</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrenderstate-baselayer" id="ref-for-dom-xrrenderstate-baselayer⑤">baseLayer</a></code> to <code>null</code>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="3.5" id="animation-frames"><span class="secno">3.5. </span><span class="content">Animation Frames</span><a class="self-link" href="#animation-frames"></a></h3>
   <p>The primary way an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②⑤">XRSession</a></code> provides information about the tracking state of the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②②">XR device</a> is via callbacks scheduled by calling <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe①">requestAnimationFrame()</a></code> on the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②⑥">XRSession</a></code> instance.</p>
<pre class="idl highlight def"><c- b>callback</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="callback" data-export id="callbackdef-xrframerequestcallback"><code><c- g>XRFrameRequestCallback</c-></code></dfn> = <c- b>void</c-> (<a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp"><c- n>DOMHighResTimeStamp</c-></a> <dfn class="idl-code" data-dfn-for="XRFrameRequestCallback" data-dfn-type="argument" data-export id="dom-xrframerequestcallback-time"><code><c- g>time</c-></code><a class="self-link" href="#dom-xrframerequestcallback-time"></a></dfn>, <a class="n" data-link-type="idl-name" href="#xrframe" id="ref-for-xrframe"><c- n>XRFrame</c-></a> <dfn class="idl-code" data-dfn-for="XRFrameRequestCallback" data-dfn-type="argument" data-export id="dom-xrframerequestcallback-frame"><code><c- g>frame</c-></code><a class="self-link" href="#dom-xrframerequestcallback-frame"></a></dfn>);
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#callbackdef-xrframerequestcallback" id="ref-for-callbackdef-xrframerequestcallback①">XRFrameRequestCallback</a></code> object has a <dfn class="dfn-paneled" data-dfn-for="XRFrameRequestCallback" data-dfn-type="dfn" data-noexport id="xrframerequestcallback-cancelled">cancelled</dfn> boolean initially set to <code>false</code>.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②⑦">XRSession</a></code> has a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-animation-frame-callbacks">list of animation frame callbacks</dfn>, which is initially empty, and an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="animation-frame-callback-identifier">animation frame callback identifier</dfn>, which is a number initially be zero.</p>
   <div class="algorithm" data-algorithm="request-animation-frame">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-requestanimationframe"><code>requestAnimationFrame(<var>callback</var>)</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②⑧">XRSession</a></code> object.</p>
     <li data-md>
      <p>Increment <var>session</var>’s <a data-link-type="dfn" href="#animation-frame-callback-identifier" id="ref-for-animation-frame-callback-identifier">animation frame callback identifier</a> by one.</p>
     <li data-md>
      <p>Append <var>callback</var> to <var>session</var>’s <a data-link-type="dfn" href="#list-of-animation-frame-callbacks" id="ref-for-list-of-animation-frame-callbacks">list of animation frame callbacks</a>, associated with <var>session</var>’s <a data-link-type="dfn" href="#animation-frame-callback-identifier" id="ref-for-animation-frame-callback-identifier①">animation frame callback identifier</a>’s current value.</p>
     <li data-md>
      <p>Return <var>session</var>’s <a data-link-type="dfn" href="#animation-frame-callback-identifier" id="ref-for-animation-frame-callback-identifier②">animation frame callback identifier</a>’s current value.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="cancel-animation-frame">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="method" data-export id="dom-xrsession-cancelanimationframe"><code>cancelAnimationFrame(<var>handle</var>)</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession②⑨">XRSession</a></code> object.</p>
     <li data-md>
      <p>Find the entry in <var>session</var>’s <a data-link-type="dfn" href="#list-of-animation-frame-callbacks" id="ref-for-list-of-animation-frame-callbacks①">list of animation frame callbacks</a> that is associated with the value <var>handle</var>.</p>
     <li data-md>
      <p>If there is such an entry, set it’s <a data-link-type="dfn" href="#xrframerequestcallback-cancelled" id="ref-for-xrframerequestcallback-cancelled">cancelled</a> boolean to <code>true</code> and remove it from <var>session</var>’s <a data-link-type="dfn" href="#list-of-animation-frame-callbacks" id="ref-for-list-of-animation-frame-callbacks②">list of animation frame callbacks</a>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="run-animation-frames">
    <p>When an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③⓪">XRSession</a></code> <var>session</var> receives updated <a data-link-type="dfn" href="#viewer" id="ref-for-viewer②">viewer</a> state from the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②③">XR device</a>, it runs an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="xr-animation-frame">XR animation frame</dfn> with a timestamp <var>now</var> and an <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe①">XRFrame</a></code> <var>frame</var>, which MUST run the following steps regardless of if the <a data-link-type="dfn" href="#list-of-animation-frame-callbacks" id="ref-for-list-of-animation-frame-callbacks③">list of animation frame callbacks</a> is empty or not:</p>
    <ol>
     <li data-md>
      <p>Let <var>callbacks</var> be a list of the entries in <var>session</var>’s <a data-link-type="dfn" href="#list-of-animation-frame-callbacks" id="ref-for-list-of-animation-frame-callbacks④">list of animation frame callback</a>, in the order in which they were added to the list.</p>
     <li data-md>
      <p>If <var>session</var>’s <a data-link-type="dfn" href="#list-of-pending-render-states" id="ref-for-list-of-pending-render-states③">list of pending render states</a> is not empty, <a data-link-type="dfn" href="#apply-pending-render-states" id="ref-for-apply-pending-render-states">apply pending render states</a>.</p>
     <li data-md>
      <p>Set <var>session</var>’s <a data-link-type="dfn" href="#list-of-animation-frame-callbacks" id="ref-for-list-of-animation-frame-callbacks⑤">list of animation frame callbacks</a> to the empty list.</p>
     <li data-md>
      <p>Set <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-active" id="ref-for-xrframe-active">active</a> boolean to <code>true</code>.</p>
     <li data-md>
      <p>For each entry in <var>callbacks</var>, in order:</p>
      <ol>
       <li data-md>
        <p>If the entry’s <a data-link-type="dfn" href="#xrframerequestcallback-cancelled" id="ref-for-xrframerequestcallback-cancelled①">cancelled</a> boolean is <code>true</code>, continue to the next entry.</p>
       <li data-md>
        <p><a data-link-type="dfn" href="https://www.w3.org/TR/WebIDL-1/#es-invoking-callback-functions" id="ref-for-es-invoking-callback-functions">Invoke the Web IDL callback function</a>, passing <var>now</var> and <var>frame</var> as the  arguments</p>
       <li data-md>
        <p>If an exception is thrown, <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception" id="ref-for-report-the-exception">report the exception</a>.</p>
      </ol>
     <li data-md>
      <p>Set <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-active" id="ref-for-xrframe-active①">active</a> boolean to <code>false</code>.</p>
    </ol>
   </div>
   <section class="unstable">
    <h3 class="heading settled" data-level="3.6" id="compositor"><span class="secno">3.6. </span><span class="content">The XR Compositor</span><a class="self-link" href="#compositor"></a></h3>
    <p>The user agent MUST maintain an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="xr-compositor">XR Compositor</dfn> which handles presentation to the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②④">XR device</a> and frame timing. The compositor MUST use an independent rendering context whose state is isolated from that of any WebGL contexts used as <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer">XRWebGLLayer</a></code> sources to prevent the page from corrupting the compositor state or reading back content from other pages. the compositor MUST also run in separate thread or processes to decouple performance of the page from the ability to present new imagery to the user at the appropriate framerate.</p>
    <p>The <a data-link-type="dfn" href="#xr-compositor" id="ref-for-xr-compositor">XR Compositor</a> has a list of layer images, which is initially empty.</p>
   </section>
   <h2 class="heading settled" data-level="4" id="frame"><span class="secno">4. </span><span class="content">Frame Loop</span><a class="self-link" href="#frame"></a></h2>
   <h3 class="heading settled" data-level="4.1" id="xrframe-interface"><span class="secno">4.1. </span><span class="content">XRFrame</span><a class="self-link" href="#xrframe-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe②">XRFrame</a></code> represents a snapshot of the state of all of the tracked objects for an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③①">XRSession</a></code>. Applications can acquire an <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe③">XRFrame</a></code> by calling <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe②">requestAnimationFrame()</a></code> on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③②">XRSession</a></code> with an <code class="idl"><a data-link-type="idl" href="#callbackdef-xrframerequestcallback" id="ref-for-callbackdef-xrframerequestcallback②">XRFrameRequestCallback</a></code>. When the callback is called it will be passed an <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe④">XRFrame</a></code>. Events which need to communicate tracking state, such as the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-select" id="ref-for-eventdef-xrsession-select①">select</a></code> event, will also provide a <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe⑤">XRFrame</a></code>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext④"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed③"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrframe"><code><c- g>XRFrame</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession③③"><c- n>XRSession</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRSession" href="#dom-xrframe-session" id="ref-for-dom-xrframe-session"><c- g>session</c-></a>;

  <a class="n" data-link-type="idl-name" href="#xrviewerpose" id="ref-for-xrviewerpose"><c- n>XRViewerPose</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrframe-getviewerpose" id="ref-for-dom-xrframe-getviewerpose"><c- g>getViewerPose</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①"><c- n>XRReferenceSpace</c-></a> <dfn class="idl-code" data-dfn-for="XRFrame/getViewerPose(referenceSpace), XRFrame/getViewerPose()" data-dfn-type="argument" data-export id="dom-xrframe-getviewerpose-referencespace-referencespace"><code><c- g>referenceSpace</c-></code><a class="self-link" href="#dom-xrframe-getviewerpose-referencespace-referencespace"></a></dfn>);
  <a class="n" data-link-type="idl-name" href="#xrinputpose" id="ref-for-xrinputpose"><c- n>XRInputPose</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrframe-getinputpose" id="ref-for-dom-xrframe-getinputpose"><c- g>getInputPose</c-></a>(<a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource①"><c- n>XRInputSource</c-></a> <dfn class="idl-code" data-dfn-for="XRFrame/getInputPose(inputSource, referenceSpace), XRFrame/getInputPose(inputSource)" data-dfn-type="argument" data-export id="dom-xrframe-getinputpose-inputsource-referencespace-inputsource"><code><c- g>inputSource</c-></code><a class="self-link" href="#dom-xrframe-getinputpose-inputsource-referencespace-inputsource"></a></dfn>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace②"><c- n>XRReferenceSpace</c-></a> <dfn class="idl-code" data-dfn-for="XRFrame/getInputPose(inputSource, referenceSpace), XRFrame/getInputPose(inputSource)" data-dfn-type="argument" data-export id="dom-xrframe-getinputpose-inputsource-referencespace-referencespace"><code><c- g>referenceSpace</c-></code><a class="self-link" href="#dom-xrframe-getinputpose-inputsource-referencespace-referencespace"></a></dfn>);
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe⑥">XRFrame</a></code> has a <dfn class="dfn-paneled" data-dfn-for="XRFrame" data-dfn-type="dfn" data-noexport id="xrframe-active">active</dfn> boolean which is initially set to <code>false</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRFrame" data-dfn-type="attribute" data-export id="dom-xrframe-session"><code>session</code></dfn> attribute returns the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③④">XRSession</a></code> that produced the <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe⑦">XRFrame</a></code>.</p>
   <div class="algorithm" data-algorithm="get-viewer-pose">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRFrame" data-dfn-type="method" data-export data-lt="getViewerPose(referenceSpace)|getViewerPose()" id="dom-xrframe-getviewerpose"><code>getViewerPose(<var>referenceSpace</var>)</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe⑧">XRFrame</a></code>'s <a data-link-type="dfn" href="#xrframe-active" id="ref-for-xrframe-active②">active</a> boolean is <code>false</code>, throw a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror③">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>session</var> be the <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe⑨">XRFrame</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrframe-session" id="ref-for-dom-xrframe-session①">session</a></code> object.</p>
     <li data-md>
      <p>If <var>referenceSpace</var>’s <a data-link-type="dfn" href="#xrspace-session" id="ref-for-xrspace-session">session</a> does not equal <var>session</var>, return <code>null</code> and abort these steps.</p>
     <li data-md>
      <p>If the <a data-link-type="dfn" href="#viewer" id="ref-for-viewer③">viewer</a>'s pose cannot be determined relative to <var>referenceSpace</var>, return <code>null</code></p>
     <li data-md>
      <p>Return a new <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose①">XRViewerPose</a></code> describing the <a data-link-type="dfn" href="#viewer" id="ref-for-viewer④">viewer</a>'s pose relative to the origin of <var>referenceSpace</var> at the timestamp of the <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe①⓪">XRFrame</a></code>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="get-input-pose">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRFrame" data-dfn-type="method" data-export data-lt="getInputPose(inputSource, referenceSpace)|getInputPose(inputSource)" id="dom-xrframe-getinputpose"><code>getInputPose(<var>inputSource</var>, <var>referenceSpace</var>)</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>If the <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe①①">XRFrame</a></code>'s <a data-link-type="dfn" href="#xrframe-active" id="ref-for-xrframe-active③">active</a> boolean is <code>false</code>, throw a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror④">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Let <var>session</var> be the <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe①②">XRFrame</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrframe-session" id="ref-for-dom-xrframe-session②">session</a></code> object.</p>
     <li data-md>
      <p>If <var>referenceSpace</var>’s <a data-link-type="dfn" href="#xrspace-session" id="ref-for-xrspace-session①">session</a> does not equal <var>session</var>, return <code>null</code> and abort these steps.</p>
     <li data-md>
      <p>If <var>inputSource</var>’s pose cannot be determined relative to <var>referenceSpace</var>, return <code>null</code></p>
     <li data-md>
      <p>Return a new <code class="idl"><a data-link-type="idl" href="#xrinputpose" id="ref-for-xrinputpose①">XRInputPose</a></code> describing <var>inputSource</var>’s pose relative to the origin of <var>referenceSpace</var>.</p>
    </ol>
   </div>
   <h2 class="heading settled" data-level="5" id="spaces"><span class="secno">5. </span><span class="content">Spaces</span><a class="self-link" href="#spaces"></a></h2>
   <h3 class="heading settled" data-level="5.1" id="xrspace-interface"><span class="secno">5.1. </span><span class="content">XRSpace</span><a class="self-link" href="#xrspace-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrspace" id="ref-for-xrspace">XRSpace</a></code> describes an entity that is tracked by the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②⑤">XR device</a>'s tracking systems. <code class="idl"><a data-link-type="idl" href="#xrspace" id="ref-for-xrspace①">XRSpace</a></code>s MAY NOT have a fixed spatial relationship to one another or to any given <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace③">XRReferenceSpace</a></code>. The transform between two <code class="idl"><a data-link-type="idl" href="#xrspace" id="ref-for-xrspace②">XRSpace</a></code> can be evaluated by calling the <code class="idl"><a data-link-type="idl" href="#dom-xrspace-gettransformto" id="ref-for-dom-xrspace-gettransformto">getTransformTo()</a></code> method every <a data-link-type="dfn" href="#xr-animation-frame" id="ref-for-xr-animation-frame">XR animation frame</a>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑤"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed④"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrspace"><code><c- g>XRSpace</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②"><c- n>EventTarget</c-></a> {
  <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform"><c- n>XRRigidTransform</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrspace-gettransformto" id="ref-for-dom-xrspace-gettransformto①"><c- g>getTransformTo</c-></a>(<a class="n" data-link-type="idl-name" href="#xrspace" id="ref-for-xrspace③"><c- n>XRSpace</c-></a> <dfn class="idl-code" data-dfn-for="XRSpace/getTransformTo(other)" data-dfn-type="argument" data-export id="dom-xrspace-gettransformto-other-other"><code><c- g>other</c-></code><a class="self-link" href="#dom-xrspace-gettransformto-other-other"></a></dfn>);
};
</pre>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrspace" id="ref-for-xrspace④">XRSpace</a></code> has a <dfn class="dfn-paneled" data-dfn-for="XRSpace" data-dfn-type="dfn" data-noexport id="xrspace-session">session</dfn> which is set to the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③⑤">XRSession</a></code> that created the {{XRSpace}.</p>
   <div class="algorithm" data-algorithm="get-transform-to">
    <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="XRSpace" data-dfn-type="method" data-export id="dom-xrspace-gettransformto"><code>getTransformTo(<var>other</var>)</code></dfn> method is invoked, the user agent MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>current</var> be the target <code class="idl"><a data-link-type="idl" href="#xrspace" id="ref-for-xrspace⑤">XRSpace</a></code> object.</p>
     <li data-md>
      <p>If a known transform exists from the space described by <var>current</var> to the space described by <var>other</var>, return it as an <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform①">XRRigidTransform</a></code>.</p>
     <li data-md>
      <p>Else return <code>null</code></p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="5.2" id="xrreferencespace-interface"><span class="secno">5.2. </span><span class="content">XRReferenceSpace</span><a class="self-link" href="#xrreferencespace-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace④">XRReferenceSpace</a></code> describes an <code class="idl"><a data-link-type="idl" href="#xrspace" id="ref-for-xrspace⑥">XRSpace</a></code> that is generally expected to remain static for the duration of the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③⑥">XRSession</a></code>, with the most common exception being mid-session reconfiguration by the user. Every <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace⑤">XRReferenceSpace</a></code> describes a coordinate system where the Y axis MUST be aligned with gravity, with <code>+Y</code> being "Up". <code>-Z</code> is considered "Forward", and <code>+X</code> is considered "Right".</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrreferencespacetype"><code><c- g>XRReferenceSpaceType</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrreferencespacetype-stationary" id="ref-for-dom-xrreferencespacetype-stationary"><c- s>"stationary"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrreferencespacetype-bounded" id="ref-for-dom-xrreferencespacetype-bounded"><c- s>"bounded"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrreferencespacetype-unbounded" id="ref-for-dom-xrreferencespacetype-unbounded"><c- s>"unbounded"</c-></a>
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrstationaryreferencespacesubtype"><code><c- g>XRStationaryReferenceSpaceSubtype</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrstationaryreferencespacesubtype-eye-level" id="ref-for-dom-xrstationaryreferencespacesubtype-eye-level"><c- s>"eye-level"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrstationaryreferencespacesubtype-floor-level" id="ref-for-dom-xrstationaryreferencespacesubtype-floor-level"><c- s>"floor-level"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrstationaryreferencespacesubtype-position-disabled" id="ref-for-dom-xrstationaryreferencespacesubtype-position-disabled"><c- s>"position-disabled"</c-></a>
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrreferencespaceoptions"><code><c- g>XRReferenceSpaceOptions</c-></code></dfn> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrreferencespacetype" id="ref-for-enumdef-xrreferencespacetype"><c- n>XRReferenceSpaceType</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceOptions" data-dfn-type="dict-member" data-export data-type="XRReferenceSpaceType " id="dom-xrreferencespaceoptions-type"><code><c- g>type</c-></code></dfn>;
  <a class="n" data-link-type="idl-name" href="#enumdef-xrstationaryreferencespacesubtype" id="ref-for-enumdef-xrstationaryreferencespacesubtype"><c- n>XRStationaryReferenceSpaceSubtype</c-></a> <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceOptions" data-dfn-type="dict-member" data-export data-type="XRStationaryReferenceSpaceSubtype " id="dom-xrreferencespaceoptions-subtype"><code><c- g>subtype</c-></code></dfn>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑥"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑤"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrreferencespace"><code><c- g>XRReferenceSpace</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="#xrspace" id="ref-for-xrspace⑦"><c- n>XRSpace</c-></a> {
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform②"><c- n>XRRigidTransform</c-></a> <a class="idl-code" data-link-type="attribute" data-type="XRRigidTransform" href="#dom-xrreferencespace-originoffset" id="ref-for-dom-xrreferencespace-originoffset"><c- g>originOffset</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑧"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrreferencespace-onreset" id="ref-for-dom-xrreferencespace-onreset"><c- g>onreset</c-></a>;
};
</pre>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace⑥">XRReferenceSpace</a></code> is obtained by calling <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestreferencespace" id="ref-for-dom-xrsession-requestreferencespace①">requestReferenceSpace()</a></code>, which creates an instance of an interface extending <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace⑦">XRReferenceSpace</a></code>, determined by the <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-type" id="ref-for-dom-xrreferencespaceoptions-type">type</a></code> value of the <code class="idl"><a data-link-type="idl" href="#dictdef-xrreferencespaceoptions" id="ref-for-dictdef-xrreferencespaceoptions①">XRReferenceSpaceOptions</a></code> dictionary passed into the call:</p>
   <ul>
    <li data-md>
     <p>Passing a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-type" id="ref-for-dom-xrreferencespaceoptions-type①">type</a></code> of <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceType" data-dfn-type="enum-value" data-export id="dom-xrreferencespacetype-stationary"><code>stationary</code></dfn> creates an <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace">XRStationaryReferenceSpace</a></code> instance.</p>
    <li data-md>
     <p>Passing a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-type" id="ref-for-dom-xrreferencespaceoptions-type②">type</a></code> of <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceType" data-dfn-type="enum-value" data-export id="dom-xrreferencespacetype-bounded"><code>bounded</code></dfn> creates an <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace">XRBoundedReferenceSpace</a></code> instance if supported by the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②⑥">XR device</a> and the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③⑦">XRSession</a></code>.</p>
    <li data-md>
     <p>Passing a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-type" id="ref-for-dom-xrreferencespaceoptions-type③">type</a></code> of <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceType" data-dfn-type="enum-value" data-export id="dom-xrreferencespacetype-unbounded"><code>unbounded</code></dfn> creates an <code class="idl"><a data-link-type="idl" href="#xrunboundedreferencespace" id="ref-for-xrunboundedreferencespace">XRUnboundedReferenceSpace</a></code> instance if supported by the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②⑦">XR device</a> and the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③⑧">XRSession</a></code>.</p>
   </ul>
   <section class="unstable">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpace" data-dfn-type="attribute" data-export id="dom-xrreferencespace-originoffset"><code>originOffset</code></dfn> attribute is a <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform③">XRRigidTransform</a></code> that describes an additional translation and rotation to be applied to any poses queried using the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace⑧">XRReferenceSpace</a></code>. It is initially set to an <a data-link-type="dfn" href="#identity-transform" id="ref-for-identity-transform">identity transform</a>. Changes to the <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespace-originoffset" id="ref-for-dom-xrreferencespace-originoffset①">originOffset</a></code> take effect immediately, and subsequent poses queried with the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace⑨">XRReferenceSpace</a></code> will take into account the new transform. 
    <p class="note" role="note"><span>Note:</span> Changing the <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespace-originoffset" id="ref-for-dom-xrreferencespace-originoffset②">originOffset</a></code> between pose queries in a single <a data-link-type="dfn" href="#xr-animation-frame" id="ref-for-xr-animation-frame①">XR animation frame</a> is not advised, since it will cause inconsistencies in the tracking data and rendered output.</p>
   </section>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpace" data-dfn-type="attribute" data-export id="dom-xrreferencespace-onreset"><code>onreset</code></dfn> attribute is an <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes" id="ref-for-event-handler-idl-attributes⑧">Event handler IDL attribute</a> for the <code class="idl"><a data-link-type="idl" href="#eventdef-xrreferencespace-reset" id="ref-for-eventdef-xrreferencespace-reset">reset</a></code> event type.</p>
   <div class="algorithm" data-algorithm="create-frame-of-reference">
    <p>When an <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace①⓪">XRReferenceSpace</a></code> is requested, the user agent MUST <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="create-a-reference-space">create a reference space</dfn> by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Initialize <a data-link-type="dfn" href="#xrspace-session" id="ref-for-xrspace-session②">session</a> be the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession③⑨">XRSession</a></code> object that requested creation of a reference space.</p>
     <li data-md>
      <p>Let <var>options</var> be the <code class="idl"><a data-link-type="idl" href="#dictdef-xrreferencespaceoptions" id="ref-for-dictdef-xrreferencespaceoptions②">XRReferenceSpaceOptions</a></code> passed to <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestreferencespace" id="ref-for-dom-xrsession-requestreferencespace②">requestReferenceSpace()</a></code>.</p>
     <li data-md>
      <p>Let <var>type</var> be set to <var>options</var> <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-type" id="ref-for-dom-xrreferencespaceoptions-type④">type</a></code>.</p>
     <li data-md>
      <p>Let <var>referenceSpace</var> be set to <code>null</code>.</p>
     <li data-md>
      <p>If <var>type</var> is <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-stationary" id="ref-for-dom-xrreferencespacetype-stationary①">stationary</a></code> and <var>options</var> does not have a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype">subtype</a></code> field, throw <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror">TypeError</a></code>.</p>
     <li data-md>
      <p>Else if <var>type</var> is <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-bounded" id="ref-for-dom-xrreferencespacetype-bounded①">bounded</a></code> or <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-unbounded" id="ref-for-dom-xrreferencespacetype-unbounded①">unbounded</a></code> and <var>options</var> has a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype①">subtype</a></code> field, throw a <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#exceptiondef-typeerror" id="ref-for-exceptiondef-typeerror①">TypeError</a></code>.</p>
     <li data-md>
      <p>If <var>type</var> is <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-stationary" id="ref-for-dom-xrreferencespacetype-stationary②">stationary</a></code>, let <var>referenceSpace</var> be a new <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace①">XRStationaryReferenceSpace</a></code> with a <code class="idl"><a data-link-type="idl" href="#dom-xrstationaryreferencespace-subtype" id="ref-for-dom-xrstationaryreferencespace-subtype">subtype</a></code> of <var>options</var> <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype②">subtype</a></code>.</p>
     <li data-md>
      <p>Else if <var>type</var> is <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-bounded" id="ref-for-dom-xrreferencespacetype-bounded②">bounded</a></code>, let <var>referenceSpace</var> be a new <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace①">XRBoundedReferenceSpace</a></code>.</p>
     <li data-md>
      <p>Else if <var>type</var> is <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-unbounded" id="ref-for-dom-xrreferencespacetype-unbounded②">unbounded</a></code>, let <var>referenceSpace</var> be a new <code class="idl"><a data-link-type="idl" href="#xrunboundedreferencespace" id="ref-for-xrunboundedreferencespace①">XRUnboundedReferenceSpace</a></code>.</p>
     <li data-md>
      <p>Return <var>referenceSpace</var>.</p>
    </ol>
   </div>
   <h3 class="heading settled" data-level="5.3" id="xrstationaryreferencespace-interface"><span class="secno">5.3. </span><span class="content">XRStationaryReferenceSpace</span><a class="self-link" href="#xrstationaryreferencespace-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace②">XRStationaryReferenceSpace</a></code> represents a tracking space that the user is not expected to move around within. Tracking in a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-stationary" id="ref-for-dom-xrreferencespacetype-stationary③">stationary</a></code> reference space is optimized for the assumption that the user will not move much beyond their starting point, if at all. For devices with <a data-link-type="dfn" href="#6dof" id="ref-for-6dof②">6DoF</a> tracking, <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-stationary" id="ref-for-dom-xrreferencespacetype-stationary④">stationary</a></code> reference spaces should emphasize keeping the origin stable relative to the user’s environment.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑦"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑥"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrstationaryreferencespace"><code><c- g>XRStationaryReferenceSpace</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①①"><c- n>XRReferenceSpace</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrstationaryreferencespacesubtype" id="ref-for-enumdef-xrstationaryreferencespacesubtype①"><c- n>XRStationaryReferenceSpaceSubtype</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRStationaryReferenceSpaceSubtype" href="#dom-xrstationaryreferencespace-subtype" id="ref-for-dom-xrstationaryreferencespace-subtype①"><c- g>subtype</c-></a>;
};
</pre>
   <p>There are several subtypes of <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace③">XRStationaryReferenceSpace</a></code>, determined by the <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype③">subtype</a></code> value of the <code class="idl"><a data-link-type="idl" href="#dictdef-xrreferencespaceoptions" id="ref-for-dictdef-xrreferencespaceoptions③">XRReferenceSpaceOptions</a></code> dictionary passed into the <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestreferencespace" id="ref-for-dom-xrsession-requestreferencespace③">requestReferenceSpace()</a></code> call:</p>
   <ul>
    <li data-md>
     <p>Passing a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype④">subtype</a></code> of <dfn class="dfn-paneled idl-code" data-dfn-for="XRStationaryReferenceSpaceSubtype" data-dfn-type="enum-value" data-export id="dom-xrstationaryreferencespacesubtype-eye-level"><code>eye-level</code></dfn> creates an <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace④">XRStationaryReferenceSpace</a></code> with it’s origin near the user’s head at the time of creation. The exact position and orientation will be initialized based on the conventions of the underlying platform.</p>
    <li data-md>
     <p>Passing a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype⑤">subtype</a></code> of <dfn class="dfn-paneled idl-code" data-dfn-for="XRStationaryReferenceSpaceSubtype" data-dfn-type="enum-value" data-export id="dom-xrstationaryreferencespacesubtype-floor-level"><code>floor-level</code></dfn> creates an <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace⑤">XRStationaryReferenceSpace</a></code> with it’s origin positioned at the floor in a safe position for the user to stand. The `y` axis equals `0` at floor level, with the `x` and `z` position and orientation initialized based on the conventions of the underlying platform. If the floor level isn’t known it will be estimated.</p>
    <li data-md>
     <p>Passing a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceoptions-subtype" id="ref-for-dom-xrreferencespaceoptions-subtype⑥">subtype</a></code> of <dfn class="dfn-paneled idl-code" data-dfn-for="XRStationaryReferenceSpaceSubtype" data-dfn-type="enum-value" data-export id="dom-xrstationaryreferencespacesubtype-position-disabled"><code>position-disabled</code></dfn> creates an <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace⑥">XRStationaryReferenceSpace</a></code> where orientation is tracked but the <a data-link-type="dfn" href="#viewer" id="ref-for-viewer⑤">viewer</a>s position is always reported as being at the origin.</p>
   </ul>
   <p class="note" role="note"><span>Note:</span> The <code class="idl"><a data-link-type="idl" href="#dom-xrstationaryreferencespacesubtype-position-disabled" id="ref-for-dom-xrstationaryreferencespacesubtype-position-disabled①">position-disabled</a></code> subtype is primarily intended for use with pre-rendered media such as panoramic photos or videos. It should not be used for most other media types due to user discomfort associated with the lack of a neck model or full positional tracking.</p>
   <p>The <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace⑦">XRStationaryReferenceSpace</a></code>'s <dfn class="dfn-paneled idl-code" data-dfn-for="XRStationaryReferenceSpace" data-dfn-type="attribute" data-export id="dom-xrstationaryreferencespace-subtype"><code>subtype</code></dfn> attribute is the <code class="idl"><a data-link-type="idl" href="#enumdef-xrstationaryreferencespacesubtype" id="ref-for-enumdef-xrstationaryreferencespacesubtype②">XRStationaryReferenceSpaceSubtype</a></code> that the <code class="idl"><a data-link-type="idl" href="#xrstationaryreferencespace" id="ref-for-xrstationaryreferencespace⑧">XRStationaryReferenceSpace</a></code> was created with.</p>
   <h3 class="heading settled" data-level="5.4" id="xrboundedreferencespace-interface"><span class="secno">5.4. </span><span class="content">XRBoundedReferenceSpace</span><a class="self-link" href="#xrboundedreferencespace-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace②">XRBoundedReferenceSpace</a></code> represents a floor-relative tracking space where the user is expected to move within a pre-established boundary. Tracking in an <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-bounded" id="ref-for-dom-xrreferencespacetype-bounded③">bounded</a></code> reference space is optimized for keeping the reference space origin and bounds geometry stable relative to the user’s environment.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑧"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑦"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrboundedreferencespace"><code><c- g>XRBoundedReferenceSpace</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①②"><c- n>XRReferenceSpace</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>FrozenArray</c->&lt;<a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly"><c- n>DOMPointReadOnly</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMPointReadOnly>" href="#dom-xrboundedreferencespace-boundsgeometry" id="ref-for-dom-xrboundedreferencespace-boundsgeometry"><c- g>boundsGeometry</c-></a>;
};    
</pre>
   <p>The origin of a <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace③">XRBoundedReferenceSpace</a></code> MUST be positioned at the floor, such that the `y` axis equals `0` at floor level. The `x` and `z` position and orientation are initialized based on the conventions of the underlying platform, typically expected to be near the center of the room facing in a logical forward direction.</p>
   <p class="note" role="note"><span>Note:</span> Other XR platforms sometimes refer to the type of tracking offered by a <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-bounded" id="ref-for-dom-xrreferencespacetype-bounded④">bounded</a></code> reference space as "room scale" tracking. An <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace④">XRBoundedReferenceSpace</a></code> is not intended to describe multi-room spaces, areas with uneven floor levels, or very large open areas. Content that needs to handle those scenarios should use an <code class="idl"><a data-link-type="idl" href="#xrunboundedreferencespace" id="ref-for-xrunboundedreferencespace②">XRUnboundedReferenceSpace</a></code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRBoundedReferenceSpace" data-dfn-type="attribute" data-export id="dom-xrboundedreferencespace-boundsgeometry"><code>boundsGeometry</code></dfn> attribute describes the border around the <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace⑤">XRBoundedReferenceSpace</a></code>, which the user can expect to safely move within.</p>
   <p>The polygonal boundary is given as an array of <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly①">DOMPointReadOnly</a></code>s, which represents a loop of points at the edges of the safe space. The points describe offsets from the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace①③">XRReferenceSpace</a></code> origin in meters. Points MUST be given in a clockwise order as viewed from above, looking towards the negative end of the Y axis. The <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y">y</a></code> value of each point MUST be <code>0</code> and the <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w">w</a></code> value of each point MUST be <code>1</code>. The bounds can be considered to originate at the floor and extend infinitely high. The shape it describes MAY not be convex.</p>
   <p class="note" role="note"><span>Note:</span> Content should not require the user to move beyond the <code class="idl"><a data-link-type="idl" href="#dom-xrboundedreferencespace-boundsgeometry" id="ref-for-dom-xrboundedreferencespace-boundsgeometry①">boundsGeometry</a></code>. It is possible for the user to move beyond the bounds if their physical surroundings allow for it, resulting in position values outside of the polygon they describe. This is not an error condition and should be handled gracefully by page content.</p>
   <p class="note" role="note"><span>Note:</span> Content generally should not provide a visualization of the <code class="idl"><a data-link-type="idl" href="#dom-xrboundedreferencespace-boundsgeometry" id="ref-for-dom-xrboundedreferencespace-boundsgeometry②">boundsGeometry</a></code>, as it’s the user agent’s responsibility to ensure that safety critical information is provided to the user.</p>
   <h3 class="heading settled" data-level="5.5" id="xrunboundedreferencespace-interface"><span class="secno">5.5. </span><span class="content">XRUnboundedReferenceSpace</span><a class="self-link" href="#xrunboundedreferencespace-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrunboundedreferencespace" id="ref-for-xrunboundedreferencespace③">XRUnboundedReferenceSpace</a></code> represents a tracking space where the user is expected to move freely around their environment, potentially even long distances from their starting point. Tracking in an <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespacetype-unbounded" id="ref-for-dom-xrreferencespacetype-unbounded③">unbounded</a></code> reference space is optimized for stability around the user’s current position, and as such the tracking origin may drift over time.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑨"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑧"><c- g>Exposed</c-></a>=<c- n>Window</c->] 
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrunboundedreferencespace"><code><c- g>XRUnboundedReferenceSpace</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①④"><c- n>XRReferenceSpace</c-></a> {
};  
</pre>
   <h2 class="heading settled" data-level="6" id="views"><span class="secno">6. </span><span class="content">Views</span><a class="self-link" href="#views"></a></h2>
   <section class="unstable">
    <h3 class="heading settled" data-level="6.1" id="xrview-interface"><span class="secno">6.1. </span><span class="content">XRView</span><a class="self-link" href="#xrview-interface"></a></h3>
    <p>An <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview">XRView</a></code> describes a single <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="view">view</dfn> into an XR scene. Each <a data-link-type="dfn" href="#view" id="ref-for-view">view</a> corresponds to a display or portion of a display used by an XR device to present imagery to the user. They are used to retrieve all the information necessary to render content that is well aligned to the <a data-link-type="dfn" href="#view" id="ref-for-view①">view</a>'s physical output properties, including the field of view, eye offset, and other optical properties. <a data-link-type="dfn" href="#view" id="ref-for-view②">Views</a> may cover overlapping regions of the user’s vision. No guarantee is made about the number of <a data-link-type="dfn" href="#view" id="ref-for-view③">views</a> any XR device uses or their order, nor is the number of <a data-link-type="dfn" href="#view" id="ref-for-view④">views</a> required to be constant for the duration of an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④⓪">XRSession</a></code>.</p>
    <p class="note" role="note"><span>NOTE:</span> Many HMDs will request that content render two <a data-link-type="dfn" href="#view" id="ref-for-view⑤">views</a>, one for the left eye and one for the right, while most magic window devices will only request one <a data-link-type="dfn" href="#view" id="ref-for-view⑥">view</a>, but applications should never assume a specific view configuration. For example: A magic window device may request two views if it is capable of stereo output, but may revert to requesting a single view for performance reasons if the stereo output mode is turned off. Similarly, HMDs may request more than two views to facilitate a wide field of view or displays of different pixel density.</p>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xreye"><code><c- g>XREye</c-></code></dfn> {
  <dfn class="dfn-paneled idl-code" data-dfn-for="XREye" data-dfn-type="enum-value" data-export id="dom-xreye-left"><code><c- s>"left"</c-></code></dfn>,
  <dfn class="idl-code" data-dfn-for="XREye" data-dfn-type="enum-value" data-export id="dom-xreye-right"><code><c- s>"right"</c-></code><a class="self-link" href="#dom-xreye-right"></a></dfn>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⓪"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑨"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrview"><code><c- g>XRView</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xreye" id="ref-for-enumdef-xreye"><c- n>XREye</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XREye" href="#dom-xrview-eye" id="ref-for-dom-xrview-eye"><c- g>eye</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrview-projectionmatrix" id="ref-for-dom-xrview-projectionmatrix"><c- g>projectionMatrix</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array①"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrview-viewmatrix" id="ref-for-dom-xrview-viewmatrix"><c- g>viewMatrix</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform④"><c- n>XRRigidTransform</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform" href="#dom-xrview-transform" id="ref-for-dom-xrview-transform"><c- g>transform</c-></a>;
};
</pre>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRView" data-dfn-type="attribute" data-export id="dom-xrview-eye"><code>eye</code></dfn> attribute describes which eye this view is expected to be shown to. This attribute’s primary purpose is to ensure that pre-rendered stereo content can present the correct portion of the content to the correct eye. If the view does not have an intrinsically associated eye (the display is monoscopic, for example) this attribute MUST be set to <code class="idl"><a data-link-type="idl" href="#dom-xreye-left" id="ref-for-dom-xreye-left">"left"</a></code>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRView" data-dfn-type="attribute" data-export id="dom-xrview-projectionmatrix"><code>projectionMatrix</code></dfn> attribute provides a <a data-link-type="dfn" href="#matrix" id="ref-for-matrix">matrix</a> describing the projection to be used when rendering the <a data-link-type="dfn" href="#view" id="ref-for-view⑦">view</a>. It is <b>strongly recommended</b> that applications use this matrix without modification. Failure to use the provided projection matrices when rendering may cause the presented frame to be distorted or badly aligned, resulting in varying degrees of user discomfort.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRView" data-dfn-type="attribute" data-export id="dom-xrview-viewmatrix"><code>viewMatrix</code></dfn> attribute provides a <a data-link-type="dfn" href="#matrix" id="ref-for-matrix①">matrix</a> describing the view transform to be used when rendering the <a data-link-type="dfn" href="#view" id="ref-for-view⑧">view</a>. The <a data-link-type="dfn" href="#matrix" id="ref-for-matrix②">matrix</a> represents the inverse of the <code class="idl"><a data-link-type="idl" href="#dom-xrview-transform" id="ref-for-dom-xrview-transform①">transform</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix">matrix</a></code>. It is <b>strongly recommended</b> that applications use this matrix without modification. Failure to use the provided view matrices when rendering may cause the presented frame to be distorted or badly aligned, resulting in varying degrees of user discomfort.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRView" data-dfn-type="attribute" data-export id="dom-xrview-transform"><code>transform</code></dfn> attribute is the <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform⑤">XRRigidTransform</a></code> of the viewpoint.</p>
    <p class="note" role="note"><span>NOTE:</span> The <code class="idl"><a data-link-type="idl" href="#dom-xrview-transform" id="ref-for-dom-xrview-transform②">transform</a></code> can be used to position camera objects in many rendering libraries instead of using the <code class="idl"><a data-link-type="idl" href="#dom-xrview-viewmatrix" id="ref-for-dom-xrview-viewmatrix①">viewMatrix</a></code> directly if the library is more naturally set up to consume data in that format.</p>
   </section>
   <h3 class="heading settled" data-level="6.2" id="xrviewport-interface"><span class="secno">6.2. </span><span class="content">XRViewport</span><a class="self-link" href="#xrviewport-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrviewport" id="ref-for-xrviewport">XRViewport</a></code> object describes a viewport, or rectangular region, of a graphics surface.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⓪"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrviewport"><code><c- g>XRViewport</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long②"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-x" id="ref-for-dom-xrviewport-x"><c- g>x</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long③"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-y" id="ref-for-dom-xrviewport-y"><c- g>y</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long④"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-width" id="ref-for-dom-xrviewport-width"><c- g>width</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long⑤"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-height" id="ref-for-dom-xrviewport-height"><c- g>height</c-></a>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRViewport" data-dfn-type="attribute" data-export id="dom-xrviewport-x"><code>x</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="XRViewport" data-dfn-type="attribute" data-export id="dom-xrviewport-y"><code>y</code></dfn> attributes define an offset from the surface origin and the <dfn class="dfn-paneled idl-code" data-dfn-for="XRViewport" data-dfn-type="attribute" data-export id="dom-xrviewport-width"><code>width</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="XRViewport" data-dfn-type="attribute" data-export id="dom-xrviewport-height"><code>height</code></dfn> attributes define the rectangular dimensions of the viewport.</p>
   <p>The exact interpretation of the viewport values depends on the conventions of the graphics API the viewport is associated with:</p>
   <ul>
    <li data-md>
     <p>When used with a <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer①">XRWebGLLayer</a></code> the <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-x" id="ref-for-dom-xrviewport-x①">x</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-y" id="ref-for-dom-xrviewport-y①">y</a></code> attributes specify the lower left corner of the viewport rectangle, in pixels, with the viewport rectangle extending <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-width" id="ref-for-dom-xrviewport-width①">width</a></code> pixels to the right of <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-x" id="ref-for-dom-xrviewport-x②">x</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-height" id="ref-for-dom-xrviewport-height①">height</a></code> pixels above <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-y" id="ref-for-dom-xrviewport-y②">y</a></code>. The values can be passed to the <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.4" id="ref-for-5.14.4">WebGL viewport</a> function directly.</p>
   </ul>
   <div class="example" id="example-36db3bb0">
    <a class="self-link" href="#example-36db3bb0"></a> The following code loops through all of the <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview①">XRView</a></code>s of an <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose②">XRViewerPose</a></code>, queries an <code class="idl"><a data-link-type="idl" href="#xrviewport" id="ref-for-xrviewport①">XRViewport</a></code> from an <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer②">XRWebGLLayer</a></code> for each, and uses them to set the appropriate <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.4" id="ref-for-5.14.4①">WebGL viewport</a>s for rendering. 
<pre class="highlight">xrSession<c- p>.</c->requestAnimationFrame<c- p>((</c->time<c- p>,</c-> xrFrame<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
  <c- a>let</c-> viewer <c- o>=</c-> xrFrame<c- p>.</c->getViewerPose<c- p>(</c->xrReferenceSpace<c- p>);</c->

  gl<c- p>.</c->bindFramebuffer<c- p>(</c->xrWebGLLayer<c- p>.</c->framebuffer<c- p>);</c->
  <c- k>for</c-> <c- p>(</c->xrView <c- k>of</c-> viewer<c- p>.</c->views<c- p>)</c-> <c- p>{</c->
    <c- a>let</c-> xrViewport <c- o>=</c-> xrWebGLLayer<c- p>.</c->getViewport<c- p>(</c->xrView<c- p>);</c->
    gl<c- p>.</c->viewport<c- p>(</c->xrViewport<c- p>.</c->x<c- p>,</c-> xrViewport<c- p>.</c->y<c- p>,</c-> xrViewport<c- p>.</c->width<c- p>,</c-> xrViewport<c- p>.</c->height<c- p>);</c->

    <c- c1>// WebGL draw calls will now be rendered into the appropriate viewport.</c->
  <c- p>}</c->
<c- p>});</c->
</pre>
   </div>
   <h2 class="heading settled" data-level="7" id="geometricprimitives"><span class="secno">7. </span><span class="content">Geometric Primitives</span><a class="self-link" href="#geometricprimitives"></a></h2>
   <h3 class="heading settled" data-level="7.1" id="matrices"><span class="secno">7.1. </span><span class="content">Matrices</span><a class="self-link" href="#matrices"></a></h3>
   <p>WebXR provides various transforms in the form of <dfn class="dfn-paneled" data-dfn-type="dfn" data-lt="matrix" data-noexport id="matrix">matrices</dfn>. WebXR matrices are always 4x4 and given as 16 element <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array②">Float32Array</a></code>s in column major order. They may be passed directly to WebGL’s <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.10" id="ref-for-5.14.10">uniformMatrix4fv</a></code> function, used to create an equivalent <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dommatrix" id="ref-for-dommatrix">DOMMatrix</a></code>, or used with a variety of third party math libraries.</p>
   <p>Translations specified by WebXR matrices are always given in meters.</p>
   <h3 class="heading settled" data-level="7.2" id="xrrigidtransform-interface"><span class="secno">7.2. </span><span class="content">XRRigidTransform</span><a class="self-link" href="#xrrigidtransform-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform⑥">XRRigidTransform</a></code> is a transform described by a <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position">position</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation">orientation</a></code>. When interpreting an <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform⑦">XRRigidTransform</a></code> the <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation①">orientation</a></code> is always applied prior to the <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position①">position</a></code>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①①"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="constructor" href="#dom-xrrigidtransform-xrrigidtransform" id="ref-for-dom-xrrigidtransform-xrrigidtransform"><c- g>Constructor</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit"><c- n>DOMPointInit</c-></a> <dfn class="idl-code" data-dfn-for="XRRigidTransform/XRRigidTransform(position, orientation)" data-dfn-type="argument" data-export id="dom-xrrigidtransform-xrrigidtransform-position-orientation-position"><code><c- g>position</c-></code><a class="self-link" href="#dom-xrrigidtransform-xrrigidtransform-position-orientation-position"></a></dfn>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit①"><c- n>DOMPointInit</c-></a> <dfn class="idl-code" data-dfn-for="XRRigidTransform/XRRigidTransform(position, orientation)" data-dfn-type="argument" data-export id="dom-xrrigidtransform-xrrigidtransform-position-orientation-orientation"><code><c- g>orientation</c-></code><a class="self-link" href="#dom-xrrigidtransform-xrrigidtransform-position-orientation-orientation"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrrigidtransform"><code><c- g>XRRigidTransform</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly②"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position②"><c- g>position</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly③"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation②"><c- g>orientation</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array③"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix①"><c- g>matrix</c-></a>;
};
</pre>
   <div class="algorithm" data-algorithm="construct-rigid-transform">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRigidTransform" data-dfn-type="constructor" data-export id="dom-xrrigidtransform-xrrigidtransform"><code>XRRigidTransform(<var>position</var>, <var>orientation</var>)</code></dfn> constructor MUST perform the following steps when invoked:</p>
    <ol>
     <li data-md>
      <p>Let <var>transform</var> be a new <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform⑧">XRRigidTransform</a></code>.</p>
     <li data-md>
      <p>If <var>position</var> is not a <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit②">DOMPointInit</a></code> initialize <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position③">position</a></code> to <code>{ x: 0.0, y: 0.0, z: 0.0, w: 1.0 }</code>.</p>
     <li data-md>
      <p>Else initialize <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position④">position</a></code>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x">x</a></code> value to <var>position</var>’s x dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y①">y</a></code> value to <var>position</var>’s y dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z">z</a></code> value to <var>position</var>’s z dictionary member and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w①">w</a></code> to <code>1.0</code>.</p>
     <li data-md>
      <p>If <var>orientation</var> is not a <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit③">DOMPointInit</a></code> initialize <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation③">orientation</a></code> to <code>{ x: 0.0, y: 0.0, z: 0.0, w: 1.0 }</code>.</p>
     <li data-md>
      <p>Else initialize <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation④">orientation</a></code>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x①">x</a></code> value to <var>orientation</var>’s x dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y②">y</a></code> value to <var>orientation</var>’s y dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z①">z</a></code> value to <var>orientation</var>’s z dictionary member and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w②">w</a></code> value to <var>orientation</var>’s w dictionary member.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#normalize" id="ref-for-normalize">Normalize</a> <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation⑤">orientation</a></code>.</p>
     <li data-md>
      <p>Return <var>transform</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRigidTransform" data-dfn-type="attribute" data-export id="dom-xrrigidtransform-position"><code>position</code></dfn> attribute is a 3-dimensional point, given in meters, describing the translation component of the transform. The <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position⑤">position</a></code>'s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w③">w</a></code> attribute MUST be <code>1.0</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRigidTransform" data-dfn-type="attribute" data-export id="dom-xrrigidtransform-orientation"><code>orientation</code></dfn> attribute is a quaternion describing the rotational component of the transform. The <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation⑥">orientation</a></code> MUST be normalized to have a length of <code>1.0</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRigidTransform" data-dfn-type="attribute" data-export id="dom-xrrigidtransform-matrix"><code>matrix</code></dfn> attribute returns the transform described by the <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position⑥">position</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation⑦">orientation</a></code> attributes as a <a data-link-type="dfn" href="#matrix" id="ref-for-matrix③">matrix</a>.</p>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform⑨">XRRigidTransform</a></code> with a <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position⑦">position</a></code> of <code>{ x: 0, y: 0, z: 0 w: 1 }</code> and an <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation⑧">orientation</a></code> of <code>{ x: 0, y: 0, z: 0, w: 1 }</code> is known as an <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="identity-transform">identity transform</dfn>.</p>
   <p>We still need to define the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="normalize">Normalize</dfn> step. (This is <a href="https://github.com/immersive-web/webxr/issues/472">filed</a>.)</p>
   <h3 class="heading settled" data-level="7.3" id="xrray-interface"><span class="secno">7.3. </span><span class="content">XRRay</span><a class="self-link" href="#xrray-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray">XRRay</a></code> is a geometric ray described by a <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin">origin</a></code> point and <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction">direction</a></code> vector.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①③"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①②"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray" id="ref-for-dom-xrray-xrray"><c- g>Constructor</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit④"><c- n>DOMPointInit</c-></a> <dfn class="idl-code" data-dfn-for="XRRay/XRRay(origin, direction)" data-dfn-type="argument" data-export id="dom-xrray-xrray-origin-direction-origin"><code><c- g>origin</c-></code><a class="self-link" href="#dom-xrray-xrray-origin-direction-origin"></a></dfn>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit⑤"><c- n>DOMPointInit</c-></a> <dfn class="idl-code" data-dfn-for="XRRay/XRRay(origin, direction)" data-dfn-type="argument" data-export id="dom-xrray-xrray-origin-direction-direction"><code><c- g>direction</c-></code><a class="self-link" href="#dom-xrray-xrray-origin-direction-direction"></a></dfn>),
 <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray-transform" id="ref-for-dom-xrray-xrray-transform"><c- g>Constructor</c-></a>(<a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①⓪"><c- n>XRRigidTransform</c-></a> <dfn class="idl-code" data-dfn-for="XRRay/XRRay(transform)" data-dfn-type="argument" data-export id="dom-xrray-xrray-transform-transform"><code><c- g>transform</c-></code><a class="self-link" href="#dom-xrray-xrray-transform-transform"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrray"><code><c- g>XRRay</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly④"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin①"><c- g>origin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly⑤"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction①"><c- g>direction</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array④"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrray-matrix" id="ref-for-dom-xrray-matrix"><c- g>matrix</c-></a>;
};
</pre>
   <div class="algorithm" data-algorithm="construct-ray-origin-direction">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="constructor" data-export id="dom-xrray-xrray"><code>XRRay(<var>origin</var>, <var>direction</var>)</code></dfn> constructor MUST perform the following steps when invoked:</p>
    <ol>
     <li data-md>
      <p>Let <var>ray</var> be a new <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray①">XRRay</a></code>.</p>
     <li data-md>
      <p>If <var>origin</var> is not a <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit⑥">DOMPointInit</a></code> initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin②">origin</a></code> to <code>{ x: 0.0, y: 0.0, z: 0.0, w: 1.0 }</code>.</p>
     <li data-md>
      <p>Else initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin③">origin</a></code>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x②">x</a></code> value to <var>origin</var>’s x dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y③">y</a></code> value to <var>origin</var>’s y dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z②">z</a></code> value to <var>origin</var>’s z dictionary member and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w④">w</a></code> to <code>1.0</code>.</p>
     <li data-md>
      <p>If <var>direction</var> is not a <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit⑦">DOMPointInit</a></code> initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction②">direction</a></code> to <code>{ x: 0.0, y: 0.0, z: -1.0, w: 0.0 }</code>.</p>
     <li data-md>
      <p>Else initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction③">direction</a></code>’s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x③">x</a></code> value to <var>direction</var>’s x dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y④">y</a></code> value to <var>direction</var>’s y dictionary member, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z③">z</a></code> value to <var>direction</var>’s z dictionary member and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w⑤">w</a></code> value to to <code>0.0</code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#normalize" id="ref-for-normalize①">Normalize</a> the <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x④">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y⑤">y</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z④">z</a></code> components of <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction④">direction</a></code>.</p>
     <li data-md>
      <p>Return <var>ray</var>.</p>
    </ol>
   </div>
   <div class="algorithm" data-algorithm="construct-ray-transform">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="constructor" data-export id="dom-xrray-xrray-transform"><code>XRRay(<var>transform</var>)</code></dfn> constructor MUST perform the following steps when invoked:</p>
    <ol>
     <li data-md>
      <p>Let <var>ray</var> be a new <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray②">XRRay</a></code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin④">origin</a></code> to <code>{ x: 0.0, y: 0.0, z: 0.0, w: 1.0 }</code>.</p>
     <li data-md>
      <p>Initialize <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑤">direction</a></code> to <code>{ x: 0.0, y: 0.0, z: -1.0, w: 0.0 }</code>.</p>
     <li data-md>
      <p>Multiply <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑤">origin</a></code> by the <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix②">matrix</a></code>.</p>
     <li data-md>
      <p>Multiply <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑥">direction</a></code> by the <var>transform</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix③">matrix</a></code>.</p>
     <li data-md>
      <p><a data-link-type="dfn" href="#normalize" id="ref-for-normalize②">Normalize</a> the <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x" id="ref-for-dom-dompointreadonly-x⑤">x</a></code>, <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y" id="ref-for-dom-dompointreadonly-y⑥">y</a></code>, and <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z" id="ref-for-dom-dompointreadonly-z⑤">z</a></code> components of <var>ray</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑦">direction</a></code></p>
     <li data-md>
      <p>Return <var>ray</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="attribute" data-export id="dom-xrray-origin"><code>origin</code></dfn> attribute defines the 3-dimensional point in space that the ray originates from, given in meters. The <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑥">origin</a></code>'s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w⑥">w</a></code> attribute MUST be <code>1.0</code>.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="attribute" data-export id="dom-xrray-direction"><code>direction</code></dfn> attribute defines the ray’s 3-dimensional directional vector. The <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑧">direction</a></code>'s <code class="idl"><a data-link-type="idl" href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w" id="ref-for-dom-dompointreadonly-w⑦">w</a></code> attribute MUST be <code>0.0</code> and the vector MUST be normalized to have a length of <code>1.0</code>.</p>
   <section class="unstable">
     The <dfn class="dfn-paneled idl-code" data-dfn-for="XRRay" data-dfn-type="attribute" data-export id="dom-xrray-matrix"><code>matrix</code></dfn> attribute is a <a data-link-type="dfn" href="#matrix" id="ref-for-matrix④">matrix</a> which represents the transform from a ray originating at <code>[0, 0, 0]</code> and extending down the negative Z axis to the ray described by the <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray③">XRRay</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑦">origin</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction⑨">direction</a></code>. 
    <p class="note" role="note"><span>NOTE:</span> The <code class="idl"><a data-link-type="idl" href="#xrray" id="ref-for-xrray④">XRRay</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrray-matrix" id="ref-for-dom-xrray-matrix①">matrix</a></code> can be used to easily position graphical representations of the ray when rendering.</p>
   </section>
   <h2 class="heading settled" data-level="8" id="pose"><span class="secno">8. </span><span class="content">Pose</span><a class="self-link" href="#pose"></a></h2>
   <h3 class="heading settled" data-level="8.1" id="xrviewerpose-interface"><span class="secno">8.1. </span><span class="content">XRViewerPose</span><a class="self-link" href="#xrviewerpose-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose③">XRViewerPose</a></code> describes the state of a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="viewer">viewer</dfn> of the XR scene as tracked by the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②⑧">XR device</a>. A <a data-link-type="dfn" href="#viewer" id="ref-for-viewer⑥">viewer</a> may represent a tracked piece of hardware, the observed position of a users head relative to the hardware, or some other means of computing a series of viewpoints into the XR scene. The <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose④">XRViewerPose</a></code> describes the position and orientation of the <a data-link-type="dfn" href="#viewer" id="ref-for-viewer⑦">viewer</a> relative to the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace①⑤">XRReferenceSpace</a></code> it was queried with, as well as an array of <a data-link-type="dfn" href="#view" id="ref-for-view⑨">view</a>s, which include view and projection matrices. These matrices should be used by the application when render a frame of an XR scene.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①④"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①③"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrviewerpose"><code><c- g>XRViewerPose</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①①"><c- n>XRRigidTransform</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform" href="#dom-xrviewerpose-transform" id="ref-for-dom-xrviewerpose-transform"><c- g>transform</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>FrozenArray</c->&lt;<a class="n" data-link-type="idl-name" href="#xrview" id="ref-for-xrview②"><c- n>XRView</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<XRView>" href="#dom-xrviewerpose-views" id="ref-for-dom-xrviewerpose-views"><c- g>views</c-></a>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRViewerPose" data-dfn-type="attribute" data-export id="dom-xrviewerpose-transform"><code>transform</code></dfn> is the <code class="idl"><a data-link-type="idl" href="#xrrigidtransform" id="ref-for-xrrigidtransform①②">XRRigidTransform</a></code> of the <a data-link-type="dfn" href="#viewer" id="ref-for-viewer⑧">viewer</a> relative to the origin of the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace①⑥">XRReferenceSpace</a></code> the <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose⑤">XRViewerPose</a></code> was queried with.</p>
   <p class="note" role="note"><span>NOTE:</span> The <code class="idl"><a data-link-type="idl" href="#dom-xrviewerpose-transform" id="ref-for-dom-xrviewerpose-transform①">transform</a></code> can be used to position graphical representations of the <a data-link-type="dfn" href="#viewer" id="ref-for-viewer⑨">viewer</a> for spectator views of the scene or multi-user interaction.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRViewerPose" data-dfn-type="attribute" data-export id="dom-xrviewerpose-views"><code>views</code></dfn> array is a sequence of <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview③">XRView</a></code>s describing the viewpoints of the XR scene, relative to the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace①⑦">XRReferenceSpace</a></code> the <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose⑥">XRViewerPose</a></code> was queried with. Every <a data-link-type="dfn" href="#view" id="ref-for-view①⓪">view</a> of the XR scene in the array must be rendered in order to display correctly on the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device②⑨">XR device</a>. Each <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview④">XRView</a></code> includes view and projection matrices, and can be used to query <code class="idl"><a data-link-type="idl" href="#xrviewport" id="ref-for-xrviewport②">XRViewport</a></code>s from layers when needed.</p>
   <h2 class="heading settled" data-level="9" id="input"><span class="secno">9. </span><span class="content">Input</span><a class="self-link" href="#input"></a></h2>
   <section class="unstable">
    <h3 class="heading settled" data-level="9.1" id="xrinputsource-interface"><span class="secno">9.1. </span><span class="content">XRInputSource</span><a class="self-link" href="#xrinputsource-interface"></a></h3>
<pre class="idl highlight def"><c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrhandedness"><code><c- g>XRHandedness</c-></code></dfn> {
  <dfn class="idl-code" data-dfn-for="XRHandedness" data-dfn-type="enum-value" data-export id="dom-xrhandedness"><code><c- s>""</c-></code><a class="self-link" href="#dom-xrhandedness"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="XRHandedness" data-dfn-type="enum-value" data-export id="dom-xrhandedness-left"><code><c- s>"left"</c-></code><a class="self-link" href="#dom-xrhandedness-left"></a></dfn>,
  <dfn class="idl-code" data-dfn-for="XRHandedness" data-dfn-type="enum-value" data-export id="dom-xrhandedness-right"><code><c- s>"right"</c-></code><a class="self-link" href="#dom-xrhandedness-right"></a></dfn>
};

<c- b>enum</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="enum" data-export id="enumdef-xrtargetraymode"><code><c- g>XRTargetRayMode</c-></code></dfn> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrtargetraymode-gaze" id="ref-for-dom-xrtargetraymode-gaze"><c- s>"gaze"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrtargetraymode-tracked-pointer" id="ref-for-dom-xrtargetraymode-tracked-pointer"><c- s>"tracked-pointer"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrtargetraymode-screen" id="ref-for-dom-xrtargetraymode-screen"><c- s>"screen"</c-></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑤"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①④"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrinputsource"><code><c- g>XRInputSource</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrhandedness" id="ref-for-enumdef-xrhandedness"><c- n>XRHandedness</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRHandedness" href="#dom-xrinputsource-handedness" id="ref-for-dom-xrinputsource-handedness"><c- g>handedness</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrtargetraymode" id="ref-for-enumdef-xrtargetraymode"><c- n>XRTargetRayMode</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRTargetRayMode" href="#dom-xrinputsource-targetraymode" id="ref-for-dom-xrinputsource-targetraymode"><c- g>targetRayMode</c-></a>;
};
</pre>
    <p>Each <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource②">XRInputSource</a></code> SHOULD define a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="primary-action">primary action</dfn>. The <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action">primary action</a> is a platform-specific action that, when engaged, produces <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-selectstart" id="ref-for-eventdef-xrsession-selectstart①">selectstart</a></code>, <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-selectend" id="ref-for-eventdef-xrsession-selectend①">selectend</a></code>, and <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-select" id="ref-for-eventdef-xrsession-select②">select</a></code> events. Examples of possible <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action①">primary action</a>s are pressing a trigger, touchpad, or button, speaking a command, or making a hand gesture. If the platform guidelines define a recommended primary input then it should be used as the <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action②">primary action</a>, otherwise the user agent is free to select one.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputSource" data-dfn-type="attribute" data-export id="dom-xrinputsource-handedness"><code>handedness</code></dfn> attribute describes which hand the input source is associated with, if any. Input sources with no natural handedness (such as headset-mounted controls or standard gamepads) or for which the handedness is not currently known MUST set this attribute to the empty string.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputSource" data-dfn-type="attribute" data-export id="dom-xrinputsource-targetraymode"><code>targetRayMode</code></dfn> attribute describes the method used to produce the target ray, and indicates how the application should present the target ray to the user if desired.</p>
    <ul>
     <li data-md>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="XRTargetRayMode" data-dfn-type="enum-value" data-export id="dom-xrtargetraymode-gaze"><code>gaze</code></dfn> indicates the target ray will originate at the user’s head and follow the direction they are looking (this is commonly referred to as a "gaze input" device).</p>
     <li data-md>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="XRTargetRayMode" data-dfn-type="enum-value" data-export id="dom-xrtargetraymode-tracked-pointer"><code>tracked-pointer</code></dfn> indicates that the target ray originates from either a handheld device or other hand-tracking mechanism and represents that the user is using their hands or the held device for pointing.</p>
     <li data-md>
      <p><dfn class="dfn-paneled idl-code" data-dfn-for="XRTargetRayMode" data-dfn-type="enum-value" data-export id="dom-xrtargetraymode-screen"><code>screen</code></dfn> indicates that the input source was an interaction with the canvas element associated with a inline session’s output context, such as a mouse click or touch event.</p>
    </ul>
    <p class="note" role="note"><span>Note:</span> Some input sources, like an <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource③">XRInputSource</a></code> with <code class="idl"><a data-link-type="idl" href="#dom-xrinputsource-targetraymode" id="ref-for-dom-xrinputsource-targetraymode①">targetRayMode</a></code> set to <code class="idl"><a data-link-type="idl" href="#dom-xrtargetraymode-screen" id="ref-for-dom-xrtargetraymode-screen①">screen</a></code>, will only be added to the session’s <a data-link-type="dfn" href="#list-of-active-input-sources" id="ref-for-list-of-active-input-sources①">list of active input sources</a> immediately before the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-selectstart" id="ref-for-eventdef-xrsession-selectstart②">selectstart</a></code> event, and removed from the session’s <a data-link-type="dfn" href="#list-of-active-input-sources" id="ref-for-list-of-active-input-sources②">list of active input sources</a> immediately after the <code class="idl"><a data-link-type="idl" href="#eventdef-xrsession-selectend" id="ref-for-eventdef-xrsession-selectend②">selectend</a></code> event.</p>
   </section>
   <section class="unstable">
    <h3 class="heading settled" data-level="9.2" id="xrinputpose-interface"><span class="secno">9.2. </span><span class="content">XRInputPose</span><a class="self-link" href="#xrinputpose-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑥"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑤"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrinputpose"><code><c- g>XRInputPose</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrinputpose-emulatedposition" id="ref-for-dom-xrinputpose-emulatedposition"><c- g>emulatedPosition</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrray" id="ref-for-xrray⑤"><c- n>XRRay</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRay" href="#dom-xrinputpose-targetray" id="ref-for-dom-xrinputpose-targetray"><c- g>targetRay</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①③"><c- n>XRRigidTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform?" href="#dom-xrinputpose-griptransform" id="ref-for-dom-xrinputpose-griptransform"><c- g>gripTransform</c-></a>;
};
</pre>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputPose" data-dfn-type="attribute" data-export id="dom-xrinputpose-targetray"><code>targetRay</code></dfn> describes the preferred pointing ray of the <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource④">XRInputSource</a></code>, as defined by the <code class="idl"><a data-link-type="idl" href="#dom-xrinputsource-targetraymode" id="ref-for-dom-xrinputsource-targetraymode②">targetRayMode</a></code>.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputPose" data-dfn-type="attribute" data-export id="dom-xrinputpose-griptransform"><code>gripTransform</code></dfn> MUST describe a transform to a space which, if the user were to hold a straight rod in their hand their hand, places the origin at the centroid of their curled fingers and where the <code>-Z</code> axis points along the rod towards their thumb. The <code>X</code> axis is perpendicular to the back of the hand being described, with back of the users right hand pointing towards <code>+X</code> and the back of the user’s left hand pointing towards <code>-X</code>. The <code>Y</code> axis is implied by the relationship between the <code>X</code> and <code>Z</code> axis, with <code>+Y</code> roughly pointing in the direction of the user’s arm.</p>
    <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrinputpose-griptransform" id="ref-for-dom-xrinputpose-griptransform①">gripTransform</a></code> MAY represent an emulated translation or rotation if the input source’s cannot supply full <a data-link-type="dfn" href="#6dof" id="ref-for-6dof③">6DoF</a> tracking.</p>
    <p>The <code class="idl"><a data-link-type="idl" href="#dom-xrinputpose-griptransform" id="ref-for-dom-xrinputpose-griptransform②">gripTransform</a></code> MUST be `null` if the input source isn’t trackable.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputPose" data-dfn-type="attribute" data-export id="dom-xrinputpose-emulatedposition"><code>emulatedPosition</code></dfn> attribute indicates the accuracy of the <code class="idl"><a data-link-type="idl" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin⑧">origin</a></code> of the <code class="idl"><a data-link-type="idl" href="#dom-xrinputpose-targetray" id="ref-for-dom-xrinputpose-targetray①">targetRay</a></code> and <code class="idl"><a data-link-type="idl" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position⑧">position</a></code> of the <code class="idl"><a data-link-type="idl" href="#dom-xrinputpose-griptransform" id="ref-for-dom-xrinputpose-griptransform③">gripTransform</a></code>. <code class="idl"><a data-link-type="idl" href="#dom-xrinputpose-emulatedposition" id="ref-for-dom-xrinputpose-emulatedposition①">emulatedPosition</a></code> MUST be set to <code>true</code> if positional values are software estimations, such as those provided by a neck or arm model. <code class="idl"><a data-link-type="idl" href="#dom-xrinputpose-emulatedposition" id="ref-for-dom-xrinputpose-emulatedposition②">emulatedPosition</a></code> MUST be set to <code>false</code> if the positional values are based on sensor readings.</p>
   </section>
   <h2 class="heading settled" data-level="10" id="layers"><span class="secno">10. </span><span class="content">Layers</span><a class="self-link" href="#layers"></a></h2>
   <h3 class="heading settled" data-level="10.1" id="xrlayer-interface"><span class="secno">10.1. </span><span class="content">XRLayer</span><a class="self-link" href="#xrlayer-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrlayer" id="ref-for-xrlayer②">XRLayer</a></code> defines a source of bitmap images and a description of how the image is to be rendered to the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③⓪">XR device</a>. Initially only one type of layer, the <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer③">XRWebGLLayer</a></code>, is defined but future revisions of the spec may extend the available layer types.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑦"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑥"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrlayer"><code><c- g>XRLayer</c-></code></dfn> {};
</pre>
   <h3 class="heading settled" data-level="10.2" id="xrwebgllayer-interface"><span class="secno">10.2. </span><span class="content">XRWebGLLayer</span><a class="self-link" href="#xrwebgllayer-interface"></a></h3>
   <p>An <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer④">XRWebGLLayer</a></code> is a layer which provides a WebGL framebuffer to render into, enabling hardware accelerated rendering of 3D graphics to be presented on the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③①">XR device</a>.</p>
<pre class="idl highlight def"><c- b>typedef</c-> (<a class="n" data-link-type="idl-name" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContext" id="ref-for-WebGLRenderingContext"><c- n>WebGLRenderingContext</c-></a> <c- b>or</c->
         <a class="n" data-link-type="idl-name" href="https://www.khronos.org/registry/webgl/specs/latest/2.0/#WebGL2RenderingContext" id="ref-for-WebGL2RenderingContext"><c- n>WebGL2RenderingContext</c-></a>) <dfn class="dfn-paneled idl-code" data-dfn-type="typedef" data-export id="typedefdef-xrwebglrenderingcontext"><code><c- g>XRWebGLRenderingContext</c-></code></dfn>;

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrwebgllayerinit"><code><c- g>XRWebGLLayerInit</c-></code></dfn> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="true" data-dfn-for="XRWebGLLayerInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-xrwebgllayerinit-antialias"><code><c- g>antialias</c-></code></dfn> = <c- b>true</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean②"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="true" data-dfn-for="XRWebGLLayerInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-xrwebgllayerinit-depth"><code><c- g>depth</c-></code></dfn> = <c- b>true</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean③"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="false" data-dfn-for="XRWebGLLayerInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-xrwebgllayerinit-stencil"><code><c- g>stencil</c-></code></dfn> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean④"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="true" data-dfn-for="XRWebGLLayerInit" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-xrwebgllayerinit-alpha"><code><c- g>alpha</c-></code></dfn> = <c- b>true</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double④"><c- b>double</c-></a> <dfn class="idl-code" data-default="1.0" data-dfn-for="XRWebGLLayerInit" data-dfn-type="dict-member" data-export data-type="double " id="dom-xrwebgllayerinit-framebufferscalefactor"><code><c- g>framebufferScaleFactor</c-></code><a class="self-link" href="#dom-xrwebgllayerinit-framebufferscalefactor"></a></dfn> = 1.0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑧"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑦"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="constructor" href="#dom-xrwebgllayer-xrwebgllayer" id="ref-for-dom-xrwebgllayer-xrwebgllayer"><c- g>Constructor</c-></a>(<a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession④①"><c- n>XRSession</c-></a> <dfn class="idl-code" data-dfn-for="XRWebGLLayer/XRWebGLLayer(session, context, layerInit)" data-dfn-type="argument" data-export id="dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-session"><code><c- g>session</c-></code><a class="self-link" href="#dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-session"></a></dfn>,
             <a class="n" data-link-type="idl-name" href="#typedefdef-xrwebglrenderingcontext" id="ref-for-typedefdef-xrwebglrenderingcontext"><c- n>XRWebGLRenderingContext</c-></a> <dfn class="idl-code" data-dfn-for="XRWebGLLayer/XRWebGLLayer(session, context, layerInit)" data-dfn-type="argument" data-export id="dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-context"><code><c- g>context</c-></code><a class="self-link" href="#dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-context"></a></dfn>,
             <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-xrwebgllayerinit" id="ref-for-dictdef-xrwebgllayerinit"><c- n>XRWebGLLayerInit</c-></a> <dfn class="idl-code" data-dfn-for="XRWebGLLayer/XRWebGLLayer(session, context, layerInit)" data-dfn-type="argument" data-export id="dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-layerinit"><code><c- g>layerInit</c-></code><a class="self-link" href="#dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-layerinit"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrwebgllayer"><code><c- g>XRWebGLLayer</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="#xrlayer" id="ref-for-xrlayer③"><c- n>XRLayer</c-></a> {
  // Attributes
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#typedefdef-xrwebglrenderingcontext" id="ref-for-typedefdef-xrwebglrenderingcontext①"><c- n>XRWebGLRenderingContext</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRWebGLRenderingContext" href="#dom-xrwebgllayer-context" id="ref-for-dom-xrwebgllayer-context"><c- g>context</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑤"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-antialias" id="ref-for-dom-xrwebgllayer-antialias"><c- g>antialias</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑥"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-depth" id="ref-for-dom-xrwebgllayer-depth"><c- g>depth</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑦"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-stencil" id="ref-for-dom-xrwebgllayer-stencil"><c- g>stencil</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑧"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-alpha" id="ref-for-dom-xrwebgllayer-alpha"><c- g>alpha</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLFramebuffer" id="ref-for-WebGLFramebuffer"><c- n>WebGLFramebuffer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WebGLFramebuffer" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer"><c- g>framebuffer</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long" href="#dom-xrwebgllayer-framebufferwidth" id="ref-for-dom-xrwebgllayer-framebufferwidth"><c- g>framebufferWidth</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long" href="#dom-xrwebgllayer-framebufferheight" id="ref-for-dom-xrwebgllayer-framebufferheight"><c- g>framebufferHeight</c-></a>;

  // Methods
  <a class="n" data-link-type="idl-name" href="#xrviewport" id="ref-for-xrviewport③"><c- n>XRViewport</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrwebgllayer-getviewport" id="ref-for-dom-xrwebgllayer-getviewport"><c- g>getViewport</c-></a>(<a class="n" data-link-type="idl-name" href="#xrview" id="ref-for-xrview⑤"><c- n>XRView</c-></a> <dfn class="idl-code" data-dfn-for="XRWebGLLayer/getViewport(view)" data-dfn-type="argument" data-export id="dom-xrwebgllayer-getviewport-view-view"><code><c- g>view</c-></code><a class="self-link" href="#dom-xrwebgllayer-getviewport-view-view"></a></dfn>);
  <c- b>void</c-> <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="method" data-export data-lt="requestViewportScaling(viewportScaleFactor)" id="dom-xrwebgllayer-requestviewportscaling"><code><c- g>requestViewportScaling</c-></code></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑤"><c- b>double</c-></a> <dfn class="idl-code" data-dfn-for="XRWebGLLayer/requestViewportScaling(viewportScaleFactor)" data-dfn-type="argument" data-export id="dom-xrwebgllayer-requestviewportscaling-viewportscalefactor-viewportscalefactor"><code><c- g>viewportScaleFactor</c-></code><a class="self-link" href="#dom-xrwebgllayer-requestviewportscaling-viewportscalefactor-viewportscalefactor"></a></dfn>);

  // Static Methods
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑥"><c- b>double</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrwebgllayer-getnativeframebufferscalefactor" id="ref-for-dom-xrwebgllayer-getnativeframebufferscalefactor"><c- g>getNativeFramebufferScaleFactor</c-></a>(<a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession④②"><c- n>XRSession</c-></a> <dfn class="idl-code" data-dfn-for="XRWebGLLayer/getNativeFramebufferScaleFactor(session)" data-dfn-type="argument" data-export id="dom-xrwebgllayer-getnativeframebufferscalefactor-session-session"><code><c- g>session</c-></code><a class="self-link" href="#dom-xrwebgllayer-getnativeframebufferscalefactor-session-session"></a></dfn>);
};
</pre>
   <div class="algorithm" data-algorithm="construct-webgl-layer">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="constructor" data-export id="dom-xrwebgllayer-xrwebgllayer"><code>XRWebGLLayer(<var>session</var>, <var>context</var>, <var>layerInit</var>)</code></dfn> constructor MUST perform the following steps when invoked:</p>
    <ol>
     <li data-md>
      <p>Let <var>layer</var> be a new <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer⑤">XRWebGLLayer</a></code></p>
     <li data-md>
      <p>If <var>session</var>’s <a data-link-type="dfn" href="#ended" id="ref-for-ended②">ended</a> value is <code>true</code>, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror⑤">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>context</var> is lost, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror⑥">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>If <var>context</var>’s <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible①">XR compatible</a> boolean is false, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror⑦">InvalidStateError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Initialize <var>layer</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-context" id="ref-for-dom-xrwebgllayer-context①">context</a></code> to <var>context</var>.</p>
     <li data-md>
      <p>Initialize <var>layer</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-antialias" id="ref-for-dom-xrwebgllayer-antialias①">antialias</a></code> to <var>layerInit</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayerinit-antialias" id="ref-for-dom-xrwebgllayerinit-antialias">antialias</a></code> value.</p>
     <li data-md>
      <p>Initialize <var>layer</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-depth" id="ref-for-dom-xrwebgllayer-depth①">depth</a></code> to <var>layerInit</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayerinit-depth" id="ref-for-dom-xrwebgllayerinit-depth">depth</a></code> value.</p>
     <li data-md>
      <p>Initialize <var>layer</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-stencil" id="ref-for-dom-xrwebgllayer-stencil①">stencil</a></code> to <var>layerInit</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayerinit-stencil" id="ref-for-dom-xrwebgllayerinit-stencil">stencil</a></code> value.</p>
     <li data-md>
      <p>Initialize <var>layer</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-alpha" id="ref-for-dom-xrwebgllayer-alpha①">alpha</a></code> to <var>layerInit</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayerinit-alpha" id="ref-for-dom-xrwebgllayerinit-alpha">alpha</a></code> value.</p>
     <li data-md>
      <p>Initialize <var>layer</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer①">framebuffer</a></code> to a new <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer">opaque framebuffer</a> created with <var>context</var>.</p>
     <li data-md>
      <p>Initialize the <var>layer</var>’s <a data-link-type="dfn" href="#swap-chain" id="ref-for-swap-chain">swap chain</a>.</p>
     <li data-md>
      <p>If <var>layer</var>’s <a data-link-type="dfn" href="#swap-chain" id="ref-for-swap-chain①">swap chain</a> was unable to be created for any reason, throw an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#operationerror" id="ref-for-operationerror">OperationError</a></code> and abort these steps.</p>
     <li data-md>
      <p>Return <var>layer</var>.</p>
    </ol>
   </div>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-context"><code>context</code></dfn> attribute is the <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContext" id="ref-for-WebGLRenderingContext①">WebGLRenderingContext</a></code> the <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer⑥">XRWebGLLayer</a></code> was created with.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-framebuffer"><code>framebuffer</code></dfn> attribute of an <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer⑦">XRWebGLLayer</a></code> is an instance of a <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLFramebuffer" id="ref-for-WebGLFramebuffer①">WebGLFramebuffer</a></code> which has been marked as <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer①">opaque</a>. An <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="opaque-framebuffer">opaque framebuffer</dfn> functions identically to a standard <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLFramebuffer" id="ref-for-WebGLFramebuffer②">WebGLFramebuffer</a></code> with the following changes that make it behave more like the default framebuffer:</p>
   <ul>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer②">opaque framebuffer</a> MAY support antialiasing, even in WebGL 1.0.</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer③">opaque framebuffer</a>'s attachments cannot be inspected or changed. Calling <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.6" id="ref-for-5.14.6">framebufferTexture2D</a></code>, <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.6" id="ref-for-5.14.6①">framebufferRenderbuffer</a></code>, <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.6" id="ref-for-5.14.6②">getFramebufferAttachmentParameter</a></code>, or <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.7" id="ref-for-5.14.7">getRenderbufferParameter</a></code> with an <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer④">opaque framebuffer</a> MUST generate an <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase①">INVALID_OPERATION</a></code> error.</p>
    <li data-md>
     <p>An <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer⑤">opaque framebuffer</a> is considered incomplete outside of an <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe③">requestAnimationFrame()</a></code> callback. When not in a <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe④">requestAnimationFrame()</a></code> callback calls to <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.6" id="ref-for-5.14.6③">checkFramebufferStatus</a></code> outside of an <code class="idl"><a data-link-type="idl" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe⑤">requestAnimationFrame()</a></code> callback MUST generate a <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase②">FRAMEBUFFER_UNSUPPORTED</a></code> error and attempts to clear, draw to, or read from the <a data-link-type="dfn" href="#opaque-framebuffer" id="ref-for-opaque-framebuffer⑥">opaque framebuffer</a> MUST generate an <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase③">INVALID_FRAMEBUFFER_OPERATION</a></code> error.</p>
   </ul>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-framebufferwidth"><code>framebufferWidth</code></dfn> and <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-framebufferheight"><code>framebufferHeight</code></dfn> attributes return the width and height of the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer②">framebuffer</a></code>'s attachments, respectively.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-antialias"><code>antialias</code></dfn> attribute is <code>true</code> if the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer③">framebuffer</a></code> supports antialiasing using a technique of the UAs choosing, and <code>false</code> if no antialiasing will be performed.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-depth"><code>depth</code></dfn> attribute is <code>true</code> if the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer④">framebuffer</a></code> has a depth buffer attachment and <code>false</code> if no depth buffer is attached.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-stencil"><code>stencil</code></dfn> attribute is <code>true</code> if the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer⑤">framebuffer</a></code> has a stencil buffer attachment and <code>false</code> if no stencil buffer is attached.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="attribute" data-export id="dom-xrwebgllayer-alpha"><code>alpha</code></dfn> attribute is <code>true</code> if the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer⑥">framebuffer</a></code> has an alpha buffer attachment and <code>false</code> if no alpha buffer is attached.</p>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer⑧">XRWebGLLayer</a></code> MUST have a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="list-of-viewports">list of viewports</dfn> which contains one <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.4" id="ref-for-5.14.4②">WebGL viewport</a> for each <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview⑥">XRView</a></code> the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④③">XRSession</a></code> currently exposes. The viewports MUST NOT be overlapping. The <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer⑨">XRWebGLLayer</a></code> MUST also have a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="viewport-scale-factor">viewport scale factor</dfn>, initially set to 1.0, and a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="minimum-viewport-scale-factor">minimum viewport scale factor</dfn> set to a UA-determined value between 0 and 1.</p>
   <p><code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-getviewport" id="ref-for-dom-xrwebgllayer-getviewport①">getViewport()</a></code> queries the <code class="idl"><a data-link-type="idl" href="#xrviewport" id="ref-for-xrviewport④">XRViewport</a></code> the given <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview⑦">XRView</a></code> should use when rendering to the layer.</p>
   <div class="algorithm" data-algorithm="get-viewport">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="method" data-export id="dom-xrwebgllayer-getviewport"><code>getViewport(<var>view</var>)</code></dfn> method, when invoked, MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>If <var>layer</var> was created with a different <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④④">XRSession</a></code> than the one that produced <var>view</var> return <code>null</code>.</p>
     <li data-md>
      <p>Let <var>glViewport</var> be the <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#5.14.4" id="ref-for-5.14.4③">WebGL viewport</a> from the <a data-link-type="dfn" href="#list-of-viewports" id="ref-for-list-of-viewports">list of viewports</a> associated with <var>view</var>.</p>
     <li data-md>
      <p>Let <var>viewport</var> be a new <code class="idl"><a data-link-type="idl" href="#xrviewport" id="ref-for-xrviewport⑤">XRViewport</a></code> instance.</p>
     <li data-md>
      <p>Initialize <var>viewport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-x" id="ref-for-dom-xrviewport-x③">x</a></code> to <var>glViewport</var>’s <code>x</code> component.</p>
     <li data-md>
      <p>Initialize <var>viewport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-y" id="ref-for-dom-xrviewport-y③">y</a></code> to <var>glViewport</var>’s <code>y</code> component.</p>
     <li data-md>
      <p>Initialize <var>viewport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-width" id="ref-for-dom-xrviewport-width②">width</a></code> to <var>glViewport</var>’s <code>width</code> component multiplied by the <a data-link-type="dfn" href="#viewport-scale-factor" id="ref-for-viewport-scale-factor">viewport scale factor</a>.</p>
     <li data-md>
      <p>Initialize <var>viewport</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrviewport-height" id="ref-for-dom-xrviewport-height②">height</a></code> to <var>glViewport</var>’s <code>height</code> component multiplied by the <a data-link-type="dfn" href="#viewport-scale-factor" id="ref-for-viewport-scale-factor①">viewport scale factor</a>.</p>
     <li data-md>
      <p>Return <var>viewport</var>.</p>
    </ol>
   </div>
   <section class="unstable">
     The <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer⑦">framebuffer</a></code> size cannot be adjusted by the developer after the <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer①⓪">XRWebGLLayer</a></code> has been created, but it can be useful to adjust the resolution content is rendered at at runtime to aid application performance. To do so, developers can request that the size of the viewports in the <a data-link-type="dfn" href="#list-of-viewports" id="ref-for-list-of-viewports①">list of viewports</a> be changed using the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-requestviewportscaling" id="ref-for-dom-xrwebgllayer-requestviewportscaling">requestViewportScaling()</a></code> method. 
    <div class="algorithm" data-algorithm="request-viewport-scaling">
     <p>The <dfn class="idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="method" data-export id="dom-xrwebgllayer-requestviewportscaling-scalefactor"><code>requestViewportScaling(<var>scaleFactor</var>)</code><a class="self-link" href="#dom-xrwebgllayer-requestviewportscaling-scalefactor"></a></dfn> method, when invoked, MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>If <var>scaleFactor</var> is greater than 1.0 set <var>scaleFactor</var> to 1.0.</p>
      <li data-md>
       <p>If <var>scaleFactor</var> is less than the <a data-link-type="dfn" href="#minimum-viewport-scale-factor" id="ref-for-minimum-viewport-scale-factor">minimum viewport scale factor</a> set <var>scaleFactor</var> to the <a data-link-type="dfn" href="#minimum-viewport-scale-factor" id="ref-for-minimum-viewport-scale-factor①">minimum viewport scale factor</a>.</p>
      <li data-md>
       <p>If the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③②">XR device</a> places additional device-specific restrictions on viewport size, adjust <var>scaleFactor</var> accordingly.</p>
      <li data-md>
       <p>Set the <a data-link-type="dfn" href="#viewport-scale-factor" id="ref-for-viewport-scale-factor②">viewport scale factor</a> to <var>scaleFactor</var>.</p>
     </ol>
    </div>
   </section>
   <p>Each <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④⑤">XRSession</a></code> MUST identify a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="native-webgl-framebuffer-resolution">native WebGL framebuffer resolution</dfn>, which is the pixel resolution of a WebGL framebuffer required to match the physical pixel resolution of the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③③">XR device</a>.</p>
   <div class="algorithm" data-algorithm="native-webgl-framebuffer-resolution">
    <p>The <a data-link-type="dfn" href="#native-webgl-framebuffer-resolution" id="ref-for-native-webgl-framebuffer-resolution">native WebGL framebuffer resolution</a> is determined by running the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④⑥">XRSession</a></code>.</p>
     <li data-md>
      <p>If <var>session</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrsession-mode" id="ref-for-dom-xrsession-mode①">mode</a></code> value is not <code>"inline"</code>, set the <a data-link-type="dfn" href="#native-webgl-framebuffer-resolution" id="ref-for-native-webgl-framebuffer-resolution①">native WebGL framebuffer resolution</a> to the resolution required to have a 1:1 ratio between the pixels of a framebuffer large enough to contain all of the session’s <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview⑧">XRView</a></code>s and the physical screen pixels in the area of the display under the highest magnification and abort these steps. If no method exists to determine the native resolution as described, the <a data-link-type="dfn" href="#recommended-webgl-framebuffer-resolution" id="ref-for-recommended-webgl-framebuffer-resolution">recommended WebGL framebuffer resolution</a> MAY be used.</p>
     <li data-md>
      <p>If <var>session</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrsession-mode" id="ref-for-dom-xrsession-mode②">mode</a></code> value is <code>"inline"</code>, set the <a data-link-type="dfn" href="#native-webgl-framebuffer-resolution" id="ref-for-native-webgl-framebuffer-resolution②">native WebGL framebuffer resolution</a> to the size of the <var>session</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrsession-outputcontext" id="ref-for-dom-xrsession-outputcontext①">outputContext</a></code>'s <code class="idl"><a data-link-type="idl" href="#dom-xrpresentationcontext-canvas" id="ref-for-dom-xrpresentationcontext-canvas">canvas</a></code> in physical display pixels and reevaluate these steps every time the size of the canvas changes.</p>
    </ol>
   </div>
   <p>Additionally, the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④⑦">XRSession</a></code> MUST identify a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="recommended-webgl-framebuffer-resolution">recommended WebGL framebuffer resolution</dfn>, which represents a best estimate of the WebGL framebuffer resolution large enough to contain all of the session’s <code class="idl"><a data-link-type="idl" href="#xrview" id="ref-for-xrview⑨">XRView</a></code>s that provides an average application a good balance between performance and quality. It MAY be smaller than, larger than, or equal to the <a data-link-type="dfn" href="#native-webgl-framebuffer-resolution" id="ref-for-native-webgl-framebuffer-resolution③">native WebGL framebuffer resolution</a>.</p>
   <p class="note" role="note"><span>NOTE:</span> The user agent is free to use and method of it’s choosing to estimate the <a data-link-type="dfn" href="#recommended-webgl-framebuffer-resolution" id="ref-for-recommended-webgl-framebuffer-resolution①">recommended WebGL framebuffer resolution</a>. If there are platform-specific methods for querying a recommended size it is recommended that they be used, but not required.</p>
   <div class="algorithm" data-algorithm="get-native-framebuffer-scale-factor">
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRWebGLLayer" data-dfn-type="method" data-export id="dom-xrwebgllayer-getnativeframebufferscalefactor"><code>getNativeFramebufferScaleFactor(<var>session</var>)</code></dfn> method, when invoked, MUST run the following steps:</p>
    <ol>
     <li data-md>
      <p>Let <var>session</var> be the target <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④⑧">XRSession</a></code>.</p>
     <li data-md>
      <p>If <var>session</var>’s <a data-link-type="dfn" href="#ended" id="ref-for-ended③">ended</a> value is <code>true</code>, return <code>0.0</code> and abort these steps.</p>
     <li data-md>
      <p>Return the value that the <var>session</var>’s <a data-link-type="dfn" href="#recommended-webgl-framebuffer-resolution" id="ref-for-recommended-webgl-framebuffer-resolution②">recommended WebGL framebuffer resolution</a> must be multiplied by to yield the <var>session</var>’s <a data-link-type="dfn" href="#native-webgl-framebuffer-resolution" id="ref-for-native-webgl-framebuffer-resolution④">native WebGL framebuffer resolution</a>.</p>
    </ol>
   </div>
   <p>We either need to define the <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="swap-chain">swap chain</dfn> or remove references to it.  (This is <a href="https://github.com/immersive-web/webxr/issues/484">filed</a>.)</p>
   <section class="unstable">
    <h3 class="heading settled" data-level="10.3" id="contextcompatibility"><span class="secno">10.3. </span><span class="content">WebGL Context Compatibility</span><a class="self-link" href="#contextcompatibility"></a></h3>
    <p>In order for a WebGL context to be used as a source for XR imagery it must be created on a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="compatible-graphics-adapter">compatible graphics adapter</dfn> for the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③④">XR device</a>. What is considered a <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter">compatible graphics adapter</a> is platform dependent, but is understood to mean that the graphics adapter can supply imagery to the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③⑤">XR device</a> without undue latency. If a WebGL context was not already created on the <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter①">compatible graphics adapter</a>, it typically must be re-created on the adapter in question before it can be used with an <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer①①">XRWebGLLayer</a></code>.</p>
    <p class="note" role="note"><span>Note:</span> On an XR platform with a single GPU, it can safely be assumed that the GPU is compatible with the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③⑥">XR device</a>s advertised by the platform, and thus any hardware accelerated WebGL contexts are compatible as well. On PCs with both an integrated and discreet GPU the discreet GPU is often considered the <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter②">compatible graphics adapter</a> since it generally a higher performance chip. On desktop PCs with multiple graphics adapters installed, the one with the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③⑦">XR device</a> physically connected to it is likely to be considered the <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter③">compatible graphics adapter</a>.</p>
<pre class="idl highlight def"><c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLContextAttributes" id="ref-for-WebGLContextAttributes"><c- g>WebGLContextAttributes</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑨"><c- b>boolean</c-></a> <dfn class="dfn-paneled idl-code" data-default="null" data-dfn-for="WebGLContextAttributes" data-dfn-type="dict-member" data-export data-type="boolean " id="dom-webglcontextattributes-xrcompatible"><code><c- g>xrCompatible</c-></code></dfn> = <c- b>null</c->;
};

<c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase④"><c- g>WebGLRenderingContextBase</c-></a> {
    <c- b>Promise</c->&lt;<c- b>void</c->> <a class="idl-code" data-link-type="method" href="#dom-webglrenderingcontextbase-makexrcompatible" id="ref-for-dom-webglrenderingcontextbase-makexrcompatible"><c- g>makeXRCompatible</c-></a>();
};
</pre>
    <p>When a user agent implements this specification it MUST set a <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="xr-compatible">XR compatible</dfn> boolean, initially set to <code>false</code>, on every <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase⑤">WebGLRenderingContextBase</a></code>. Once the <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible②">XR compatible</a> boolean is set to <code>true</code>, the context can be used with layers for any <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession④⑨">XRSession</a></code> requested from the current <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③⑧">XR device</a>.</p>
    <p>The <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible③">XR compatible</a> boolean can be set either at context creation time or after context creation, potentially incurring a context loss. To set the <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible④">XR compatible</a> boolean at context creation time, the <code class="idl"><a data-link-type="idl" href="#dom-webglcontextattributes-xrcompatible" id="ref-for-dom-webglcontextattributes-xrcompatible">xrCompatible</a></code> context creation attribute must be set to <code>true</code> when requesting a WebGL context.</p>
    <div class="algorithm" data-algorithm="create-with-compatible-xr-device">
     <p>When the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement" id="ref-for-htmlcanvaselement">HTMLCanvasElement</a></code>'s getContext() method is invoked with a <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLContextAttributes" id="ref-for-WebGLContextAttributes①">WebGLContextAttributes</a></code> dictionary with <code class="idl"><a data-link-type="idl" href="#dom-webglcontextattributes-xrcompatible" id="ref-for-dom-webglcontextattributes-xrcompatible①">xrCompatible</a></code> set to <code>true</code>, run the following steps:</p>
     <ol>
      <li data-md>
       <p><a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#2.1" id="ref-for-2.1">Create the WebGL context</a> as usual, ensuring it is created on a <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter④">compatible graphics adapter</a> for the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device③⑨">XR device</a>.</p>
      <li data-md>
       <p>Let <var>context</var> be the newly created WebGL context.</p>
      <li data-md>
       <p>Set <var>context</var>’s <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible⑤">XR compatible</a> boolean to true.</p>
      <li data-md>
       <p>Return <var>context</var>.</p>
     </ol>
    </div>
    <div class="example" id="example-9885f86f">
     <a class="self-link" href="#example-9885f86f"></a> The following code creates a WebGL context that is compatible with an <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device④⓪">XR device</a> and then uses it to create an <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer①②">XRWebGLLayer</a></code>. 
<pre class="highlight"><c- a>function</c-> onXRSessionStarted<c- p>(</c->xrSession<c- p>)</c-> <c- p>{</c->
  <c- a>let</c-> glCanvas <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- u>"canvas"</c-><c- p>);</c->
  <c- a>let</c-> gl <c- o>=</c-> glCanvas<c- p>.</c->getContext<c- p>(</c-><c- u>"webgl"</c-><c- p>,</c-> <c- p>{</c-> xrCompatible<c- o>:</c-> <c- kc>true</c-> <c- p>});</c->

  loadWebGLResources<c- p>();</c->

  xrSession<c- p>.</c->updateRenderState<c- p>({</c-> baseLayer<c- o>:</c-> <c- k>new</c-> XRWebGLLayer<c- p>(</c->xrSession<c- p>,</c-> gl<c- p>)</c-> <c- p>});</c->
<c- p>}</c->
</pre>
    </div>
    <p>To set the <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible⑥">XR compatible</a> boolean after the context has been created, the <code class="idl"><a data-link-type="idl" href="#dom-webglrenderingcontextbase-makexrcompatible" id="ref-for-dom-webglrenderingcontextbase-makexrcompatible①">makeXRCompatible()</a></code> method is used.</p>
    <div class="algorithm" data-algorithm="make-xr-compatible">
     <p>When the <dfn class="dfn-paneled idl-code" data-dfn-for="WebGLRenderingContextBase" data-dfn-type="method" data-export id="dom-webglrenderingcontextbase-makexrcompatible"><code>makeXRCompatible()</code></dfn> method is invoked, the user agent MUST return <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise" id="ref-for-a-new-promise④">a new Promise</a> <var>promise</var> and run the following steps <a data-link-type="dfn" href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel" id="ref-for-in-parallel④">in parallel</a>:</p>
     <ol>
      <li data-md>
       <p>Let <var>context</var> be the target <code class="idl"><a data-link-type="idl" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase⑥">WebGLRenderingContextBase</a></code> object.</p>
      <li data-md>
       <p>If <var>context</var>’s <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#webgl-context-lost-flag" id="ref-for-webgl-context-lost-flag">WebGL context lost flag</a> is set, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise⑨">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#invalidstateerror" id="ref-for-invalidstateerror⑧">InvalidStateError</a></code> and abort these abort these steps.</p>
      <li data-md>
       <p>If <var>context</var>’s <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible⑦">XR compatible</a> boolean is <code>true</code>, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise④">resolve</a> <var>promise</var> and abort these steps.</p>
      <li data-md>
       <p>If <var>context</var> was created on a <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter⑤">compatible graphics adapter</a> for the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device④①">XR device</a>:</p>
       <ol>
        <li data-md>
         <p>Set <var>context</var>’s <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible⑧">XR compatible</a> boolean to <code>true</code>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise⑤">Resolve</a> <var>promise</var> and abort these steps.</p>
       </ol>
      <li data-md>
       <p>Queue a task to perform the following steps:</p>
       <ol>
        <li data-md>
         <p>Force <var>context</var> to be lost and <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#CONTEXT_LOST" id="ref-for-CONTEXT_LOST">handle the context loss</a> as described by the WebGL specification.</p>
        <li data-md>
         <p>If the <a data-link-type="dfn" href="https://dom.spec.whatwg.org/#canceled-flag" id="ref-for-canceled-flag">canceled flag</a> of the "webglcontextlost" event fired in the previous step was not set, <a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise" id="ref-for-reject-promise①⓪">reject</a> <var>promise</var> with an <code class="idl"><a data-link-type="idl" href="https://heycam.github.io/webidl/#aborterror" id="ref-for-aborterror">AbortError</a></code> and abort these steps.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#restore-the-drawing-buffer" id="ref-for-restore-the-drawing-buffer">Restore the context</a> on a <a data-link-type="dfn" href="#compatible-graphics-adapter" id="ref-for-compatible-graphics-adapter⑥">compatible graphics adapter</a> for the <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device④②">XR device</a>.</p>
        <li data-md>
         <p>Set <var>context</var>’s <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible⑨">XR compatible</a> boolean to <code>true</code>.</p>
        <li data-md>
         <p><a data-link-type="dfn" href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise" id="ref-for-resolve-promise⑥">Resolve</a> <var>promise</var>.</p>
       </ol>
     </ol>
    </div>
    <div class="algorithm" data-algorithm="webgl-context-lost">
     <p>Additionally, when any WebGL <a data-link-type="dfn" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#CONTEXT_LOST" id="ref-for-CONTEXT_LOST①">context is lost</a> run the following steps prior to firing the "webglcontextlost" event:</p>
     <ol>
      <li data-md>
       <p>Set the context’s <a data-link-type="dfn" href="#xr-compatible" id="ref-for-xr-compatible①⓪">XR compatible</a> boolean to <code>false</code>.</p>
     </ol>
    </div>
    <div class="example" id="example-d1414183">
     <a class="self-link" href="#example-d1414183"></a> The following code creates an <code class="idl"><a data-link-type="idl" href="#xrwebgllayer" id="ref-for-xrwebgllayer①③">XRWebGLLayer</a></code> from a pre-existing WebGL context. 
<pre class="highlight"><c- a>let</c-> glCanvas <c- o>=</c-> document<c- p>.</c->createElement<c- p>(</c-><c- u>"canvas"</c-><c- p>);</c->
<c- a>let</c-> gl <c- o>=</c-> glCanvas<c- p>.</c->getContext<c- p>(</c-><c- u>"webgl"</c-><c- p>);</c->

loadWebGLResources<c- p>();</c->

glCanvas<c- p>.</c->addEventListener<c- p>(</c-><c- u>"webglcontextlost"</c-><c- p>,</c-> <c- p>(</c->event<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// Indicates that the WebGL context can be restored.</c->
  event<c- p>.</c->canceled <c- o>=</c-> <c- kc>true</c-><c- p>;</c->
<c- p>});</c->

glCanvas<c- p>.</c->addEventListener<c- p>(</c-><c- u>"webglcontextrestored"</c-><c- p>,</c-> <c- p>(</c->event<c- p>)</c-> <c- p>=></c-> <c- p>{</c->
  <c- c1>// WebGL resources need to be re-created after a context loss.</c->
  loadWebGLResources<c- p>();</c->
<c- p>});</c->

<c- a>function</c-> onXRSessionStarted<c- p>(</c->xrSession<c- p>)</c-> <c- p>{</c->
  <c- c1>// Make sure the canvas context we want to use is compatible with the device.</c->
  <c- c1>// May trigger a context loss.</c->
  <c- k>return</c-> gl<c- p>.</c->makeXRCompatible<c- p>().</c->then<c- p>(()</c-> <c- p>=></c-> <c- p>{</c->
    <c- k>return</c-> xrSession<c- p>.</c->updateRenderState<c- p>({</c->
      baseLayer<c- o>:</c-> <c- k>new</c-> XRWebGLLayer<c- p>(</c->xrSession<c- p>,</c-> gl<c- p>)</c->
    <c- p>});</c->
  <c- p>});</c->
<c- p>}</c->
</pre>
    </div>
   </section>
   <h2 class="heading settled" data-level="11" id="canvas-rendering-context"><span class="secno">11. </span><span class="content">Canvas Rendering Context</span><a class="self-link" href="#canvas-rendering-context"></a></h2>
   <section class="unstable">
    <h3 class="heading settled" data-level="11.1" id="xrpresentationcontext-interface"><span class="secno">11.1. </span><span class="content">XRPresentationContext</span><a class="self-link" href="#xrpresentationcontext-interface"></a></h3>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑨"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑧"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrpresentationcontext"><code><c- g>XRPresentationContext</c-></code></dfn> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement" id="ref-for-htmlcanvaselement①"><c- n>HTMLCanvasElement</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="HTMLCanvasElement" href="#dom-xrpresentationcontext-canvas" id="ref-for-dom-xrpresentationcontext-canvas①"><c- g>canvas</c-></a>;
};
</pre>
    <p>Each <code class="idl"><a data-link-type="idl" href="#xrpresentationcontext" id="ref-for-xrpresentationcontext②">XRPresentationContext</a></code> has an associated <dfn class="dfn-paneled idl-code" data-dfn-for="XRPresentationContext" data-dfn-type="attribute" data-export id="dom-xrpresentationcontext-canvas"><code>canvas</code></dfn> which is an <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement" id="ref-for-htmlcanvaselement②">HTMLCanvasElement</a></code> set during creation.</p>
    <p>When the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/canvas.html#dom-canvas-getcontext" id="ref-for-dom-canvas-getcontext">getContext()</a></code> method of an <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement" id="ref-for-htmlcanvaselement③">HTMLCanvasElement</a></code> <var>canvas</var> is to return a new object for the <var>contextId</var> <code>present-xr</code>, the user agent must return an <code class="idl"><a data-link-type="idl" href="#xrpresentationcontext" id="ref-for-xrpresentationcontext③">XRPresentationContext</a></code> with <code class="idl"><a data-link-type="idl" href="#dom-xrpresentationcontext-canvas" id="ref-for-dom-xrpresentationcontext-canvas②">canvas</a></code> set to <var>canvas</var>.</p>
   </section>
   <h2 class="heading settled" data-level="12" id="events"><span class="secno">12. </span><span class="content">Events</span><a class="self-link" href="#events"></a></h2>
   <h3 class="heading settled" data-level="12.1" id="xrsessionevent-interface"><span class="secno">12.1. </span><span class="content">XRSessionEvent</span><a class="self-link" href="#xrsessionevent-interface"></a></h3>
   <p><code class="idl"><a data-link-type="idl" href="#xrsessionevent" id="ref-for-xrsessionevent">XRSessionEvent</a></code>s are fired to indicate changes to the state of an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤⓪">XRSession</a></code>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②⓪"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑨"><c- g>Exposed</c-></a>=<c- n>Window</c->, <dfn class="idl-code" data-dfn-for="XRSessionEvent" data-dfn-type="constructor" data-export data-lt="XRSessionEvent(type, eventInitDict)" id="dom-xrsessionevent-xrsessionevent"><code><c- g>Constructor</c-></code><a class="self-link" href="#dom-xrsessionevent-xrsessionevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="XRSessionEvent/XRSessionEvent(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-xrsessionevent-xrsessionevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-xrsessionevent-xrsessionevent-type-eventinitdict-type"></a></dfn>, <a class="n" data-link-type="idl-name" href="#dictdef-xrsessioneventinit" id="ref-for-dictdef-xrsessioneventinit"><c- n>XRSessionEventInit</c-></a> <dfn class="idl-code" data-dfn-for="XRSessionEvent/XRSessionEvent(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-xrsessionevent-xrsessionevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-xrsessionevent-xrsessionevent-type-eventinitdict-eventinitdict"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrsessionevent"><code><c- g>XRSessionEvent</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event"><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession⑤①"><c- n>XRSession</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRSession" href="#dom-xrsessionevent-session" id="ref-for-dom-xrsessionevent-session"><c- g>session</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrsessioneventinit"><code><c- g>XRSessionEventInit</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession⑤②"><c- n>XRSession</c-></a> <dfn class="idl-code" data-dfn-for="XRSessionEventInit" data-dfn-type="dict-member" data-export data-type="XRSession " id="dom-xrsessioneventinit-session"><code><c- g>session</c-></code><a class="self-link" href="#dom-xrsessioneventinit-session"></a></dfn>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRSessionEvent" data-dfn-type="attribute" data-export id="dom-xrsessionevent-session"><code>session</code></dfn> attribute indicates the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤③">XRSession</a></code> that generated the event.</p>
   <section class="unstable">
    <h3 class="heading settled" data-level="12.2" id="xrinputsourceevent-interface"><span class="secno">12.2. </span><span class="content">XRInputSourceEvent</span><a class="self-link" href="#xrinputsourceevent-interface"></a></h3>
    <p><code class="idl"><a data-link-type="idl" href="#xrinputsourceevent" id="ref-for-xrinputsourceevent">XRInputSourceEvent</a></code>s are fired to indicate changes to the state of an <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource⑤">XRInputSource</a></code>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②⓪"><c- g>Exposed</c-></a>=<c- n>Window</c->, <dfn class="idl-code" data-dfn-for="XRInputSourceEvent" data-dfn-type="constructor" data-export data-lt="XRInputSourceEvent(type, eventInitDict)" id="dom-xrinputsourceevent-xrinputsourceevent"><code><c- g>Constructor</c-></code><a class="self-link" href="#dom-xrinputsourceevent-xrinputsourceevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="XRInputSourceEvent/XRInputSourceEvent(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-xrinputsourceevent-xrinputsourceevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-xrinputsourceevent-xrinputsourceevent-type-eventinitdict-type"></a></dfn>, <a class="n" data-link-type="idl-name" href="#dictdef-xrinputsourceeventinit" id="ref-for-dictdef-xrinputsourceeventinit"><c- n>XRInputSourceEventInit</c-></a> <dfn class="idl-code" data-dfn-for="XRInputSourceEvent/XRInputSourceEvent(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-xrinputsourceevent-xrinputsourceevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-xrinputsourceevent-xrinputsourceevent-type-eventinitdict-eventinitdict"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrinputsourceevent"><code><c- g>XRInputSourceEvent</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①"><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrframe" id="ref-for-xrframe①③"><c- n>XRFrame</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRFrame" href="#dom-xrinputsourceevent-frame" id="ref-for-dom-xrinputsourceevent-frame"><c- g>frame</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource⑥"><c- n>XRInputSource</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRInputSource" href="#dom-xrinputsourceevent-inputsource" id="ref-for-dom-xrinputsourceevent-inputsource"><c- g>inputSource</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrinputsourceeventinit"><code><c- g>XRInputSourceEventInit</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit①"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrframe" id="ref-for-xrframe①④"><c- n>XRFrame</c-></a> <dfn class="idl-code" data-dfn-for="XRInputSourceEventInit" data-dfn-type="dict-member" data-export data-type="XRFrame " id="dom-xrinputsourceeventinit-frame"><code><c- g>frame</c-></code><a class="self-link" href="#dom-xrinputsourceeventinit-frame"></a></dfn>;
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource⑦"><c- n>XRInputSource</c-></a> <dfn class="idl-code" data-dfn-for="XRInputSourceEventInit" data-dfn-type="dict-member" data-export data-type="XRInputSource " id="dom-xrinputsourceeventinit-inputsource"><code><c- g>inputSource</c-></code><a class="self-link" href="#dom-xrinputsourceeventinit-inputsource"></a></dfn>;
};
</pre>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputSourceEvent" data-dfn-type="attribute" data-export id="dom-xrinputsourceevent-inputsource"><code>inputSource</code></dfn> attribute indicates the <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource⑧">XRInputSource</a></code> that generated this event.</p>
    <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRInputSourceEvent" data-dfn-type="attribute" data-export id="dom-xrinputsourceevent-frame"><code>frame</code></dfn> attribute is an <code class="idl"><a data-link-type="idl" href="#xrframe" id="ref-for-xrframe①⑤">XRFrame</a></code> that corresponds with the time that the event took place. It may represent historical data. Any <code class="idl"><a data-link-type="idl" href="#xrviewerpose" id="ref-for-xrviewerpose⑦">XRViewerPose</a></code> queried from the <code class="idl"><a data-link-type="idl" href="#dom-xrinputsourceevent-frame" id="ref-for-dom-xrinputsourceevent-frame①">frame</a></code> MUST have an empty <code class="idl"><a data-link-type="idl" href="#dom-xrviewerpose-views" id="ref-for-dom-xrviewerpose-views①">views</a></code> array.</p>
    <div class="algorithm" data-algorithm="fire-input-source-event">
     <p>When the user agent fires an <code class="idl"><a data-link-type="idl" href="#xrinputsourceevent" id="ref-for-xrinputsourceevent①">XRInputSourceEvent</a></code> <var>event</var> it MUST run the following steps:</p>
     <ol>
      <li data-md>
       <p>Let <var>frame</var> be <var>event</var>’s <code class="idl"><a data-link-type="idl" href="#dom-xrinputsourceevent-frame" id="ref-for-dom-xrinputsourceevent-frame②">frame</a></code>.</p>
      <li data-md>
       <p>Set <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-active" id="ref-for-xrframe-active④">active</a> boolean to <code>true</code>.</p>
      <li data-md>
       <p><a data-link-type="dfn" href="https://dom.spec.whatwg.org/#concept-event-dispatch" id="ref-for-concept-event-dispatch">Dispatch</a> <var>event</var>.</p>
      <li data-md>
       <p>Set <var>frame</var>’s <a data-link-type="dfn" href="#xrframe-active" id="ref-for-xrframe-active⑤">active</a> boolean to <code>false</code>.</p>
     </ol>
    </div>
   </section>
   <h3 class="heading settled" data-level="12.3" id="xrreferencespaceevent-interface"><span class="secno">12.3. </span><span class="content">XRReferenceSpaceEvent</span><a class="self-link" href="#xrreferencespaceevent-interface"></a></h3>
   <p><code class="idl"><a data-link-type="idl" href="#xrreferencespaceevent" id="ref-for-xrreferencespaceevent">XRReferenceSpaceEvent</a></code>s are fired to indicate changes to the state of an <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace①⑧">XRReferenceSpace</a></code>.</p>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②②"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <dfn class="idl-code" data-dfn-for="XRReferenceSpaceEvent" data-dfn-type="constructor" data-export data-lt="XRReferenceSpaceEvent(type, eventInitDict)" id="dom-xrreferencespaceevent-xrreferencespaceevent"><code><c- g>Constructor</c-></code><a class="self-link" href="#dom-xrreferencespaceevent-xrreferencespaceevent"></a></dfn>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②"><c- b>DOMString</c-></a> <dfn class="idl-code" data-dfn-for="XRReferenceSpaceEvent/XRReferenceSpaceEvent(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-xrreferencespaceevent-xrreferencespaceevent-type-eventinitdict-type"><code><c- g>type</c-></code><a class="self-link" href="#dom-xrreferencespaceevent-xrreferencespaceevent-type-eventinitdict-type"></a></dfn>, <a class="n" data-link-type="idl-name" href="#dictdef-xrreferencespaceeventinit" id="ref-for-dictdef-xrreferencespaceeventinit"><c- n>XRReferenceSpaceEventInit</c-></a> <dfn class="idl-code" data-dfn-for="XRReferenceSpaceEvent/XRReferenceSpaceEvent(type, eventInitDict)" data-dfn-type="argument" data-export id="dom-xrreferencespaceevent-xrreferencespaceevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code><a class="self-link" href="#dom-xrreferencespaceevent-xrreferencespaceevent-type-eventinitdict-eventinitdict"></a></dfn>)]
<c- b>interface</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="interface" data-export id="xrreferencespaceevent"><code><c- g>XRReferenceSpaceEvent</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②"><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①⑨"><c- n>XRReferenceSpace</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRReferenceSpace" href="#dom-xrreferencespaceevent-referencespace" id="ref-for-dom-xrreferencespaceevent-referencespace"><c- g>referenceSpace</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①④"><c- n>XRRigidTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform?" href="#dom-xrreferencespaceevent-transform" id="ref-for-dom-xrreferencespaceevent-transform"><c- g>transform</c-></a>;
};

<c- b>dictionary</c-> <dfn class="dfn-paneled idl-code" data-dfn-type="dictionary" data-export id="dictdef-xrreferencespaceeventinit"><code><c- g>XRReferenceSpaceEventInit</c-></code></dfn> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit②"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace②⓪"><c- n>XRReferenceSpace</c-></a> <dfn class="idl-code" data-dfn-for="XRReferenceSpaceEventInit" data-dfn-type="dict-member" data-export data-type="XRReferenceSpace " id="dom-xrreferencespaceeventinit-referencespace"><code><c- g>referenceSpace</c-></code><a class="self-link" href="#dom-xrreferencespaceeventinit-referencespace"></a></dfn>;
  <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①⑤"><c- n>XRRigidTransform</c-></a> <dfn class="idl-code" data-dfn-for="XRReferenceSpaceEventInit" data-dfn-type="dict-member" data-export data-type="XRRigidTransform " id="dom-xrreferencespaceeventinit-transform"><code><c- g>transform</c-></code><a class="self-link" href="#dom-xrreferencespaceeventinit-transform"></a></dfn>;
};
</pre>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceEvent" data-dfn-type="attribute" data-export id="dom-xrreferencespaceevent-referencespace"><code>referenceSpace</code></dfn> attribute indicates the <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace②①">XRReferenceSpace</a></code> that generated this event.</p>
   <p>The <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpaceEvent" data-dfn-type="attribute" data-export id="dom-xrreferencespaceevent-transform"><code>transform</code></dfn> attribute describes the transform the <code class="idl"><a data-link-type="idl" href="#dom-xrreferencespaceevent-referencespace" id="ref-for-dom-xrreferencespaceevent-referencespace①">referenceSpace</a></code> underwent during this event, if applicable.</p>
   <h3 class="heading settled" data-level="12.4" id="event-types"><span class="secno">12.4. </span><span class="content">Event Types</span><a class="self-link" href="#event-types"></a></h3>
   <p>The user agent MUST provide the following new events. Registration for and firing of the events must follow the usual behavior of DOM4 Events.</p>
   <p>The user agent MAY fire a <dfn class="dfn-paneled idl-code" data-dfn-for="XR" data-dfn-type="event" data-export id="eventdef-xr-devicechange"><code>devicechange</code></dfn> event on the <code class="idl"><a data-link-type="idl" href="#xr" id="ref-for-xr⑤">XR</a></code> object to indicate that the availability of <a data-link-type="dfn" href="#xr-device" id="ref-for-xr-device④③">XR device</a>s has been changed. The event MUST be of type <code class="idl"><a data-link-type="idl" href="https://dom.spec.whatwg.org/#event" id="ref-for-event③">Event</a></code>.</p>
   <section class="unstable">
     A user agent MAY dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-blur"><code>blur</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤④">XRSession</a></code> to indicate that presentation to the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤⑤">XRSession</a></code> by the page has been suspended by the user agent, OS, or XR hardware. While an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤⑥">XRSession</a></code> is <dfn class="dfn-paneled" data-dfn-type="dfn" data-noexport id="blurred">blurred</dfn> it remains active but it may have its frame production throttled. This is to prevent tracking while the user interacts with potentially sensitive UI. For example: The user agent SHOULD blur the presenting application when the user is typing a URL into the browser with a virtual keyboard, otherwise the presenting page may be able to guess the URL the user is entering by tracking their head motions. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrsessionevent" id="ref-for-xrsessionevent①">XRSessionEvent</a></code>. 
    <p>A user agent MAY dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-focus"><code>focus</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤⑦">XRSession</a></code> to indicate that presentation to the <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤⑧">XRSession</a></code> by the page has resumed after being suspended. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrsessionevent" id="ref-for-xrsessionevent②">XRSessionEvent</a></code>.</p>
   </section>
   <p>A user agent MUST dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-end"><code>end</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑤⑨">XRSession</a></code> when the session ends, either by the application or the user agent. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrsessionevent" id="ref-for-xrsessionevent③">XRSessionEvent</a></code>.</p>
   <section class="unstable"> A user agent MUST dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-inputsourceschange"><code>inputsourceschange</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑥⓪">XRSession</a></code> when the session’s <a data-link-type="dfn" href="#list-of-active-input-sources" id="ref-for-list-of-active-input-sources③">list of active input sources</a> has changed. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrsessionevent" id="ref-for-xrsessionevent④">XRSessionEvent</a></code>. </section>
   <p>A user agent MUST dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-selectstart"><code>selectstart</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑥①">XRSession</a></code> when one of its <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource⑨">XRInputSource</a></code>s begins its <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action③">primary action</a>. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrinputsourceevent" id="ref-for-xrinputsourceevent②">XRInputSourceEvent</a></code>.</p>
   <p>A user agent MUST dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-selectend"><code>selectend</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑥②">XRSession</a></code> when one of its <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource①⓪">XRInputSource</a></code>s ends its <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action④">primary action</a> or when an <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource①①">XRInputSource</a></code> that has begun a <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action⑤">primary action</a> is disconnected. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrinputsourceevent" id="ref-for-xrinputsourceevent③">XRInputSourceEvent</a></code>.</p>
   <p>A user agent MUST dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRSession" data-dfn-type="event" data-export id="eventdef-xrsession-select"><code>select</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑥③">XRSession</a></code> when one of its <code class="idl"><a data-link-type="idl" href="#xrinputsource" id="ref-for-xrinputsource①②">XRInputSource</a></code>s has fully completed a <a data-link-type="dfn" href="#primary-action" id="ref-for-primary-action⑥">primary action</a>. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrinputsourceevent" id="ref-for-xrinputsourceevent④">XRInputSourceEvent</a></code>.</p>
   <p>A user agent MUST dispatch a <dfn class="dfn-paneled idl-code" data-dfn-for="XRReferenceSpace" data-dfn-type="event" data-export id="eventdef-xrreferencespace-reset"><code>reset</code></dfn> event on an <code class="idl"><a data-link-type="idl" href="#xrreferencespace" id="ref-for-xrreferencespace②②">XRReferenceSpace</a></code> when discontinuities of the origin occur. (That is, significant changes in the origin’s position or orientation relative to the user’s environment.) It also fires when the <code class="idl"><a data-link-type="idl" href="#dom-xrboundedreferencespace-boundsgeometry" id="ref-for-dom-xrboundedreferencespace-boundsgeometry③">boundsGeometry</a></code> changes for a <code class="idl"><a data-link-type="idl" href="#xrboundedreferencespace" id="ref-for-xrboundedreferencespace⑥">XRBoundedReferenceSpace</a></code>. The event MUST be of type <code class="idl"><a data-link-type="idl" href="#xrreferencespaceevent" id="ref-for-xrreferencespaceevent①">XRReferenceSpaceEvent</a></code>, and MUST be dispatched prior to the execution of any <a data-link-type="dfn" href="#xr-animation-frame" id="ref-for-xr-animation-frame②">XR animation frame</a>s that make use of the new origin.</p>
   <h2 class="heading settled" data-level="13" id="security"><span class="secno">13. </span><span class="content">Security, Privacy, and Comfort Considerations</span><a class="self-link" href="#security"></a></h2>
   <p>The WebXR Device API provides powerful new features which bring with them several unique privacy, security, and comfort risks that user agents must take steps to mitigate.</p>
   <section class="unstable">
    <h3 class="heading settled" data-level="13.1" id="gazetracking-security"><span class="secno">13.1. </span><span class="content">Gaze Tracking</span><a class="self-link" href="#gazetracking-security"></a></h3>
    <p>While the API does not yet expose eye tracking capabilities a lot can be inferred about where the user is looking by tracking the orientation of their head. This is especially true of XR devices that have limited input capabilities, such as Google Cardboard, which frequently require users to control a "gaze cursor" with their head orientation. This means that it may be possible for a malicious page to infer what a user is typing on a virtual keyboard or how they are interacting with a virtual UI based solely on monitoring their head movements. For example: if not prevented from doing so a page could estimate what URL a user is entering into the user agent’s URL bar.</p>
    <p>To prevent this risk the user agent MUST <a data-link-type="dfn" href="#blur-all-sessions" id="ref-for-blur-all-sessions">blur all sessions</a> when the users is interacting with sensitive, trusted UI such as URL bars or system dialogs. Additionally, to prevent a malicious page from being able to monitor input on a other pages the user agent MUST <a data-link-type="dfn" href="#blur-all-sessions" id="ref-for-blur-all-sessions①">blur all sessions</a> on non-focused pages.</p>
    <h3 class="heading settled" data-level="13.2" id="trustedenvironment-security"><span class="secno">13.2. </span><span class="content">Trusted Environment</span><a class="self-link" href="#trustedenvironment-security"></a></h3>
    <p>If the virtual environment does not consistently track the user’s head motion with low latency and at a high frame rate the user may become disoriented or physically ill. Since it is impossible to force pages to produce consistently performant and correct content the user agent MUST provide a tracked, trusted environment and an <a data-link-type="dfn" href="#xr-compositor" id="ref-for-xr-compositor①">XR Compositor</a> which runs asynchronously from page content. The compositor is responsible for compositing the trusted and untrusted content. If content is not performant, does not submit frames, or terminates unexpectedly the user agent should be able to continue presenting a responsive, trusted UI.</p>
    <p>Additionally, page content has the ability to make users uncomfortable in ways not related to performance. Badly applied tracking, strobing colors, and content intended to offend, frighten, or intimidate are examples of content which may cause the user to want to quickly exit the XR experience. Removing the XR device in these cases may not always be a fast or practical option. To accommodate this the user agent SHOULD provide users with an action, such as pressing a reserved hardware button or performing a gesture, that escapes out of WebXR content and displays the user agent’s trusted UI.</p>
    <p>When navigating between pages in XR the user agent should display trusted UI elements informing the user of the security information of the site they are navigating to which is normally presented by the 2D UI, such as the URL and encryption status.</p>
    <h3 class="heading settled" data-level="13.3" id="contextisolation-security"><span class="secno">13.3. </span><span class="content">Context Isolation</span><a class="self-link" href="#contextisolation-security"></a></h3>
    <p>The trusted UI must be drawn by an independent rendering context whose state is isolated from any rendering contexts used by the page. (For example, any WebGL rendering contexts.) This is to prevent the page from corrupting the state of the trusted UI’s context, which may prevent it from properly rendering a tracked environment. It also prevents the possibility of the page being able to capture imagery from the trusted UI, which could lead to private information being leaked.</p>
    <p>Also, to prevent CORS-related vulnerabilities each page will see a new instance of objects returned by the API, such as <code class="idl"><a data-link-type="idl" href="#xrsession" id="ref-for-xrsession⑥④">XRSession</a></code>. Attributes such as the <code class="idl"><a data-link-type="idl" href="#dom-xrwebgllayer-context" id="ref-for-dom-xrwebgllayer-context②">context</a></code> set by one page must not be able to be read by another. Similarly, methods invoked on the API MUST NOT cause an observable state change on other pages. For example: No method will be exposed that enables a system-level orientation reset, as this could be called repeatedly by a malicious page to prevent other pages from tracking properly. The user agent MUST, however, respect system-level orientation resets triggered by a user gesture or system menu.</p>
    <h3 class="heading settled" data-level="13.4" id="fingerprinting-security"><span class="secno">13.4. </span><span class="content">Fingerprinting</span><a class="self-link" href="#fingerprinting-security"></a></h3>
    <p>Given that the API describes hardware available to the user and its capabilities it will inevitably provide additional surface area for fingerprinting. While it’s impossible to completely avoid this, steps can be taken to mitigate the issue. This spec limits reporting of available hardware to only a single device at a time, which prevents using the rare cases of multiple headsets being connected as a fingerprinting signal. Also, the devices that are reported have no string identifiers and expose very little information about the devices capabilities until an XRSession is created, which may only be triggered via user activation in the most sensitive case.</p>
   </section>
   <h2 class="heading settled" data-level="14" id="integrations"><span class="secno">14. </span><span class="content">Integrations</span><a class="self-link" href="#integrations"></a></h2>
   <section class="unstable">
    <h3 class="heading settled" data-level="14.1" id="feature-policy"><span class="secno">14.1. </span><span class="content">Feature Policy</span><a class="self-link" href="#feature-policy"></a></h3>
     This specification defines a <a data-link-type="dfn" href="https://wicg.github.io/feature-policy/#policy-controlled-feature" id="ref-for-policy-controlled-feature">policy-controlled feature</a> that controls whether the <code class="idl"><a data-link-type="idl" href="#dom-navigator-xr" id="ref-for-dom-navigator-xr①">xr</a></code> attribute is exposed on the <code class="idl"><a data-link-type="idl" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator①">Navigator</a></code> object. 
    <p>The feature identifier for this feature is <code>"xr"</code>.</p>
    <p>The <a data-link-type="dfn" href="https://wicg.github.io/feature-policy/#default-allowlist" id="ref-for-default-allowlist">default allowlist</a> for this feature is <code>["self"]</code>.</p>
   </section>
   <h2 class="heading settled" data-level="15" id="ack"><span class="secno">15. </span><span class="content">Acknowledgements</span><a class="self-link" href="#ack"></a></h2>
   <p>The following individuals have contributed to the design of the WebXR Device API specification:</p>
   <ul>
    <li data-md>
     <p><a href="mailto:cvan@mozilla.com">Chris Van Wiemeersch</a> (<a href="https://mozilla.org/">Mozilla</a>)</p>
    <li data-md>
     <p><a href="mailto:kgilbert@mozilla.com">Kearwood Gilbert</a> (<a href="https://mozilla.org/">Mozilla</a>)</p>
    <li data-md>
     <p><a href="mailto:rafael.cintron@microsoft.com">Rafael Cintron</a> (<a href="https://microsoft.com/">Microsoft</a>)</p>
    <li data-md>
     <p><a href="mailto:sebastian.sylvan@gmail.com">Sebastian Sylvan</a> (Formerly <a href="https://microsoft.com/">Microsoft</a>)</p>
   </ul>
   <p>And a special thanks to <a href="mailto:vladv@unity3d.com">Vladimir Vukicevic</a> (<a href="https://unity3d.com/">Unity</a>) for kick-starting this whole adventure!</p>
   <p id="back-to-top" role="navigation"><a href="#toc"><abbr title="Back to Top">↑</abbr></a></p>
<script src="https://www.w3.org/scripts/TR/2016/fixup.js"></script>
  </main>
  <h2 class="no-num no-ref heading settled" id="index"><span class="content">Index</span><a class="self-link" href="#index"></a></h2>
  <h3 class="no-num no-ref heading settled" id="index-defined-here"><span class="content">Terms defined by this specification</span><a class="self-link" href="#index-defined-here"></a></h3>
  <ul class="index">
   <li><a href="#dom-xrhandedness">""</a><span>, in §9.1</span>
   <li><a href="#3dof">3DoF</a><span>, in §1.1</span>
   <li><a href="#6dof">6DoF</a><span>, in §1.1</span>
   <li><a href="#xrframe-active">active</a><span>, in §4.1</span>
   <li><a href="#active-immersive-session">active immersive session</a><span>, in §2.1</span>
   <li><a href="#active-render-state">active render state</a><span>, in §3.1</span>
   <li><a href="#dom-xrenvironmentblendmode-additive">additive</a><span>, in §3.1</span>
   <li>
    alpha
    <ul>
     <li><a href="#dom-xrwebgllayer-alpha">attribute for XRWebGLLayer</a><span>, in §10.2</span>
     <li><a href="#dom-xrwebgllayerinit-alpha">dict-member for XRWebGLLayerInit</a><span>, in §10.2</span>
    </ul>
   <li><a href="#dom-xrenvironmentblendmode-alpha-blend">alpha-blend</a><span>, in §3.1</span>
   <li><a href="#animation-frame-callback-identifier">animation frame callback identifier</a><span>, in §3.5</span>
   <li>
    antialias
    <ul>
     <li><a href="#dom-xrwebgllayer-antialias">attribute for XRWebGLLayer</a><span>, in §10.2</span>
     <li><a href="#dom-xrwebgllayerinit-antialias">dict-member for XRWebGLLayerInit</a><span>, in §10.2</span>
    </ul>
   <li><a href="#apply-pending-render-states">apply pending render states</a><span>, in §3.1</span>
   <li>
    baseLayer
    <ul>
     <li><a href="#dom-xrrenderstate-baselayer">attribute for XRRenderState</a><span>, in §3.4</span>
     <li><a href="#dom-xrrenderstateinit-baselayer">dict-member for XRRenderStateInit</a><span>, in §3.4</span>
    </ul>
   <li><a href="#eventdef-xrsession-blur">blur</a><span>, in §12.4</span>
   <li><a href="#blur-all-sessions">blur all sessions</a><span>, in §3.1</span>
   <li><a href="#blurred">blurred</a><span>, in §12.4</span>
   <li><a href="#dom-xrreferencespacetype-bounded">bounded</a><span>, in §5.2</span>
   <li><a href="#dom-xrboundedreferencespace-boundsgeometry">boundsGeometry</a><span>, in §5.4</span>
   <li><a href="#dom-xrsession-cancelanimationframe">cancelAnimationFrame(handle)</a><span>, in §3.5</span>
   <li><a href="#xrframerequestcallback-cancelled">cancelled</a><span>, in §3.5</span>
   <li><a href="#dom-xrpresentationcontext-canvas">canvas</a><span>, in §11.1</span>
   <li><a href="#compatible-graphics-adapter">compatible graphics adapter</a><span>, in §10.3</span>
   <li><a href="#dom-xrwebgllayer-context">context</a><span>, in §10.2</span>
   <li><a href="#create-a-reference-space">create a reference space</a><span>, in §5.2</span>
   <li>
    depth
    <ul>
     <li><a href="#dom-xrwebgllayer-depth">attribute for XRWebGLLayer</a><span>, in §10.2</span>
     <li><a href="#dom-xrwebgllayerinit-depth">dict-member for XRWebGLLayerInit</a><span>, in §10.2</span>
    </ul>
   <li>
    depthFar
    <ul>
     <li><a href="#dom-xrrenderstate-depthfar">attribute for XRRenderState</a><span>, in §3.4</span>
     <li><a href="#dom-xrrenderstateinit-depthfar">dict-member for XRRenderStateInit</a><span>, in §3.4</span>
    </ul>
   <li>
    depthNear
    <ul>
     <li><a href="#dom-xrrenderstate-depthnear">attribute for XRRenderState</a><span>, in §3.4</span>
     <li><a href="#dom-xrrenderstateinit-depthnear">dict-member for XRRenderStateInit</a><span>, in §3.4</span>
    </ul>
   <li><a href="#eventdef-xr-devicechange">devicechange</a><span>, in §12.4</span>
   <li><a href="#dom-xrray-direction">direction</a><span>, in §7.3</span>
   <li><a href="#dom-xrinputpose-emulatedposition">emulatedPosition</a><span>, in §9.2</span>
   <li><a href="#dom-xrsession-end">end()</a><span>, in §3.1</span>
   <li><a href="#eventdef-xrsession-end">end</a><span>, in §12.4</span>
   <li><a href="#ended">ended</a><span>, in §3.1</span>
   <li><a href="#end-the-session">end the session</a><span>, in §3.1</span>
   <li><a href="#ensure-an-xr-device-is-selected">ensure an XR device is selected</a><span>, in §2.1</span>
   <li><a href="#enumerate-xr-devices">enumerate XR devices</a><span>, in §2.1</span>
   <li><a href="#environment-blending-mode">environment blending mode</a><span>, in §3.1</span>
   <li><a href="#dom-xrsession-environmentblendmode">environmentBlendMode</a><span>, in §3.1</span>
   <li><a href="#exclusive-access">exclusive access</a><span>, in §3.2</span>
   <li><a href="#dom-xrview-eye">eye</a><span>, in §6.1</span>
   <li><a href="#dom-xrstationaryreferencespacesubtype-eye-level">eye-level</a><span>, in §5.3</span>
   <li><a href="#dom-xrstationaryreferencespacesubtype-floor-level">floor-level</a><span>, in §5.3</span>
   <li><a href="#eventdef-xrsession-focus">focus</a><span>, in §12.4</span>
   <li>
    frame
    <ul>
     <li><a href="#dom-xrinputsourceevent-frame">attribute for XRInputSourceEvent</a><span>, in §12.2</span>
     <li><a href="#dom-xrinputsourceeventinit-frame">dict-member for XRInputSourceEventInit</a><span>, in §12.2</span>
    </ul>
   <li><a href="#dom-xrwebgllayer-framebuffer">framebuffer</a><span>, in §10.2</span>
   <li><a href="#dom-xrwebgllayer-framebufferheight">framebufferHeight</a><span>, in §10.2</span>
   <li><a href="#dom-xrwebgllayerinit-framebufferscalefactor">framebufferScaleFactor</a><span>, in §10.2</span>
   <li><a href="#dom-xrwebgllayer-framebufferwidth">framebufferWidth</a><span>, in §10.2</span>
   <li><a href="#dom-xrtargetraymode-gaze">gaze</a><span>, in §9.1</span>
   <li><a href="#dom-xrframe-getinputpose">getInputPose(inputSource)</a><span>, in §4.1</span>
   <li><a href="#dom-xrframe-getinputpose">getInputPose(inputSource, referenceSpace)</a><span>, in §4.1</span>
   <li><a href="#dom-xrsession-getinputsources">getInputSources()</a><span>, in §3.1</span>
   <li><a href="#dom-xrwebgllayer-getnativeframebufferscalefactor">getNativeFramebufferScaleFactor(session)</a><span>, in §10.2</span>
   <li><a href="#dom-xrspace-gettransformto">getTransformTo(other)</a><span>, in §5.1</span>
   <li><a href="#dom-xrframe-getviewerpose">getViewerPose()</a><span>, in §4.1</span>
   <li><a href="#dom-xrframe-getviewerpose">getViewerPose(referenceSpace)</a><span>, in §4.1</span>
   <li><a href="#dom-xrwebgllayer-getviewport">getViewport(view)</a><span>, in §10.2</span>
   <li><a href="#dom-xrinputpose-griptransform">gripTransform</a><span>, in §9.2</span>
   <li><a href="#dom-xrinputsource-handedness">handedness</a><span>, in §9.1</span>
   <li><a href="#dom-xrviewport-height">height</a><span>, in §6.2</span>
   <li><a href="#identity-transform">identity transform</a><span>, in §7.2</span>
   <li><a href="#dom-xrsessionmode-immersive-ar">immersive-ar</a><span>, in §3.2</span>
   <li><a href="#immersive-session">immersive session</a><span>, in §3.2</span>
   <li><a href="#dom-xrsessionmode-immersive-vr">immersive-vr</a><span>, in §3.2</span>
   <li><a href="#initialize-the-render-state">initialize the render state</a><span>, in §3.4</span>
   <li><a href="#initialize-the-session">initialize the session</a><span>, in §3.1</span>
   <li><a href="#dom-xrsessionmode-inline">inline</a><span>, in §3.2</span>
   <li>
    inputSource
    <ul>
     <li><a href="#dom-xrinputsourceevent-inputsource">attribute for XRInputSourceEvent</a><span>, in §12.2</span>
     <li><a href="#dom-xrinputsourceeventinit-inputsource">dict-member for XRInputSourceEventInit</a><span>, in §12.2</span>
    </ul>
   <li><a href="#eventdef-xrsession-inputsourceschange">inputsourceschange</a><span>, in §12.4</span>
   <li>
    "left"
    <ul>
     <li><a href="#dom-xreye-left">enum-value for XREye</a><span>, in §6.1</span>
     <li><a href="#dom-xrhandedness-left">enum-value for XRHandedness</a><span>, in §9.1</span>
    </ul>
   <li><a href="#list-of-active-input-sources">list of active input sources</a><span>, in §3.1</span>
   <li><a href="#list-of-animation-frame-callbacks">list of animation frame callbacks</a><span>, in §3.5</span>
   <li><a href="#list-of-inline-sessions">list of inline sessions</a><span>, in §2.1</span>
   <li><a href="#list-of-pending-render-states">list of pending render states</a><span>, in §3.1</span>
   <li><a href="#list-of-supported-modes">list of supported modes</a><span>, in §2.1</span>
   <li><a href="#list-of-viewports">list of viewports</a><span>, in §10.2</span>
   <li><a href="#list-of-xr-devices">list of XR devices</a><span>, in §2.1</span>
   <li><a href="#dom-webglrenderingcontextbase-makexrcompatible">makeXRCompatible()</a><span>, in §10.3</span>
   <li>
    matrix
    <ul>
     <li><a href="#dom-xrray-matrix">attribute for XRRay</a><span>, in §7.3</span>
     <li><a href="#dom-xrrigidtransform-matrix">attribute for XRRigidTransform</a><span>, in §7.2</span>
     <li><a href="#matrix">definition of</a><span>, in §7.1</span>
    </ul>
   <li><a href="#minimum-viewport-scale-factor">minimum viewport scale factor</a><span>, in §10.2</span>
   <li>
    mode
    <ul>
     <li><a href="#dom-xrsession-mode">attribute for XRSession</a><span>, in §3.1</span>
     <li><a href="#dom-xrsessioncreationoptions-mode">dict-member for XRSessionCreationOptions</a><span>, in §3.3</span>
    </ul>
   <li><a href="#native-webgl-framebuffer-resolution">native WebGL framebuffer resolution</a><span>, in §10.2</span>
   <li><a href="#normalize">Normalize</a><span>, in §7.2</span>
   <li><a href="#dom-xrsession-onblur">onblur</a><span>, in §3.1</span>
   <li><a href="#dom-xr-ondevicechange">ondevicechange</a><span>, in §2.1</span>
   <li><a href="#dom-xrsession-onend">onend</a><span>, in §3.1</span>
   <li><a href="#dom-xrsession-onfocus">onfocus</a><span>, in §3.1</span>
   <li><a href="#dom-xrsession-oninputsourceschange">oninputsourceschange</a><span>, in §3.1</span>
   <li><a href="#dom-xrreferencespace-onreset">onreset</a><span>, in §5.2</span>
   <li><a href="#dom-xrsession-onselect">onselect</a><span>, in §3.1</span>
   <li><a href="#dom-xrsession-onselectend">onselectend</a><span>, in §3.1</span>
   <li><a href="#dom-xrsession-onselectstart">onselectstart</a><span>, in §3.1</span>
   <li><a href="#dom-xrenvironmentblendmode-opaque">opaque</a><span>, in §3.1</span>
   <li><a href="#opaque-framebuffer">opaque framebuffer</a><span>, in §10.2</span>
   <li><a href="#dom-xrrigidtransform-orientation">orientation</a><span>, in §7.2</span>
   <li><a href="#dom-xrray-origin">origin</a><span>, in §7.3</span>
   <li><a href="#dom-xrreferencespace-originoffset">originOffset</a><span>, in §5.2</span>
   <li>
    outputContext
    <ul>
     <li><a href="#dom-xrsession-outputcontext">attribute for XRSession</a><span>, in §3.1</span>
     <li><a href="#dom-xrsessioncreationoptions-outputcontext">dict-member for XRSessionCreationOptions</a><span>, in §3.3</span>
    </ul>
   <li><a href="#pending-immersive-session">pending immersive session</a><span>, in §2.1</span>
   <li><a href="#poll-the-device-pose">poll the device pose</a><span>, in §3.1</span>
   <li><a href="#dom-xrrigidtransform-position">position</a><span>, in §7.2</span>
   <li><a href="#dom-xrstationaryreferencespacesubtype-position-disabled">position-disabled</a><span>, in §5.3</span>
   <li><a href="#primary-action">primary action</a><span>, in §9.1</span>
   <li><a href="#dom-xrview-projectionmatrix">projectionMatrix</a><span>, in §6.1</span>
   <li><a href="#recommended-webgl-framebuffer-resolution">recommended WebGL framebuffer resolution</a><span>, in §10.2</span>
   <li>
    referenceSpace
    <ul>
     <li><a href="#dom-xrreferencespaceevent-referencespace">attribute for XRReferenceSpaceEvent</a><span>, in §12.3</span>
     <li><a href="#dom-xrreferencespaceeventinit-referencespace">dict-member for XRReferenceSpaceEventInit</a><span>, in §12.3</span>
    </ul>
   <li><a href="#dom-xrsession-renderstate">renderState</a><span>, in §3.1</span>
   <li><a href="#dom-xrsession-requestanimationframe">requestAnimationFrame(callback)</a><span>, in §3.5</span>
   <li><a href="#dom-xrsession-requestreferencespace">requestReferenceSpace(options)</a><span>, in §3.1</span>
   <li><a href="#dom-xr-requestsession">requestSession(options)</a><span>, in §2.1</span>
   <li><a href="#dom-xrwebgllayer-requestviewportscaling-scalefactor">requestViewportScaling(scaleFactor)</a><span>, in §10.2</span>
   <li><a href="#dom-xrwebgllayer-requestviewportscaling">requestViewportScaling(viewportScaleFactor)</a><span>, in §10.2</span>
   <li><a href="#eventdef-xrreferencespace-reset">reset</a><span>, in §12.4</span>
   <li>
    "right"
    <ul>
     <li><a href="#dom-xreye-right">enum-value for XREye</a><span>, in §6.1</span>
     <li><a href="#dom-xrhandedness-right">enum-value for XRHandedness</a><span>, in §9.1</span>
    </ul>
   <li><a href="#dom-xrtargetraymode-screen">screen</a><span>, in §9.1</span>
   <li><a href="#eventdef-xrsession-select">select</a><span>, in §12.4</span>
   <li><a href="#select-an-xr-device">select an XR device</a><span>, in §2.1</span>
   <li><a href="#eventdef-xrsession-selectend">selectend</a><span>, in §12.4</span>
   <li><a href="#eventdef-xrsession-selectstart">selectstart</a><span>, in §12.4</span>
   <li>
    session
    <ul>
     <li><a href="#dom-xrframe-session">attribute for XRFrame</a><span>, in §4.1</span>
     <li><a href="#dom-xrsessionevent-session">attribute for XRSessionEvent</a><span>, in §12.1</span>
     <li><a href="#xrspace-session">dfn for XRSpace</a><span>, in §5.1</span>
     <li><a href="#dom-xrsessioneventinit-session">dict-member for XRSessionEventInit</a><span>, in §12.1</span>
    </ul>
   <li><a href="#session-description">session description</a><span>, in §3.3</span>
   <li><a href="#should-not-initialize-device-tracking">SHOULD NOT initialize device tracking</a><span>, in §3.1</span>
   <li><a href="#shut-down-the-session">shut down the session</a><span>, in §3.1</span>
   <li><a href="#dom-xrreferencespacetype-stationary">stationary</a><span>, in §5.2</span>
   <li>
    stencil
    <ul>
     <li><a href="#dom-xrwebgllayer-stencil">attribute for XRWebGLLayer</a><span>, in §10.2</span>
     <li><a href="#dom-xrwebgllayerinit-stencil">dict-member for XRWebGLLayerInit</a><span>, in §10.2</span>
    </ul>
   <li>
    subtype
    <ul>
     <li><a href="#dom-xrstationaryreferencespace-subtype">attribute for XRStationaryReferenceSpace</a><span>, in §5.3</span>
     <li><a href="#dom-xrreferencespaceoptions-subtype">dict-member for XRReferenceSpaceOptions</a><span>, in §5.2</span>
    </ul>
   <li><a href="#dom-xr-supportssessionmode">supportsSessionMode(mode)</a><span>, in §2.1</span>
   <li><a href="#swap-chain">swap chain</a><span>, in §10.2</span>
   <li><a href="#dom-xrinputpose-targetray">targetRay</a><span>, in §9.2</span>
   <li><a href="#dom-xrinputsource-targetraymode">targetRayMode</a><span>, in §9.1</span>
   <li><a href="#dom-xrtargetraymode-tracked-pointer">tracked-pointer</a><span>, in §9.1</span>
   <li>
    transform
    <ul>
     <li><a href="#dom-xrreferencespaceevent-transform">attribute for XRReferenceSpaceEvent</a><span>, in §12.3</span>
     <li><a href="#dom-xrview-transform">attribute for XRView</a><span>, in §6.1</span>
     <li><a href="#dom-xrviewerpose-transform">attribute for XRViewerPose</a><span>, in §8.1</span>
     <li><a href="#dom-xrreferencespaceeventinit-transform">dict-member for XRReferenceSpaceEventInit</a><span>, in §12.3</span>
    </ul>
   <li><a href="#dom-xrreferencespaceoptions-type">type</a><span>, in §5.2</span>
   <li><a href="#dom-xrreferencespacetype-unbounded">unbounded</a><span>, in §5.2</span>
   <li><a href="#dom-xrsession-updaterenderstate">updateRenderState(newState)</a><span>, in §3.1</span>
   <li><a href="#view">view</a><span>, in §6.1</span>
   <li><a href="#viewer">viewer</a><span>, in §8.1</span>
   <li><a href="#dom-xrview-viewmatrix">viewMatrix</a><span>, in §6.1</span>
   <li><a href="#viewport-scale-factor">viewport scale factor</a><span>, in §10.2</span>
   <li><a href="#dom-xrviewerpose-views">views</a><span>, in §8.1</span>
   <li><a href="#dom-xrviewport-width">width</a><span>, in §6.2</span>
   <li><a href="#dom-xrviewport-x">x</a><span>, in §6.2</span>
   <li><a href="#dom-navigator-xr">xr</a><span>, in §2.1</span>
   <li><a href="#xr">XR</a><span>, in §2.1</span>
   <li><a href="#xr-animation-frame">XR animation frame</a><span>, in §3.5</span>
   <li><a href="#xrboundedreferencespace">XRBoundedReferenceSpace</a><span>, in §5.4</span>
   <li><a href="#dom-webglcontextattributes-xrcompatible">xrCompatible</a><span>, in §10.3</span>
   <li><a href="#xr-compatible">XR compatible</a><span>, in §10.3</span>
   <li><a href="#xr-compositor">XR Compositor</a><span>, in §3.6</span>
   <li><a href="#xr-device">XR device</a><span>, in §2.1</span>
   <li><a href="#enumdef-xrenvironmentblendmode">XREnvironmentBlendMode</a><span>, in §3.1</span>
   <li><a href="#enumdef-xreye">XREye</a><span>, in §6.1</span>
   <li><a href="#xrframe">XRFrame</a><span>, in §4.1</span>
   <li><a href="#callbackdef-xrframerequestcallback">XRFrameRequestCallback</a><span>, in §3.5</span>
   <li><a href="#enumdef-xrhandedness">XRHandedness</a><span>, in §9.1</span>
   <li><a href="#xrinputpose">XRInputPose</a><span>, in §9.2</span>
   <li><a href="#xrinputsource">XRInputSource</a><span>, in §9.1</span>
   <li><a href="#xrinputsourceevent">XRInputSourceEvent</a><span>, in §12.2</span>
   <li><a href="#dictdef-xrinputsourceeventinit">XRInputSourceEventInit</a><span>, in §12.2</span>
   <li><a href="#dom-xrinputsourceevent-xrinputsourceevent">XRInputSourceEvent(type, eventInitDict)</a><span>, in §12.2</span>
   <li><a href="#xrlayer">XRLayer</a><span>, in §10.1</span>
   <li><a href="#xrpresentationcontext">XRPresentationContext</a><span>, in §11.1</span>
   <li><a href="#xrray">XRRay</a><span>, in §7.3</span>
   <li><a href="#dom-xrray-xrray">XRRay(origin, direction)</a><span>, in §7.3</span>
   <li><a href="#dom-xrray-xrray-transform">XRRay(transform)</a><span>, in §7.3</span>
   <li><a href="#xrreferencespace">XRReferenceSpace</a><span>, in §5.2</span>
   <li><a href="#xrreferencespaceevent">XRReferenceSpaceEvent</a><span>, in §12.3</span>
   <li><a href="#dictdef-xrreferencespaceeventinit">XRReferenceSpaceEventInit</a><span>, in §12.3</span>
   <li><a href="#dom-xrreferencespaceevent-xrreferencespaceevent">XRReferenceSpaceEvent(type, eventInitDict)</a><span>, in §12.3</span>
   <li><a href="#dictdef-xrreferencespaceoptions">XRReferenceSpaceOptions</a><span>, in §5.2</span>
   <li><a href="#enumdef-xrreferencespacetype">XRReferenceSpaceType</a><span>, in §5.2</span>
   <li><a href="#xrrenderstate">XRRenderState</a><span>, in §3.4</span>
   <li><a href="#dictdef-xrrenderstateinit">XRRenderStateInit</a><span>, in §3.4</span>
   <li><a href="#xrrigidtransform">XRRigidTransform</a><span>, in §7.2</span>
   <li><a href="#dom-xrrigidtransform-xrrigidtransform">XRRigidTransform(position, orientation)</a><span>, in §7.2</span>
   <li><a href="#xrsession">XRSession</a><span>, in §3.1</span>
   <li><a href="#dictdef-xrsessioncreationoptions">XRSessionCreationOptions</a><span>, in §3.3</span>
   <li><a href="#xrsessionevent">XRSessionEvent</a><span>, in §12.1</span>
   <li><a href="#dictdef-xrsessioneventinit">XRSessionEventInit</a><span>, in §12.1</span>
   <li><a href="#dom-xrsessionevent-xrsessionevent">XRSessionEvent(type, eventInitDict)</a><span>, in §12.1</span>
   <li><a href="#enumdef-xrsessionmode">XRSessionMode</a><span>, in §3.2</span>
   <li><a href="#xrspace">XRSpace</a><span>, in §5.1</span>
   <li><a href="#xrstationaryreferencespace">XRStationaryReferenceSpace</a><span>, in §5.3</span>
   <li><a href="#enumdef-xrstationaryreferencespacesubtype">XRStationaryReferenceSpaceSubtype</a><span>, in §5.2</span>
   <li><a href="#enumdef-xrtargetraymode">XRTargetRayMode</a><span>, in §9.1</span>
   <li><a href="#xrunboundedreferencespace">XRUnboundedReferenceSpace</a><span>, in §5.5</span>
   <li><a href="#xrview">XRView</a><span>, in §6.1</span>
   <li><a href="#xrviewerpose">XRViewerPose</a><span>, in §8.1</span>
   <li><a href="#xrviewport">XRViewport</a><span>, in §6.2</span>
   <li><a href="#xrwebgllayer">XRWebGLLayer</a><span>, in §10.2</span>
   <li><a href="#dictdef-xrwebgllayerinit">XRWebGLLayerInit</a><span>, in §10.2</span>
   <li><a href="#dom-xrwebgllayer-xrwebgllayer">XRWebGLLayer(session, context, layerInit)</a><span>, in §10.2</span>
   <li><a href="#typedefdef-xrwebglrenderingcontext">XRWebGLRenderingContext</a><span>, in §10.2</span>
   <li><a href="#dom-xrviewport-y">y</a><span>, in §6.2</span>
  </ul>
  <aside class="dfn-panel" data-for="term-for-event">
   <a href="https://dom.spec.whatwg.org/#event">https://dom.spec.whatwg.org/#event</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event">12.1. XRSessionEvent</a>
    <li><a href="#ref-for-event①">12.2. XRInputSourceEvent</a>
    <li><a href="#ref-for-event②">12.3. XRReferenceSpaceEvent</a>
    <li><a href="#ref-for-event③">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dictdef-eventinit">
   <a href="https://dom.spec.whatwg.org/#dictdef-eventinit">https://dom.spec.whatwg.org/#dictdef-eventinit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-eventinit">12.1. XRSessionEvent</a>
    <li><a href="#ref-for-dictdef-eventinit①">12.2. XRInputSourceEvent</a>
    <li><a href="#ref-for-dictdef-eventinit②">12.3. XRReferenceSpaceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventtarget">
   <a href="https://dom.spec.whatwg.org/#eventtarget">https://dom.spec.whatwg.org/#eventtarget</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventtarget">2.1. XR</a>
    <li><a href="#ref-for-eventtarget①">3.1. XRSession</a>
    <li><a href="#ref-for-eventtarget②">5.1. XRSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-canceled-flag">
   <a href="https://dom.spec.whatwg.org/#canceled-flag">https://dom.spec.whatwg.org/#canceled-flag</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-canceled-flag">10.3. WebGL Context Compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-concept-event-dispatch">
   <a href="https://dom.spec.whatwg.org/#concept-event-dispatch">https://dom.spec.whatwg.org/#concept-event-dispatch</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-concept-event-dispatch">12.2. XRInputSourceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-default-allowlist">
   <a href="https://wicg.github.io/feature-policy/#default-allowlist">https://wicg.github.io/feature-policy/#default-allowlist</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-default-allowlist">14.1. Feature Policy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-policy-controlled-feature">
   <a href="https://wicg.github.io/feature-policy/#policy-controlled-feature">https://wicg.github.io/feature-policy/#policy-controlled-feature</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-policy-controlled-feature">14.1. Feature Policy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dommatrix">
   <a href="https://drafts.fxtf.org/geometry-1/#dommatrix">https://drafts.fxtf.org/geometry-1/#dommatrix</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dommatrix">7.1. Matrices</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dictdef-dompointinit">
   <a href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit">https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-dompointinit">7.2. XRRigidTransform</a> <a href="#ref-for-dictdef-dompointinit①">(2)</a> <a href="#ref-for-dictdef-dompointinit②">(3)</a> <a href="#ref-for-dictdef-dompointinit③">(4)</a>
    <li><a href="#ref-for-dictdef-dompointinit④">7.3. XRRay</a> <a href="#ref-for-dictdef-dompointinit⑤">(2)</a> <a href="#ref-for-dictdef-dompointinit⑥">(3)</a> <a href="#ref-for-dictdef-dompointinit⑦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dompointreadonly">
   <a href="https://drafts.fxtf.org/geometry-1/#dompointreadonly">https://drafts.fxtf.org/geometry-1/#dompointreadonly</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dompointreadonly">5.4. XRBoundedReferenceSpace</a> <a href="#ref-for-dompointreadonly①">(2)</a>
    <li><a href="#ref-for-dompointreadonly②">7.2. XRRigidTransform</a> <a href="#ref-for-dompointreadonly③">(2)</a>
    <li><a href="#ref-for-dompointreadonly④">7.3. XRRay</a> <a href="#ref-for-dompointreadonly⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-dompointreadonly-w">
   <a href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w">https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-w</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-dompointreadonly-w">5.4. XRBoundedReferenceSpace</a>
    <li><a href="#ref-for-dom-dompointreadonly-w①">7.2. XRRigidTransform</a> <a href="#ref-for-dom-dompointreadonly-w②">(2)</a> <a href="#ref-for-dom-dompointreadonly-w③">(3)</a>
    <li><a href="#ref-for-dom-dompointreadonly-w④">7.3. XRRay</a> <a href="#ref-for-dom-dompointreadonly-w⑤">(2)</a> <a href="#ref-for-dom-dompointreadonly-w⑥">(3)</a> <a href="#ref-for-dom-dompointreadonly-w⑦">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-dompointreadonly-x">
   <a href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x">https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-x</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-dompointreadonly-x">7.2. XRRigidTransform</a> <a href="#ref-for-dom-dompointreadonly-x①">(2)</a>
    <li><a href="#ref-for-dom-dompointreadonly-x②">7.3. XRRay</a> <a href="#ref-for-dom-dompointreadonly-x③">(2)</a> <a href="#ref-for-dom-dompointreadonly-x④">(3)</a> <a href="#ref-for-dom-dompointreadonly-x⑤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-dompointreadonly-y">
   <a href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y">https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-y</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-dompointreadonly-y">5.4. XRBoundedReferenceSpace</a>
    <li><a href="#ref-for-dom-dompointreadonly-y①">7.2. XRRigidTransform</a> <a href="#ref-for-dom-dompointreadonly-y②">(2)</a>
    <li><a href="#ref-for-dom-dompointreadonly-y③">7.3. XRRay</a> <a href="#ref-for-dom-dompointreadonly-y④">(2)</a> <a href="#ref-for-dom-dompointreadonly-y⑤">(3)</a> <a href="#ref-for-dom-dompointreadonly-y⑥">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-dompointreadonly-z">
   <a href="https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z">https://drafts.fxtf.org/geometry-1/#dom-dompointreadonly-z</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-dompointreadonly-z">7.2. XRRigidTransform</a> <a href="#ref-for-dom-dompointreadonly-z①">(2)</a>
    <li><a href="#ref-for-dom-dompointreadonly-z②">7.3. XRRay</a> <a href="#ref-for-dom-dompointreadonly-z③">(2)</a> <a href="#ref-for-dom-dompointreadonly-z④">(3)</a> <a href="#ref-for-dom-dompointreadonly-z⑤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-eventhandler">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler">https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventhandler">2.1. XR</a>
    <li><a href="#ref-for-eventhandler①">3.1. XRSession</a> <a href="#ref-for-eventhandler②">(2)</a> <a href="#ref-for-eventhandler③">(3)</a> <a href="#ref-for-eventhandler④">(4)</a> <a href="#ref-for-eventhandler⑤">(5)</a> <a href="#ref-for-eventhandler⑥">(6)</a> <a href="#ref-for-eventhandler⑦">(7)</a>
    <li><a href="#ref-for-eventhandler⑧">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-htmlcanvaselement">
   <a href="https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement">https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-htmlcanvaselement">10.3. WebGL Context Compatibility</a>
    <li><a href="#ref-for-htmlcanvaselement①">11.1. XRPresentationContext</a> <a href="#ref-for-htmlcanvaselement②">(2)</a> <a href="#ref-for-htmlcanvaselement③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-navigator">
   <a href="https://html.spec.whatwg.org/multipage/system-state.html#navigator">https://html.spec.whatwg.org/multipage/system-state.html#navigator</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-navigator">2.1. XR</a>
    <li><a href="#ref-for-navigator①">14.1. Feature Policy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-event-handler-idl-attributes">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes">https://html.spec.whatwg.org/multipage/webappapis.html#event-handler-idl-attributes</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-event-handler-idl-attributes">2.1. XR</a>
    <li><a href="#ref-for-event-handler-idl-attributes①">3.1. XRSession</a> <a href="#ref-for-event-handler-idl-attributes②">(2)</a> <a href="#ref-for-event-handler-idl-attributes③">(3)</a> <a href="#ref-for-event-handler-idl-attributes④">(4)</a> <a href="#ref-for-event-handler-idl-attributes⑤">(5)</a> <a href="#ref-for-event-handler-idl-attributes⑥">(6)</a> <a href="#ref-for-event-handler-idl-attributes⑦">(7)</a>
    <li><a href="#ref-for-event-handler-idl-attributes⑧">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-dom-canvas-getcontext">
   <a href="https://html.spec.whatwg.org/multipage/canvas.html#dom-canvas-getcontext">https://html.spec.whatwg.org/multipage/canvas.html#dom-canvas-getcontext</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-canvas-getcontext">11.1. XRPresentationContext</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-in-parallel">
   <a href="https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel">https://html.spec.whatwg.org/multipage/infrastructure.html#in-parallel</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-in-parallel">2.1. XR</a> <a href="#ref-for-in-parallel①">(2)</a>
    <li><a href="#ref-for-in-parallel②">3.1. XRSession</a> <a href="#ref-for-in-parallel③">(2)</a>
    <li><a href="#ref-for-in-parallel④">10.3. WebGL Context Compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-report-the-exception">
   <a href="https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception">https://html.spec.whatwg.org/multipage/webappapis.html#report-the-exception</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-report-the-exception">3.5. Animation Frames</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-triggered-by-user-activation">
   <a href="https://html.spec.whatwg.org/multipage/interaction.html#triggered-by-user-activation">https://html.spec.whatwg.org/multipage/interaction.html#triggered-by-user-activation</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-triggered-by-user-activation">1.2. Application flow</a>
    <li><a href="#ref-for-triggered-by-user-activation①">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-absoluteorientationsensor">
   <a href="https://w3c.github.io/orientation-sensor/#absoluteorientationsensor">https://w3c.github.io/orientation-sensor/#absoluteorientationsensor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-absoluteorientationsensor">1. Introduction</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-relativeorientationsensor">
   <a href="https://w3c.github.io/orientation-sensor/#relativeorientationsensor">https://w3c.github.io/orientation-sensor/#relativeorientationsensor</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-relativeorientationsensor">1. Introduction</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-a-new-promise">
   <a href="https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise">https://www.w3.org/2001/tag/doc/promises-guide/#a-new-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-a-new-promise">2.1. XR</a> <a href="#ref-for-a-new-promise①">(2)</a>
    <li><a href="#ref-for-a-new-promise②">3.1. XRSession</a> <a href="#ref-for-a-new-promise③">(2)</a>
    <li><a href="#ref-for-a-new-promise④">10.3. WebGL Context Compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-reject-promise">
   <a href="https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise">https://www.w3.org/2001/tag/doc/promises-guide/#reject-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-reject-promise">2.1. XR</a> <a href="#ref-for-reject-promise①">(2)</a> <a href="#ref-for-reject-promise②">(3)</a> <a href="#ref-for-reject-promise③">(4)</a> <a href="#ref-for-reject-promise④">(5)</a> <a href="#ref-for-reject-promise⑤">(6)</a> <a href="#ref-for-reject-promise⑥">(7)</a> <a href="#ref-for-reject-promise⑦">(8)</a>
    <li><a href="#ref-for-reject-promise⑧">3.1. XRSession</a>
    <li><a href="#ref-for-reject-promise⑨">10.3. WebGL Context Compatibility</a> <a href="#ref-for-reject-promise①⓪">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-resolve-promise">
   <a href="https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise">https://www.w3.org/2001/tag/doc/promises-guide/#resolve-promise</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-resolve-promise">2.1. XR</a> <a href="#ref-for-resolve-promise①">(2)</a>
    <li><a href="#ref-for-resolve-promise②">3.1. XRSession</a> <a href="#ref-for-resolve-promise③">(2)</a>
    <li><a href="#ref-for-resolve-promise④">10.3. WebGL Context Compatibility</a> <a href="#ref-for-resolve-promise⑤">(2)</a> <a href="#ref-for-resolve-promise⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-aborterror">
   <a href="https://heycam.github.io/webidl/#aborterror">https://heycam.github.io/webidl/#aborterror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-aborterror">10.3. WebGL Context Compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-DOMString">
   <a href="https://heycam.github.io/webidl/#idl-DOMString">https://heycam.github.io/webidl/#idl-DOMString</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-DOMString">12.1. XRSessionEvent</a>
    <li><a href="#ref-for-idl-DOMString①">12.2. XRInputSourceEvent</a>
    <li><a href="#ref-for-idl-DOMString②">12.3. XRReferenceSpaceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-Exposed">
   <a href="https://heycam.github.io/webidl/#Exposed">https://heycam.github.io/webidl/#Exposed</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-Exposed">2.1. XR</a>
    <li><a href="#ref-for-Exposed①">3.1. XRSession</a>
    <li><a href="#ref-for-Exposed②">3.4. XRRenderState</a>
    <li><a href="#ref-for-Exposed③">4.1. XRFrame</a>
    <li><a href="#ref-for-Exposed④">5.1. XRSpace</a>
    <li><a href="#ref-for-Exposed⑤">5.2. XRReferenceSpace</a>
    <li><a href="#ref-for-Exposed⑥">5.3. XRStationaryReferenceSpace</a>
    <li><a href="#ref-for-Exposed⑦">5.4. XRBoundedReferenceSpace</a>
    <li><a href="#ref-for-Exposed⑧">5.5. XRUnboundedReferenceSpace</a>
    <li><a href="#ref-for-Exposed⑨">6.1. XRView</a>
    <li><a href="#ref-for-Exposed①⓪">6.2. XRViewport</a>
    <li><a href="#ref-for-Exposed①①">7.2. XRRigidTransform</a>
    <li><a href="#ref-for-Exposed①②">7.3. XRRay</a>
    <li><a href="#ref-for-Exposed①③">8.1. XRViewerPose</a>
    <li><a href="#ref-for-Exposed①④">9.1. XRInputSource</a>
    <li><a href="#ref-for-Exposed①⑤">9.2. XRInputPose</a>
    <li><a href="#ref-for-Exposed①⑥">10.1. XRLayer</a>
    <li><a href="#ref-for-Exposed①⑦">10.2. XRWebGLLayer</a>
    <li><a href="#ref-for-Exposed①⑧">11.1. XRPresentationContext</a>
    <li><a href="#ref-for-Exposed①⑨">12.1. XRSessionEvent</a>
    <li><a href="#ref-for-Exposed②⓪">12.2. XRInputSourceEvent</a>
    <li><a href="#ref-for-Exposed②①">12.3. XRReferenceSpaceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-Float32Array">
   <a href="https://heycam.github.io/webidl/#idl-Float32Array">https://heycam.github.io/webidl/#idl-Float32Array</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-Float32Array">6.1. XRView</a> <a href="#ref-for-idl-Float32Array①">(2)</a>
    <li><a href="#ref-for-idl-Float32Array②">7.1. Matrices</a>
    <li><a href="#ref-for-idl-Float32Array③">7.2. XRRigidTransform</a>
    <li><a href="#ref-for-idl-Float32Array④">7.3. XRRay</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-invalidstateerror">
   <a href="https://heycam.github.io/webidl/#invalidstateerror">https://heycam.github.io/webidl/#invalidstateerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-invalidstateerror">2.1. XR</a>
    <li><a href="#ref-for-invalidstateerror①">3.1. XRSession</a> <a href="#ref-for-invalidstateerror②">(2)</a>
    <li><a href="#ref-for-invalidstateerror③">4.1. XRFrame</a> <a href="#ref-for-invalidstateerror④">(2)</a>
    <li><a href="#ref-for-invalidstateerror⑤">10.2. XRWebGLLayer</a> <a href="#ref-for-invalidstateerror⑥">(2)</a> <a href="#ref-for-invalidstateerror⑦">(3)</a>
    <li><a href="#ref-for-invalidstateerror⑧">10.3. WebGL Context Compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-notsupportederror">
   <a href="https://heycam.github.io/webidl/#notsupportederror">https://heycam.github.io/webidl/#notsupportederror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-notsupportederror">2.1. XR</a> <a href="#ref-for-notsupportederror①">(2)</a> <a href="#ref-for-notsupportederror②">(3)</a>
    <li><a href="#ref-for-notsupportederror③">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-operationerror">
   <a href="https://heycam.github.io/webidl/#operationerror">https://heycam.github.io/webidl/#operationerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-operationerror">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-SameObject">
   <a href="https://heycam.github.io/webidl/#SameObject">https://heycam.github.io/webidl/#SameObject</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SameObject">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-SecureContext">
   <a href="https://heycam.github.io/webidl/#SecureContext">https://heycam.github.io/webidl/#SecureContext</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-SecureContext">2.1. XR</a> <a href="#ref-for-SecureContext①">(2)</a>
    <li><a href="#ref-for-SecureContext②">3.1. XRSession</a>
    <li><a href="#ref-for-SecureContext③">3.4. XRRenderState</a>
    <li><a href="#ref-for-SecureContext④">4.1. XRFrame</a>
    <li><a href="#ref-for-SecureContext⑤">5.1. XRSpace</a>
    <li><a href="#ref-for-SecureContext⑥">5.2. XRReferenceSpace</a>
    <li><a href="#ref-for-SecureContext⑦">5.3. XRStationaryReferenceSpace</a>
    <li><a href="#ref-for-SecureContext⑧">5.4. XRBoundedReferenceSpace</a>
    <li><a href="#ref-for-SecureContext⑨">5.5. XRUnboundedReferenceSpace</a>
    <li><a href="#ref-for-SecureContext①⓪">6.1. XRView</a>
    <li><a href="#ref-for-SecureContext①①">6.2. XRViewport</a>
    <li><a href="#ref-for-SecureContext①②">7.2. XRRigidTransform</a>
    <li><a href="#ref-for-SecureContext①③">7.3. XRRay</a>
    <li><a href="#ref-for-SecureContext①④">8.1. XRViewerPose</a>
    <li><a href="#ref-for-SecureContext①⑤">9.1. XRInputSource</a>
    <li><a href="#ref-for-SecureContext①⑥">9.2. XRInputPose</a>
    <li><a href="#ref-for-SecureContext①⑦">10.1. XRLayer</a>
    <li><a href="#ref-for-SecureContext①⑧">10.2. XRWebGLLayer</a>
    <li><a href="#ref-for-SecureContext①⑨">11.1. XRPresentationContext</a>
    <li><a href="#ref-for-SecureContext②⓪">12.1. XRSessionEvent</a>
    <li><a href="#ref-for-SecureContext②①">12.2. XRInputSourceEvent</a>
    <li><a href="#ref-for-SecureContext②②">12.3. XRReferenceSpaceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-securityerror">
   <a href="https://heycam.github.io/webidl/#securityerror">https://heycam.github.io/webidl/#securityerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-securityerror">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-exceptiondef-typeerror">
   <a href="https://heycam.github.io/webidl/#exceptiondef-typeerror">https://heycam.github.io/webidl/#exceptiondef-typeerror</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exceptiondef-typeerror">5.2. XRReferenceSpace</a> <a href="#ref-for-exceptiondef-typeerror①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-boolean">
   <a href="https://heycam.github.io/webidl/#idl-boolean">https://heycam.github.io/webidl/#idl-boolean</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-boolean">9.2. XRInputPose</a>
    <li><a href="#ref-for-idl-boolean①">10.2. XRWebGLLayer</a> <a href="#ref-for-idl-boolean②">(2)</a> <a href="#ref-for-idl-boolean③">(3)</a> <a href="#ref-for-idl-boolean④">(4)</a> <a href="#ref-for-idl-boolean⑤">(5)</a> <a href="#ref-for-idl-boolean⑥">(6)</a> <a href="#ref-for-idl-boolean⑦">(7)</a> <a href="#ref-for-idl-boolean⑧">(8)</a>
    <li><a href="#ref-for-idl-boolean⑨">10.3. WebGL Context Compatibility</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-double">
   <a href="https://heycam.github.io/webidl/#idl-double">https://heycam.github.io/webidl/#idl-double</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-double">3.4. XRRenderState</a> <a href="#ref-for-idl-double①">(2)</a> <a href="#ref-for-idl-double②">(3)</a> <a href="#ref-for-idl-double③">(4)</a>
    <li><a href="#ref-for-idl-double④">10.2. XRWebGLLayer</a> <a href="#ref-for-idl-double⑤">(2)</a> <a href="#ref-for-idl-double⑥">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-es-invoking-callback-functions">
   <a href="https://www.w3.org/TR/WebIDL-1/#es-invoking-callback-functions">https://www.w3.org/TR/WebIDL-1/#es-invoking-callback-functions</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-es-invoking-callback-functions">3.5. Animation Frames</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-long">
   <a href="https://heycam.github.io/webidl/#idl-long">https://heycam.github.io/webidl/#idl-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-long">3.1. XRSession</a> <a href="#ref-for-idl-long①">(2)</a>
    <li><a href="#ref-for-idl-long②">6.2. XRViewport</a> <a href="#ref-for-idl-long③">(2)</a> <a href="#ref-for-idl-long④">(3)</a> <a href="#ref-for-idl-long⑤">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="term-for-idl-unsigned-long">
   <a href="https://heycam.github.io/webidl/#idl-unsigned-long">https://heycam.github.io/webidl/#idl-unsigned-long</a><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-idl-unsigned-long">10.2. XRWebGLLayer</a> <a href="#ref-for-idl-unsigned-long①">(2)</a>
   </ul>
  </aside>
  <h3 class="no-num no-ref heading settled" id="index-defined-elsewhere"><span class="content">Terms defined by reference</span><a class="self-link" href="#index-defined-elsewhere"></a></h3>
  <ul class="index">
   <li>
    <a data-link-type="biblio">[DOM]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-event" style="color:initial">Event</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-eventinit" style="color:initial">EventInit</span>
     <li><span class="dfn-paneled" id="term-for-eventtarget" style="color:initial">EventTarget</span>
     <li><span class="dfn-paneled" id="term-for-canceled-flag" style="color:initial">canceled flag</span>
     <li><span class="dfn-paneled" id="term-for-concept-event-dispatch" style="color:initial">dispatch</span>
    </ul>
   <li>
    <a data-link-type="biblio">[FEATURE-POLICY]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-default-allowlist" style="color:initial">default allowlist</span>
     <li><span class="dfn-paneled" id="term-for-policy-controlled-feature" style="color:initial">policy-controlled feature</span>
    </ul>
   <li>
    <a data-link-type="biblio">[geometry-1]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-dommatrix" style="color:initial">DOMMatrix</span>
     <li><span class="dfn-paneled" id="term-for-dictdef-dompointinit" style="color:initial">DOMPointInit</span>
     <li><span class="dfn-paneled" id="term-for-dompointreadonly" style="color:initial">DOMPointReadOnly</span>
     <li><span class="dfn-paneled" id="term-for-dom-dompointreadonly-w" style="color:initial">w</span>
     <li><span class="dfn-paneled" id="term-for-dom-dompointreadonly-x" style="color:initial">x</span>
     <li><span class="dfn-paneled" id="term-for-dom-dompointreadonly-y" style="color:initial">y</span>
     <li><span class="dfn-paneled" id="term-for-dom-dompointreadonly-z" style="color:initial">z</span>
    </ul>
   <li>
    <a data-link-type="biblio">[HTML]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-eventhandler" style="color:initial">EventHandler</span>
     <li><span class="dfn-paneled" id="term-for-htmlcanvaselement" style="color:initial">HTMLCanvasElement</span>
     <li><span class="dfn-paneled" id="term-for-navigator" style="color:initial">Navigator</span>
     <li><span class="dfn-paneled" id="term-for-event-handler-idl-attributes" style="color:initial">event handler idl attribute</span>
     <li><span class="dfn-paneled" id="term-for-dom-canvas-getcontext" style="color:initial">getContext(contextId)</span>
     <li><span class="dfn-paneled" id="term-for-in-parallel" style="color:initial">in parallel</span>
     <li><span class="dfn-paneled" id="term-for-report-the-exception" style="color:initial">report the exception</span>
     <li><span class="dfn-paneled" id="term-for-triggered-by-user-activation" style="color:initial">triggered by user activation</span>
    </ul>
   <li>
    <a data-link-type="biblio">[orientation-sensor]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-absoluteorientationsensor" style="color:initial">AbsoluteOrientationSensor</span>
     <li><span class="dfn-paneled" id="term-for-relativeorientationsensor" style="color:initial">RelativeOrientationSensor</span>
    </ul>
   <li>
    <a data-link-type="biblio">[promises-guide]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-a-new-promise" style="color:initial">a new promise</span>
     <li><span class="dfn-paneled" id="term-for-reject-promise" style="color:initial">reject</span>
     <li><span class="dfn-paneled" id="term-for-resolve-promise" style="color:initial">resolve</span>
    </ul>
   <li>
    <a data-link-type="biblio">[WebIDL]</a> defines the following terms:
    <ul>
     <li><span class="dfn-paneled" id="term-for-aborterror" style="color:initial">AbortError</span>
     <li><span class="dfn-paneled" id="term-for-idl-DOMString" style="color:initial">DOMString</span>
     <li><span class="dfn-paneled" id="term-for-Exposed" style="color:initial">Exposed</span>
     <li><span class="dfn-paneled" id="term-for-idl-Float32Array" style="color:initial">Float32Array</span>
     <li><span class="dfn-paneled" id="term-for-invalidstateerror" style="color:initial">InvalidStateError</span>
     <li><span class="dfn-paneled" id="term-for-notsupportederror" style="color:initial">NotSupportedError</span>
     <li><span class="dfn-paneled" id="term-for-operationerror" style="color:initial">OperationError</span>
     <li><span class="dfn-paneled" id="term-for-SameObject" style="color:initial">SameObject</span>
     <li><span class="dfn-paneled" id="term-for-SecureContext" style="color:initial">SecureContext</span>
     <li><span class="dfn-paneled" id="term-for-securityerror" style="color:initial">SecurityError</span>
     <li><span class="dfn-paneled" id="term-for-exceptiondef-typeerror" style="color:initial">TypeError</span>
     <li><span class="dfn-paneled" id="term-for-idl-boolean" style="color:initial">boolean</span>
     <li><span class="dfn-paneled" id="term-for-idl-double" style="color:initial">double</span>
     <li><span class="dfn-paneled" id="term-for-es-invoking-callback-functions" style="color:initial">invoke the web idl callback function</span>
     <li><span class="dfn-paneled" id="term-for-idl-long" style="color:initial">long</span>
     <li><span class="dfn-paneled" id="term-for-idl-unsigned-long" style="color:initial">unsigned long</span>
    </ul>
  </ul>
  <h2 class="no-num no-ref heading settled" id="references"><span class="content">References</span><a class="self-link" href="#references"></a></h2>
  <h3 class="no-num no-ref heading settled" id="normative"><span class="content">Normative References</span><a class="self-link" href="#normative"></a></h3>
  <dl>
   <dt id="biblio-dom">[DOM]
   <dd>Anne van Kesteren. <a href="https://dom.spec.whatwg.org/">DOM Standard</a>. Living Standard. URL: <a href="https://dom.spec.whatwg.org/">https://dom.spec.whatwg.org/</a>
   <dt id="biblio-feature-policy">[FEATURE-POLICY]
   <dd><a href="https://wicg.github.io/feature-policy/">Feature Policy</a>. Living Standard. URL: <a href="https://wicg.github.io/feature-policy/">https://wicg.github.io/feature-policy/</a>
   <dt id="biblio-geometry-1">[GEOMETRY-1]
   <dd>Simon Pieters; Chris Harrelson. <a href="https://www.w3.org/TR/geometry-1/">Geometry Interfaces Module Level 1</a>. 4 December 2018. CR. URL: <a href="https://www.w3.org/TR/geometry-1/">https://www.w3.org/TR/geometry-1/</a>
   <dt id="biblio-html">[HTML]
   <dd>Anne van Kesteren; et al. <a href="https://html.spec.whatwg.org/multipage/">HTML Standard</a>. Living Standard. URL: <a href="https://html.spec.whatwg.org/multipage/">https://html.spec.whatwg.org/multipage/</a>
   <dt id="biblio-promises-guide">[PROMISES-GUIDE]
   <dd>Domenic Denicola. <a href="https://www.w3.org/2001/tag/doc/promises-guide">Writing Promise-Using Specifications</a>. 16 February 2016. TAG Finding. URL: <a href="https://www.w3.org/2001/tag/doc/promises-guide">https://www.w3.org/2001/tag/doc/promises-guide</a>
   <dt id="biblio-webidl">[WebIDL]
   <dd>Cameron McCormack; Boris Zbarsky; Tobie Langel. <a href="https://heycam.github.io/webidl/">Web IDL</a>. 15 December 2016. ED. URL: <a href="https://heycam.github.io/webidl/">https://heycam.github.io/webidl/</a>
  </dl>
  <h3 class="no-num no-ref heading settled" id="informative"><span class="content">Informative References</span><a class="self-link" href="#informative"></a></h3>
  <dl>
   <dt id="biblio-orientation-sensor">[ORIENTATION-SENSOR]
   <dd>Mikhail Pozdnyakov; et al. <a href="https://www.w3.org/TR/orientation-sensor/">Orientation Sensor</a>. 20 March 2018. CR. URL: <a href="https://www.w3.org/TR/orientation-sensor/">https://www.w3.org/TR/orientation-sensor/</a>
  </dl>
  <h2 class="no-num no-ref heading settled" id="idl-index"><span class="content">IDL Index</span><a class="self-link" href="#idl-index"></a></h2>
<pre class="idl highlight def">[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②④"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②②"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xr"><code><c- g>XR</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget③"><c- n>EventTarget</c-></a> {
  // Methods
  <c- b>Promise</c->&lt;<c- b>void</c->> <a class="idl-code" data-link-type="method" href="#dom-xr-supportssessionmode" id="ref-for-dom-xr-supportssessionmode①①"><c- g>supportsSessionMode</c-></a>(<a class="n" data-link-type="idl-name" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode⑤"><c- n>XRSessionMode</c-></a> <a href="#dom-xr-supportssessionmode-mode-mode"><code><c- g>mode</c-></code></a>);
  <c- b>Promise</c->&lt;<a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession③①⓪"><c- n>XRSession</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xr-requestsession" id="ref-for-dom-xr-requestsession①①"><c- g>requestSession</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-xrsessioncreationoptions" id="ref-for-dictdef-xrsessioncreationoptions③"><c- n>XRSessionCreationOptions</c-></a> <a href="#dom-xr-requestsession-parameters-parameters"><code><c- g>parameters</c-></code></a>);

  // Events
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑨"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xr-ondevicechange" id="ref-for-dom-xr-ondevicechange①"><c- g>ondevicechange</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①①⓪"><c- g>SecureContext</c-></a>]
<c- b>partial</c-> <c- b>interface</c-> <a class="idl-code" data-link-type="interface" href="https://html.spec.whatwg.org/multipage/system-state.html#navigator" id="ref-for-navigator②"><c- g>Navigator</c-></a> {
  [<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SameObject" id="ref-for-SameObject①"><c- g>SameObject</c-></a>] <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xr" id="ref-for-xr⑥"><c- n>XR</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XR" href="#dom-navigator-xr" id="ref-for-dom-navigator-xr②"><c- g>xr</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-xrenvironmentblendmode"><code><c- g>XREnvironmentBlendMode</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrenvironmentblendmode-opaque" id="ref-for-dom-xrenvironmentblendmode-opaque④"><c- s>"opaque"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrenvironmentblendmode-additive" id="ref-for-dom-xrenvironmentblendmode-additive③"><c- s>"additive"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrenvironmentblendmode-alpha-blend" id="ref-for-dom-xrenvironmentblendmode-alpha-blend②"><c- s>"alpha-blend"</c-></a>,
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②③"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①①⓪"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrsession"><code><c- g>XRSession</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget①①"><c- n>EventTarget</c-></a> {
  // Attributes
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode②①"><c- n>XRSessionMode</c-></a> <a data-readonly data-type="XRSessionMode" href="#dom-xrsession-mode"><code><c- g>mode</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrpresentationcontext" id="ref-for-xrpresentationcontext④"><c- n>XRPresentationContext</c-></a>? <a data-readonly data-type="XRPresentationContext?" href="#dom-xrsession-outputcontext"><code><c- g>outputContext</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrenvironmentblendmode" id="ref-for-enumdef-xrenvironmentblendmode①"><c- n>XREnvironmentBlendMode</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XREnvironmentBlendMode" href="#dom-xrsession-environmentblendmode" id="ref-for-dom-xrsession-environmentblendmode③"><c- g>environmentBlendMode</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrenderstate" id="ref-for-xrrenderstate⑤"><c- n>XRRenderState</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRenderState" href="#dom-xrsession-renderstate" id="ref-for-dom-xrsession-renderstate①"><c- g>renderState</c-></a>;

  // Methods
  <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-xrsession-updaterenderstate" id="ref-for-dom-xrsession-updaterenderstate①"><c- g>updateRenderState</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-xrrenderstateinit" id="ref-for-dictdef-xrrenderstateinit①"><c- n>XRRenderStateInit</c-></a> <a href="#dom-xrsession-updaterenderstate-state-state"><code><c- g>state</c-></code></a>);
  <c- b>Promise</c->&lt;<a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace②④"><c- n>XRReferenceSpace</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requestreferencespace" id="ref-for-dom-xrsession-requestreferencespace④"><c- g>requestReferenceSpace</c-></a>(<a class="n" data-link-type="idl-name" href="#dictdef-xrreferencespaceoptions" id="ref-for-dictdef-xrreferencespaceoptions④"><c- n>XRReferenceSpaceOptions</c-></a> <a href="#dom-xrsession-requestreferencespace-options-options"><code><c- g>options</c-></code></a>);

  <c- b>FrozenArray</c->&lt;<a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource①④"><c- n>XRInputSource</c-></a>> <a class="idl-code" data-link-type="method" href="#dom-xrsession-getinputsources" id="ref-for-dom-xrsession-getinputsources①"><c- g>getInputSources</c-></a>();

  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long⑥"><c- b>long</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrsession-requestanimationframe" id="ref-for-dom-xrsession-requestanimationframe⑥"><c- g>requestAnimationFrame</c-></a>(<a class="n" data-link-type="idl-name" href="#callbackdef-xrframerequestcallback" id="ref-for-callbackdef-xrframerequestcallback③"><c- n>XRFrameRequestCallback</c-></a> <a href="#dom-xrsession-requestanimationframe-callback-callback"><code><c- g>callback</c-></code></a>);
  <c- b>void</c-> <a class="idl-code" data-link-type="method" href="#dom-xrsession-cancelanimationframe" id="ref-for-dom-xrsession-cancelanimationframe①"><c- g>cancelAnimationFrame</c-></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long①①"><c- b>long</c-></a> <a href="#dom-xrsession-cancelanimationframe-handle-handle"><code><c- g>handle</c-></code></a>);

  <c- b>Promise</c->&lt;<c- b>void</c->> <a class="idl-code" data-link-type="method" href="#dom-xrsession-end" id="ref-for-dom-xrsession-end①"><c- g>end</c-></a>();

  // Events
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler①①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onblur" id="ref-for-dom-xrsession-onblur①"><c- g>onblur</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler②①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onfocus" id="ref-for-dom-xrsession-onfocus①"><c- g>onfocus</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler③①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onend" id="ref-for-dom-xrsession-onend①"><c- g>onend</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler④①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onselect" id="ref-for-dom-xrsession-onselect①"><c- g>onselect</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑤①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-oninputsourceschange" id="ref-for-dom-xrsession-oninputsourceschange①"><c- g>oninputsourceschange</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑥①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onselectstart" id="ref-for-dom-xrsession-onselectstart①"><c- g>onselectstart</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑦①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrsession-onselectend" id="ref-for-dom-xrsession-onselectend①"><c- g>onselectend</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-xrsessionmode"><code><c- g>XRSessionMode</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrsessionmode-inline" id="ref-for-dom-xrsessionmode-inline①①"><c- s>"inline"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrsessionmode-immersive-vr" id="ref-for-dom-xrsessionmode-immersive-vr③①"><c- s>"immersive-vr"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrsessionmode-immersive-ar" id="ref-for-dom-xrsessionmode-immersive-ar①①"><c- s>"immersive-ar"</c-></a>
};

<c- b>dictionary</c-> <a href="#dictdef-xrsessioncreationoptions"><code><c- g>XRSessionCreationOptions</c-></code></a> {
  <a class="n" data-link-type="idl-name" href="#enumdef-xrsessionmode" id="ref-for-enumdef-xrsessionmode④①"><c- n>XRSessionMode</c-></a> <a data-default="&quot;inline&quot;" data-type="XRSessionMode " href="#dom-xrsessioncreationoptions-mode"><code><c- g>mode</c-></code></a> = "inline";
  <a class="n" data-link-type="idl-name" href="#xrpresentationcontext" id="ref-for-xrpresentationcontext①①"><c- n>XRPresentationContext</c-></a>? <a data-default="null" data-type="XRPresentationContext? " href="#dom-xrsessioncreationoptions-outputcontext"><code><c- g>outputContext</c-></code></a> = <c- b>null</c->;
};

<c- b>dictionary</c-> <a href="#dictdef-xrrenderstateinit"><code><c- g>XRRenderStateInit</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑦"><c- b>double</c-></a> <a data-type="double " href="#dom-xrrenderstateinit-depthnear"><code><c- g>depthNear</c-></code></a>;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double①①"><c- b>double</c-></a> <a data-type="double " href="#dom-xrrenderstateinit-depthfar"><code><c- g>depthFar</c-></code></a>;
  <a class="n" data-link-type="idl-name" href="#xrlayer" id="ref-for-xrlayer④"><c- n>XRLayer</c-></a>? <a data-type="XRLayer? " href="#dom-xrrenderstateinit-baselayer"><code><c- g>baseLayer</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext③①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②③"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrrenderstate"><code><c- g>XRRenderState</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double②①"><c- b>double</c-></a> <a data-readonly data-type="double" href="#dom-xrrenderstate-depthnear"><code><c- g>depthNear</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double③①"><c- b>double</c-></a> <a data-readonly data-type="double" href="#dom-xrrenderstate-depthfar"><code><c- g>depthFar</c-></code></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrlayer" id="ref-for-xrlayer①①"><c- n>XRLayer</c-></a>? <a data-readonly data-type="XRLayer?" href="#dom-xrrenderstate-baselayer"><code><c- g>baseLayer</c-></code></a>;
};

<c- b>callback</c-> <a href="#callbackdef-xrframerequestcallback"><code><c- g>XRFrameRequestCallback</c-></code></a> = <c- b>void</c-> (<a class="n" data-link-type="idl-name" href="https://www.w3.org/TR/hr-time/#dom-domhighrestimestamp" id="ref-for-dom-domhighrestimestamp①"><c- n>DOMHighResTimeStamp</c-></a> <a href="#dom-xrframerequestcallback-time"><code><c- g>time</c-></code></a>, <a class="n" data-link-type="idl-name" href="#xrframe" id="ref-for-xrframe①⑥"><c- n>XRFrame</c-></a> <a href="#dom-xrframerequestcallback-frame"><code><c- g>frame</c-></code></a>);

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext④①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed③①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrframe"><code><c- g>XRFrame</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession③③①"><c- n>XRSession</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRSession" href="#dom-xrframe-session" id="ref-for-dom-xrframe-session③"><c- g>session</c-></a>;

  <a class="n" data-link-type="idl-name" href="#xrviewerpose" id="ref-for-xrviewerpose⑧"><c- n>XRViewerPose</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrframe-getviewerpose" id="ref-for-dom-xrframe-getviewerpose①"><c- g>getViewerPose</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①①⓪"><c- n>XRReferenceSpace</c-></a> <a href="#dom-xrframe-getviewerpose-referencespace-referencespace"><code><c- g>referenceSpace</c-></code></a>);
  <a class="n" data-link-type="idl-name" href="#xrinputpose" id="ref-for-xrinputpose②"><c- n>XRInputPose</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrframe-getinputpose" id="ref-for-dom-xrframe-getinputpose①"><c- g>getInputPose</c-></a>(<a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource①③"><c- n>XRInputSource</c-></a> <a href="#dom-xrframe-getinputpose-inputsource-referencespace-inputsource"><code><c- g>inputSource</c-></code></a>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace②③"><c- n>XRReferenceSpace</c-></a> <a href="#dom-xrframe-getinputpose-inputsource-referencespace-referencespace"><code><c- g>referenceSpace</c-></code></a>);
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑤①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed④①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrspace"><code><c- g>XRSpace</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#eventtarget" id="ref-for-eventtarget②①"><c- n>EventTarget</c-></a> {
  <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①⑥"><c- n>XRRigidTransform</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrspace-gettransformto" id="ref-for-dom-xrspace-gettransformto①①"><c- g>getTransformTo</c-></a>(<a class="n" data-link-type="idl-name" href="#xrspace" id="ref-for-xrspace③①"><c- n>XRSpace</c-></a> <a href="#dom-xrspace-gettransformto-other-other"><code><c- g>other</c-></code></a>);
};

<c- b>enum</c-> <a href="#enumdef-xrreferencespacetype"><code><c- g>XRReferenceSpaceType</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrreferencespacetype-stationary" id="ref-for-dom-xrreferencespacetype-stationary⑤"><c- s>"stationary"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrreferencespacetype-bounded" id="ref-for-dom-xrreferencespacetype-bounded⑤"><c- s>"bounded"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrreferencespacetype-unbounded" id="ref-for-dom-xrreferencespacetype-unbounded④"><c- s>"unbounded"</c-></a>
};

<c- b>enum</c-> <a href="#enumdef-xrstationaryreferencespacesubtype"><code><c- g>XRStationaryReferenceSpaceSubtype</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrstationaryreferencespacesubtype-eye-level" id="ref-for-dom-xrstationaryreferencespacesubtype-eye-level①"><c- s>"eye-level"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrstationaryreferencespacesubtype-floor-level" id="ref-for-dom-xrstationaryreferencespacesubtype-floor-level①"><c- s>"floor-level"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrstationaryreferencespacesubtype-position-disabled" id="ref-for-dom-xrstationaryreferencespacesubtype-position-disabled②"><c- s>"position-disabled"</c-></a>
};

<c- b>dictionary</c-> <a href="#dictdef-xrreferencespaceoptions"><code><c- g>XRReferenceSpaceOptions</c-></code></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrreferencespacetype" id="ref-for-enumdef-xrreferencespacetype①"><c- n>XRReferenceSpaceType</c-></a> <a data-type="XRReferenceSpaceType " href="#dom-xrreferencespaceoptions-type"><code><c- g>type</c-></code></a>;
  <a class="n" data-link-type="idl-name" href="#enumdef-xrstationaryreferencespacesubtype" id="ref-for-enumdef-xrstationaryreferencespacesubtype③"><c- n>XRStationaryReferenceSpaceSubtype</c-></a> <a data-type="XRStationaryReferenceSpaceSubtype " href="#dom-xrreferencespaceoptions-subtype"><code><c- g>subtype</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑥①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑤①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrreferencespace"><code><c- g>XRReferenceSpace</c-></code></a> : <a class="n" data-link-type="idl-name" href="#xrspace" id="ref-for-xrspace⑦①"><c- n>XRSpace</c-></a> {
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform②①"><c- n>XRRigidTransform</c-></a> <a class="idl-code" data-link-type="attribute" data-type="XRRigidTransform" href="#dom-xrreferencespace-originoffset" id="ref-for-dom-xrreferencespace-originoffset③"><c- g>originOffset</c-></a>;
  <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/webappapis.html#eventhandler" id="ref-for-eventhandler⑧①"><c- n>EventHandler</c-></a> <a class="idl-code" data-link-type="attribute" data-type="EventHandler" href="#dom-xrreferencespace-onreset" id="ref-for-dom-xrreferencespace-onreset①"><c- g>onreset</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑦①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑥①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrstationaryreferencespace"><code><c- g>XRStationaryReferenceSpace</c-></code></a> : <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①①①"><c- n>XRReferenceSpace</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrstationaryreferencespacesubtype" id="ref-for-enumdef-xrstationaryreferencespacesubtype①①"><c- n>XRStationaryReferenceSpaceSubtype</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRStationaryReferenceSpaceSubtype" href="#dom-xrstationaryreferencespace-subtype" id="ref-for-dom-xrstationaryreferencespace-subtype①①"><c- g>subtype</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑧①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑦①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrboundedreferencespace"><code><c- g>XRBoundedReferenceSpace</c-></code></a> : <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①②①"><c- n>XRReferenceSpace</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>FrozenArray</c->&lt;<a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly⑥"><c- n>DOMPointReadOnly</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<DOMPointReadOnly>" href="#dom-xrboundedreferencespace-boundsgeometry" id="ref-for-dom-xrboundedreferencespace-boundsgeometry④"><c- g>boundsGeometry</c-></a>;
};    

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext⑨①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑧①"><c- g>Exposed</c-></a>=<c- n>Window</c->] 
<c- b>interface</c-> <a href="#xrunboundedreferencespace"><code><c- g>XRUnboundedReferenceSpace</c-></code></a> : <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①④①"><c- n>XRReferenceSpace</c-></a> {
};  

<c- b>enum</c-> <a href="#enumdef-xreye"><code><c- g>XREye</c-></code></a> {
  <a href="#dom-xreye-left"><code><c- s>"left"</c-></code></a>,
  <a href="#dom-xreye-right"><code><c- s>"right"</c-></code></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⓪①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed⑨①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrview"><code><c- g>XRView</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xreye" id="ref-for-enumdef-xreye①"><c- n>XREye</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XREye" href="#dom-xrview-eye" id="ref-for-dom-xrview-eye①"><c- g>eye</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array⑤"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrview-projectionmatrix" id="ref-for-dom-xrview-projectionmatrix①"><c- g>projectionMatrix</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array①①"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrview-viewmatrix" id="ref-for-dom-xrview-viewmatrix②"><c- g>viewMatrix</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform④①"><c- n>XRRigidTransform</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform" href="#dom-xrview-transform" id="ref-for-dom-xrview-transform③"><c- g>transform</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①①①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⓪①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrviewport"><code><c- g>XRViewport</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long②①"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-x" id="ref-for-dom-xrviewport-x④"><c- g>x</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long③①"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-y" id="ref-for-dom-xrviewport-y④"><c- g>y</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long④①"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-width" id="ref-for-dom-xrviewport-width③"><c- g>width</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-long" id="ref-for-idl-long⑤①"><c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="long" href="#dom-xrviewport-height" id="ref-for-dom-xrviewport-height③"><c- g>height</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①②①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①①①"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="constructor" href="#dom-xrrigidtransform-xrrigidtransform" id="ref-for-dom-xrrigidtransform-xrrigidtransform①"><c- g>Constructor</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit⑧"><c- n>DOMPointInit</c-></a> <a href="#dom-xrrigidtransform-xrrigidtransform-position-orientation-position"><code><c- g>position</c-></code></a>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit①①"><c- n>DOMPointInit</c-></a> <a href="#dom-xrrigidtransform-xrrigidtransform-position-orientation-orientation"><code><c- g>orientation</c-></code></a>)]
<c- b>interface</c-> <a href="#xrrigidtransform"><code><c- g>XRRigidTransform</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly②①"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrrigidtransform-position" id="ref-for-dom-xrrigidtransform-position②①"><c- g>position</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly③①"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrrigidtransform-orientation" id="ref-for-dom-xrrigidtransform-orientation②①"><c- g>orientation</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array③①"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrrigidtransform-matrix" id="ref-for-dom-xrrigidtransform-matrix①①"><c- g>matrix</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①③①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①②①"><c- g>Exposed</c-></a>=<c- n>Window</c->,
 <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray" id="ref-for-dom-xrray-xrray①"><c- g>Constructor</c-></a>(<c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit④①"><c- n>DOMPointInit</c-></a> <a href="#dom-xrray-xrray-origin-direction-origin"><code><c- g>origin</c-></code></a>, <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dictdef-dompointinit" id="ref-for-dictdef-dompointinit⑤①"><c- n>DOMPointInit</c-></a> <a href="#dom-xrray-xrray-origin-direction-direction"><code><c- g>direction</c-></code></a>),
 <a class="idl-code" data-link-type="constructor" href="#dom-xrray-xrray-transform" id="ref-for-dom-xrray-xrray-transform①"><c- g>Constructor</c-></a>(<a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①⓪①"><c- n>XRRigidTransform</c-></a> <a href="#dom-xrray-xrray-transform-transform"><code><c- g>transform</c-></code></a>)]
<c- b>interface</c-> <a href="#xrray"><code><c- g>XRRay</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly④①"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-origin" id="ref-for-dom-xrray-origin①①"><c- g>origin</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://drafts.fxtf.org/geometry-1/#dompointreadonly" id="ref-for-dompointreadonly⑤①"><c- n>DOMPointReadOnly</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="DOMPointReadOnly" href="#dom-xrray-direction" id="ref-for-dom-xrray-direction①①"><c- g>direction</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-Float32Array" id="ref-for-idl-Float32Array④①"><c- b>Float32Array</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="Float32Array" href="#dom-xrray-matrix" id="ref-for-dom-xrray-matrix②"><c- g>matrix</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①④①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①③①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrviewerpose"><code><c- g>XRViewerPose</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①①①"><c- n>XRRigidTransform</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform" href="#dom-xrviewerpose-transform" id="ref-for-dom-xrviewerpose-transform②"><c- g>transform</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <c- b>FrozenArray</c->&lt;<a class="n" data-link-type="idl-name" href="#xrview" id="ref-for-xrview②①"><c- n>XRView</c-></a>> <a class="idl-code" data-link-type="attribute" data-readonly data-type="FrozenArray<XRView>" href="#dom-xrviewerpose-views" id="ref-for-dom-xrviewerpose-views②"><c- g>views</c-></a>;
};

<c- b>enum</c-> <a href="#enumdef-xrhandedness"><code><c- g>XRHandedness</c-></code></a> {
  <a href="#dom-xrhandedness"><code><c- s>""</c-></code></a>,
  <a href="#dom-xrhandedness-left"><code><c- s>"left"</c-></code></a>,
  <a href="#dom-xrhandedness-right"><code><c- s>"right"</c-></code></a>
};

<c- b>enum</c-> <a href="#enumdef-xrtargetraymode"><code><c- g>XRTargetRayMode</c-></code></a> {
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrtargetraymode-gaze" id="ref-for-dom-xrtargetraymode-gaze①"><c- s>"gaze"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrtargetraymode-tracked-pointer" id="ref-for-dom-xrtargetraymode-tracked-pointer①"><c- s>"tracked-pointer"</c-></a>,
  <a class="idl-code" data-link-type="enum-value" href="#dom-xrtargetraymode-screen" id="ref-for-dom-xrtargetraymode-screen②"><c- s>"screen"</c-></a>
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑤①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①④①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrinputsource"><code><c- g>XRInputSource</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrhandedness" id="ref-for-enumdef-xrhandedness①"><c- n>XRHandedness</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRHandedness" href="#dom-xrinputsource-handedness" id="ref-for-dom-xrinputsource-handedness①"><c- g>handedness</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#enumdef-xrtargetraymode" id="ref-for-enumdef-xrtargetraymode①"><c- n>XRTargetRayMode</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRTargetRayMode" href="#dom-xrinputsource-targetraymode" id="ref-for-dom-xrinputsource-targetraymode③"><c- g>targetRayMode</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑥①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑤①"><c- g>Exposed</c-></a>=<c- n>Window</c->]
<c- b>interface</c-> <a href="#xrinputpose"><code><c- g>XRInputPose</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①⓪"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrinputpose-emulatedposition" id="ref-for-dom-xrinputpose-emulatedposition③"><c- g>emulatedPosition</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrray" id="ref-for-xrray⑤①"><c- n>XRRay</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRay" href="#dom-xrinputpose-targetray" id="ref-for-dom-xrinputpose-targetray②"><c- g>targetRay</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①③①"><c- n>XRRigidTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform?" href="#dom-xrinputpose-griptransform" id="ref-for-dom-xrinputpose-griptransform④"><c- g>gripTransform</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑦①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑥①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrlayer"><code><c- g>XRLayer</c-></code></a> {};

<c- b>typedef</c-> (<a class="n" data-link-type="idl-name" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContext" id="ref-for-WebGLRenderingContext②"><c- n>WebGLRenderingContext</c-></a> <c- b>or</c->
         <a class="n" data-link-type="idl-name" href="https://www.khronos.org/registry/webgl/specs/latest/2.0/#WebGL2RenderingContext" id="ref-for-WebGL2RenderingContext①"><c- n>WebGL2RenderingContext</c-></a>) <a href="#typedefdef-xrwebglrenderingcontext"><code><c- g>XRWebGLRenderingContext</c-></code></a>;

<c- b>dictionary</c-> <a href="#dictdef-xrwebgllayerinit"><code><c- g>XRWebGLLayerInit</c-></code></a> {
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean①①"><c- b>boolean</c-></a> <a data-default="true" data-type="boolean " href="#dom-xrwebgllayerinit-antialias"><code><c- g>antialias</c-></code></a> = <c- b>true</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean②①"><c- b>boolean</c-></a> <a data-default="true" data-type="boolean " href="#dom-xrwebgllayerinit-depth"><code><c- g>depth</c-></code></a> = <c- b>true</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean③①"><c- b>boolean</c-></a> <a data-default="false" data-type="boolean " href="#dom-xrwebgllayerinit-stencil"><code><c- g>stencil</c-></code></a> = <c- b>false</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean④①"><c- b>boolean</c-></a> <a data-default="true" data-type="boolean " href="#dom-xrwebgllayerinit-alpha"><code><c- g>alpha</c-></code></a> = <c- b>true</c->;
  <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double④①"><c- b>double</c-></a> <a data-default="1.0" data-type="double " href="#dom-xrwebgllayerinit-framebufferscalefactor"><code><c- g>framebufferScaleFactor</c-></code></a> = 1.0;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑧①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑦①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a class="idl-code" data-link-type="constructor" href="#dom-xrwebgllayer-xrwebgllayer" id="ref-for-dom-xrwebgllayer-xrwebgllayer①"><c- g>Constructor</c-></a>(<a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession④①①"><c- n>XRSession</c-></a> <a href="#dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-session"><code><c- g>session</c-></code></a>,
             <a class="n" data-link-type="idl-name" href="#typedefdef-xrwebglrenderingcontext" id="ref-for-typedefdef-xrwebglrenderingcontext②"><c- n>XRWebGLRenderingContext</c-></a> <a href="#dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-context"><code><c- g>context</c-></code></a>,
             <c- b>optional</c-> <a class="n" data-link-type="idl-name" href="#dictdef-xrwebgllayerinit" id="ref-for-dictdef-xrwebgllayerinit①"><c- n>XRWebGLLayerInit</c-></a> <a href="#dom-xrwebgllayer-xrwebgllayer-session-context-layerinit-layerinit"><code><c- g>layerInit</c-></code></a>)]
<c- b>interface</c-> <a href="#xrwebgllayer"><code><c- g>XRWebGLLayer</c-></code></a> : <a class="n" data-link-type="idl-name" href="#xrlayer" id="ref-for-xrlayer③①"><c- n>XRLayer</c-></a> {
  // Attributes
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#typedefdef-xrwebglrenderingcontext" id="ref-for-typedefdef-xrwebglrenderingcontext①①"><c- n>XRWebGLRenderingContext</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRWebGLRenderingContext" href="#dom-xrwebgllayer-context" id="ref-for-dom-xrwebgllayer-context③"><c- g>context</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑤①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-antialias" id="ref-for-dom-xrwebgllayer-antialias②"><c- g>antialias</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑥①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-depth" id="ref-for-dom-xrwebgllayer-depth②"><c- g>depth</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑦①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-stencil" id="ref-for-dom-xrwebgllayer-stencil②"><c- g>stencil</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑧①"><c- b>boolean</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="boolean" href="#dom-xrwebgllayer-alpha" id="ref-for-dom-xrwebgllayer-alpha②"><c- g>alpha</c-></a>;

  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLFramebuffer" id="ref-for-WebGLFramebuffer③"><c- n>WebGLFramebuffer</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="WebGLFramebuffer" href="#dom-xrwebgllayer-framebuffer" id="ref-for-dom-xrwebgllayer-framebuffer⑧"><c- g>framebuffer</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long②"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long" href="#dom-xrwebgllayer-framebufferwidth" id="ref-for-dom-xrwebgllayer-framebufferwidth①"><c- g>framebufferWidth</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-unsigned-long" id="ref-for-idl-unsigned-long①①"><c- b>unsigned</c-> <c- b>long</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="unsigned long" href="#dom-xrwebgllayer-framebufferheight" id="ref-for-dom-xrwebgllayer-framebufferheight①"><c- g>framebufferHeight</c-></a>;

  // Methods
  <a class="n" data-link-type="idl-name" href="#xrviewport" id="ref-for-xrviewport③①"><c- n>XRViewport</c-></a>? <a class="idl-code" data-link-type="method" href="#dom-xrwebgllayer-getviewport" id="ref-for-dom-xrwebgllayer-getviewport②"><c- g>getViewport</c-></a>(<a class="n" data-link-type="idl-name" href="#xrview" id="ref-for-xrview⑤①"><c- n>XRView</c-></a> <a href="#dom-xrwebgllayer-getviewport-view-view"><code><c- g>view</c-></code></a>);
  <c- b>void</c-> <a href="#dom-xrwebgllayer-requestviewportscaling"><code><c- g>requestViewportScaling</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑤①"><c- b>double</c-></a> <a href="#dom-xrwebgllayer-requestviewportscaling-viewportscalefactor-viewportscalefactor"><code><c- g>viewportScaleFactor</c-></code></a>);

  // Static Methods
  <c- b>static</c-> <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-double" id="ref-for-idl-double⑥①"><c- b>double</c-></a> <a class="idl-code" data-link-type="method" href="#dom-xrwebgllayer-getnativeframebufferscalefactor" id="ref-for-dom-xrwebgllayer-getnativeframebufferscalefactor①"><c- g>getNativeFramebufferScaleFactor</c-></a>(<a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession④②①"><c- n>XRSession</c-></a> <a href="#dom-xrwebgllayer-getnativeframebufferscalefactor-session-session"><code><c- g>session</c-></code></a>);
};

<c- b>partial</c-> <c- b>dictionary</c-> <a class="idl-code" data-link-type="dictionary" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLContextAttributes" id="ref-for-WebGLContextAttributes②"><c- g>WebGLContextAttributes</c-></a> {
    <a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-boolean" id="ref-for-idl-boolean⑨①"><c- b>boolean</c-></a> <a data-default="null" data-type="boolean " href="#dom-webglcontextattributes-xrcompatible"><code><c- g>xrCompatible</c-></code></a> = <c- b>null</c->;
};

<c- b>partial</c-> <c- b>interface</c-> <c- b>mixin</c-> <a class="idl-code" data-link-type="interface" href="https://www.khronos.org/registry/webgl/specs/latest/1.0/#WebGLRenderingContextBase" id="ref-for-WebGLRenderingContextBase④①"><c- g>WebGLRenderingContextBase</c-></a> {
    <c- b>Promise</c->&lt;<c- b>void</c->> <a class="idl-code" data-link-type="method" href="#dom-webglrenderingcontextbase-makexrcompatible" id="ref-for-dom-webglrenderingcontextbase-makexrcompatible②"><c- g>makeXRCompatible</c-></a>();
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext①⑨①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑧①"><c- g>Exposed</c-></a>=<c- n>Window</c->] <c- b>interface</c-> <a href="#xrpresentationcontext"><code><c- g>XRPresentationContext</c-></code></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="https://html.spec.whatwg.org/multipage/canvas.html#htmlcanvaselement" id="ref-for-htmlcanvaselement①①"><c- n>HTMLCanvasElement</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="HTMLCanvasElement" href="#dom-xrpresentationcontext-canvas" id="ref-for-dom-xrpresentationcontext-canvas①①"><c- g>canvas</c-></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②⓪①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed①⑨①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a href="#dom-xrsessionevent-xrsessionevent"><code><c- g>Constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString③"><c- b>DOMString</c-></a> <a href="#dom-xrsessionevent-xrsessionevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a class="n" data-link-type="idl-name" href="#dictdef-xrsessioneventinit" id="ref-for-dictdef-xrsessioneventinit①"><c- n>XRSessionEventInit</c-></a> <a href="#dom-xrsessionevent-xrsessionevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>)]
<c- b>interface</c-> <a href="#xrsessionevent"><code><c- g>XRSessionEvent</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event④"><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession⑤①①"><c- n>XRSession</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRSession" href="#dom-xrsessionevent-session" id="ref-for-dom-xrsessionevent-session①"><c- g>session</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-xrsessioneventinit"><code><c- g>XRSessionEventInit</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit③"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrsession" id="ref-for-xrsession⑤②①"><c- n>XRSession</c-></a> <a data-type="XRSession " href="#dom-xrsessioneventinit-session"><code><c- g>session</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②①①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②⓪①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a href="#dom-xrinputsourceevent-xrinputsourceevent"><code><c- g>Constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString①①"><c- b>DOMString</c-></a> <a href="#dom-xrinputsourceevent-xrinputsourceevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a class="n" data-link-type="idl-name" href="#dictdef-xrinputsourceeventinit" id="ref-for-dictdef-xrinputsourceeventinit①"><c- n>XRInputSourceEventInit</c-></a> <a href="#dom-xrinputsourceevent-xrinputsourceevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>)]
<c- b>interface</c-> <a href="#xrinputsourceevent"><code><c- g>XRInputSourceEvent</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event①①"><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrframe" id="ref-for-xrframe①③①"><c- n>XRFrame</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRFrame" href="#dom-xrinputsourceevent-frame" id="ref-for-dom-xrinputsourceevent-frame③"><c- g>frame</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource⑥①"><c- n>XRInputSource</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRInputSource" href="#dom-xrinputsourceevent-inputsource" id="ref-for-dom-xrinputsourceevent-inputsource①"><c- g>inputSource</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-xrinputsourceeventinit"><code><c- g>XRInputSourceEventInit</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit①①"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrframe" id="ref-for-xrframe①④①"><c- n>XRFrame</c-></a> <a data-type="XRFrame " href="#dom-xrinputsourceeventinit-frame"><code><c- g>frame</c-></code></a>;
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrinputsource" id="ref-for-xrinputsource⑦①"><c- n>XRInputSource</c-></a> <a data-type="XRInputSource " href="#dom-xrinputsourceeventinit-inputsource"><code><c- g>inputSource</c-></code></a>;
};

[<a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#SecureContext" id="ref-for-SecureContext②②①"><c- g>SecureContext</c-></a>, <a class="idl-code" data-link-type="extended-attribute" href="https://heycam.github.io/webidl/#Exposed" id="ref-for-Exposed②①①"><c- g>Exposed</c-></a>=<c- n>Window</c->, <a href="#dom-xrreferencespaceevent-xrreferencespaceevent"><code><c- g>Constructor</c-></code></a>(<a class="idl-code" data-link-type="interface" href="https://heycam.github.io/webidl/#idl-DOMString" id="ref-for-idl-DOMString②①"><c- b>DOMString</c-></a> <a href="#dom-xrreferencespaceevent-xrreferencespaceevent-type-eventinitdict-type"><code><c- g>type</c-></code></a>, <a class="n" data-link-type="idl-name" href="#dictdef-xrreferencespaceeventinit" id="ref-for-dictdef-xrreferencespaceeventinit①"><c- n>XRReferenceSpaceEventInit</c-></a> <a href="#dom-xrreferencespaceevent-xrreferencespaceevent-type-eventinitdict-eventinitdict"><code><c- g>eventInitDict</c-></code></a>)]
<c- b>interface</c-> <a href="#xrreferencespaceevent"><code><c- g>XRReferenceSpaceEvent</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#event" id="ref-for-event②①"><c- n>Event</c-></a> {
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace①⑨①"><c- n>XRReferenceSpace</c-></a> <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRReferenceSpace" href="#dom-xrreferencespaceevent-referencespace" id="ref-for-dom-xrreferencespaceevent-referencespace②"><c- g>referenceSpace</c-></a>;
  <c- b>readonly</c-> <c- b>attribute</c-> <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①④①"><c- n>XRRigidTransform</c-></a>? <a class="idl-code" data-link-type="attribute" data-readonly data-type="XRRigidTransform?" href="#dom-xrreferencespaceevent-transform" id="ref-for-dom-xrreferencespaceevent-transform①"><c- g>transform</c-></a>;
};

<c- b>dictionary</c-> <a href="#dictdef-xrreferencespaceeventinit"><code><c- g>XRReferenceSpaceEventInit</c-></code></a> : <a class="n" data-link-type="idl-name" href="https://dom.spec.whatwg.org/#dictdef-eventinit" id="ref-for-dictdef-eventinit②①"><c- n>EventInit</c-></a> {
  <c- b>required</c-> <a class="n" data-link-type="idl-name" href="#xrreferencespace" id="ref-for-xrreferencespace②⓪①"><c- n>XRReferenceSpace</c-></a> <a data-type="XRReferenceSpace " href="#dom-xrreferencespaceeventinit-referencespace"><code><c- g>referenceSpace</c-></code></a>;
  <a class="n" data-link-type="idl-name" href="#xrrigidtransform" id="ref-for-xrrigidtransform①⑤①"><c- n>XRRigidTransform</c-></a> <a data-type="XRRigidTransform " href="#dom-xrreferencespaceeventinit-transform"><code><c- g>transform</c-></code></a>;
};

</pre>
  <aside class="dfn-panel" data-for="3dof">
   <b><a href="#3dof">#3dof</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-3dof">1.1. Terminology</a> <a href="#ref-for-3dof①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="6dof">
   <b><a href="#6dof">#6dof</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-6dof">1. Introduction</a>
    <li><a href="#ref-for-6dof①">1.1. Terminology</a>
    <li><a href="#ref-for-6dof②">5.3. XRStationaryReferenceSpace</a>
    <li><a href="#ref-for-6dof③">9.2. XRInputPose</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-navigator-xr">
   <b><a href="#dom-navigator-xr">#dom-navigator-xr</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-navigator-xr">2.1. XR</a>
    <li><a href="#ref-for-dom-navigator-xr①">14.1. Feature Policy</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xr">
   <b><a href="#xr">#xr</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xr">2.1. XR</a> <a href="#ref-for-xr①">(2)</a> <a href="#ref-for-xr②">(3)</a> <a href="#ref-for-xr③">(4)</a>
    <li><a href="#ref-for-xr④">3.1. XRSession</a>
    <li><a href="#ref-for-xr⑤">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-xr-devices">
   <b><a href="#list-of-xr-devices">#list-of-xr-devices</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-xr-devices">2.1. XR</a> <a href="#ref-for-list-of-xr-devices①">(2)</a> <a href="#ref-for-list-of-xr-devices②">(3)</a> <a href="#ref-for-list-of-xr-devices③">(4)</a> <a href="#ref-for-list-of-xr-devices④">(5)</a> <a href="#ref-for-list-of-xr-devices⑤">(6)</a> <a href="#ref-for-list-of-xr-devices⑥">(7)</a> <a href="#ref-for-list-of-xr-devices⑦">(8)</a> <a href="#ref-for-list-of-xr-devices⑧">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xr-device">
   <b><a href="#xr-device">#xr-device</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xr-device">1.2. Application flow</a>
    <li><a href="#ref-for-xr-device①">2.1. XR</a> <a href="#ref-for-xr-device②">(2)</a> <a href="#ref-for-xr-device③">(3)</a> <a href="#ref-for-xr-device④">(4)</a> <a href="#ref-for-xr-device⑤">(5)</a> <a href="#ref-for-xr-device⑥">(6)</a> <a href="#ref-for-xr-device⑦">(7)</a> <a href="#ref-for-xr-device⑧">(8)</a> <a href="#ref-for-xr-device⑨">(9)</a> <a href="#ref-for-xr-device①⓪">(10)</a> <a href="#ref-for-xr-device①①">(11)</a> <a href="#ref-for-xr-device①②">(12)</a> <a href="#ref-for-xr-device①③">(13)</a> <a href="#ref-for-xr-device①④">(14)</a>
    <li><a href="#ref-for-xr-device①⑤">3.1. XRSession</a>
    <li><a href="#ref-for-xr-device①⑥">3.2. XRSessionMode</a> <a href="#ref-for-xr-device①⑦">(2)</a> <a href="#ref-for-xr-device①⑧">(3)</a> <a href="#ref-for-xr-device①⑨">(4)</a> <a href="#ref-for-xr-device②⓪">(5)</a> <a href="#ref-for-xr-device②①">(6)</a>
    <li><a href="#ref-for-xr-device②②">3.5. Animation Frames</a> <a href="#ref-for-xr-device②③">(2)</a>
    <li><a href="#ref-for-xr-device②④">3.6. The XR Compositor</a>
    <li><a href="#ref-for-xr-device②⑤">5.1. XRSpace</a>
    <li><a href="#ref-for-xr-device②⑥">5.2. XRReferenceSpace</a> <a href="#ref-for-xr-device②⑦">(2)</a>
    <li><a href="#ref-for-xr-device②⑧">8.1. XRViewerPose</a> <a href="#ref-for-xr-device②⑨">(2)</a>
    <li><a href="#ref-for-xr-device③⓪">10.1. XRLayer</a>
    <li><a href="#ref-for-xr-device③①">10.2. XRWebGLLayer</a> <a href="#ref-for-xr-device③②">(2)</a> <a href="#ref-for-xr-device③③">(3)</a>
    <li><a href="#ref-for-xr-device③④">10.3. WebGL Context Compatibility</a> <a href="#ref-for-xr-device③⑤">(2)</a> <a href="#ref-for-xr-device③⑥">(3)</a> <a href="#ref-for-xr-device③⑦">(4)</a> <a href="#ref-for-xr-device③⑧">(5)</a> <a href="#ref-for-xr-device③⑨">(6)</a> <a href="#ref-for-xr-device④⓪">(7)</a> <a href="#ref-for-xr-device④①">(8)</a> <a href="#ref-for-xr-device④②">(9)</a>
    <li><a href="#ref-for-xr-device④③">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumerate-xr-devices">
   <b><a href="#enumerate-xr-devices">#enumerate-xr-devices</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumerate-xr-devices">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="select-an-xr-device">
   <b><a href="#select-an-xr-device">#select-an-xr-device</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-select-an-xr-device">2.1. XR</a> <a href="#ref-for-select-an-xr-device①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ensure-an-xr-device-is-selected">
   <b><a href="#ensure-an-xr-device-is-selected">#ensure-an-xr-device-is-selected</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ensure-an-xr-device-is-selected">2.1. XR</a> <a href="#ref-for-ensure-an-xr-device-is-selected①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xr-ondevicechange">
   <b><a href="#dom-xr-ondevicechange">#dom-xr-ondevicechange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xr-ondevicechange">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-supported-modes">
   <b><a href="#list-of-supported-modes">#list-of-supported-modes</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-supported-modes">2.1. XR</a> <a href="#ref-for-list-of-supported-modes①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xr-supportssessionmode">
   <b><a href="#dom-xr-supportssessionmode">#dom-xr-supportssessionmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xr-supportssessionmode">1.2. Application flow</a>
    <li><a href="#ref-for-dom-xr-supportssessionmode①">2.1. XR</a> <a href="#ref-for-dom-xr-supportssessionmode②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="pending-immersive-session">
   <b><a href="#pending-immersive-session">#pending-immersive-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-pending-immersive-session">2.1. XR</a> <a href="#ref-for-pending-immersive-session①">(2)</a> <a href="#ref-for-pending-immersive-session②">(3)</a> <a href="#ref-for-pending-immersive-session③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="active-immersive-session">
   <b><a href="#active-immersive-session">#active-immersive-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-active-immersive-session">2.1. XR</a> <a href="#ref-for-active-immersive-session①">(2)</a>
    <li><a href="#ref-for-active-immersive-session②">3.1. XRSession</a> <a href="#ref-for-active-immersive-session③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-inline-sessions">
   <b><a href="#list-of-inline-sessions">#list-of-inline-sessions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-inline-sessions">2.1. XR</a>
    <li><a href="#ref-for-list-of-inline-sessions①">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xr-requestsession">
   <b><a href="#dom-xr-requestsession">#dom-xr-requestsession</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xr-requestsession">1.2. Application flow</a>
    <li><a href="#ref-for-dom-xr-requestsession①">2.1. XR</a>
    <li><a href="#ref-for-dom-xr-requestsession②">3.1. XRSession</a> <a href="#ref-for-dom-xr-requestsession③">(2)</a>
    <li><a href="#ref-for-dom-xr-requestsession④">3.3. XRSessionCreationOptions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="should-not-initialize-device-tracking">
   <b><a href="#should-not-initialize-device-tracking">#should-not-initialize-device-tracking</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-should-not-initialize-device-tracking">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xrenvironmentblendmode">
   <b><a href="#enumdef-xrenvironmentblendmode">#enumdef-xrenvironmentblendmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xrenvironmentblendmode">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrsession">
   <b><a href="#xrsession">#xrsession</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrsession">1.2. Application flow</a> <a href="#ref-for-xrsession①">(2)</a>
    <li><a href="#ref-for-xrsession②">2.1. XR</a> <a href="#ref-for-xrsession③">(2)</a> <a href="#ref-for-xrsession④">(3)</a> <a href="#ref-for-xrsession⑤">(4)</a> <a href="#ref-for-xrsession⑥">(5)</a> <a href="#ref-for-xrsession⑦">(6)</a>
    <li><a href="#ref-for-xrsession⑧">3.1. XRSession</a> <a href="#ref-for-xrsession⑨">(2)</a> <a href="#ref-for-xrsession①⓪">(3)</a> <a href="#ref-for-xrsession①①">(4)</a> <a href="#ref-for-xrsession①②">(5)</a> <a href="#ref-for-xrsession①③">(6)</a> <a href="#ref-for-xrsession①④">(7)</a> <a href="#ref-for-xrsession①⑤">(8)</a> <a href="#ref-for-xrsession①⑥">(9)</a> <a href="#ref-for-xrsession①⑦">(10)</a> <a href="#ref-for-xrsession①⑧">(11)</a> <a href="#ref-for-xrsession①⑨">(12)</a> <a href="#ref-for-xrsession②⓪">(13)</a> <a href="#ref-for-xrsession②①">(14)</a> <a href="#ref-for-xrsession②②">(15)</a> <a href="#ref-for-xrsession②③">(16)</a>
    <li><a href="#ref-for-xrsession②④">3.2. XRSessionMode</a>
    <li><a href="#ref-for-xrsession②⑤">3.5. Animation Frames</a> <a href="#ref-for-xrsession②⑥">(2)</a> <a href="#ref-for-xrsession②⑦">(3)</a> <a href="#ref-for-xrsession②⑧">(4)</a> <a href="#ref-for-xrsession②⑨">(5)</a> <a href="#ref-for-xrsession③⓪">(6)</a>
    <li><a href="#ref-for-xrsession③①">4.1. XRFrame</a> <a href="#ref-for-xrsession③②">(2)</a> <a href="#ref-for-xrsession③③">(3)</a> <a href="#ref-for-xrsession③④">(4)</a>
    <li><a href="#ref-for-xrsession③⑤">5.1. XRSpace</a>
    <li><a href="#ref-for-xrsession③⑥">5.2. XRReferenceSpace</a> <a href="#ref-for-xrsession③⑦">(2)</a> <a href="#ref-for-xrsession③⑧">(3)</a> <a href="#ref-for-xrsession③⑨">(4)</a>
    <li><a href="#ref-for-xrsession④⓪">6.1. XRView</a>
    <li><a href="#ref-for-xrsession④①">10.2. XRWebGLLayer</a> <a href="#ref-for-xrsession④②">(2)</a> <a href="#ref-for-xrsession④③">(3)</a> <a href="#ref-for-xrsession④④">(4)</a> <a href="#ref-for-xrsession④⑤">(5)</a> <a href="#ref-for-xrsession④⑥">(6)</a> <a href="#ref-for-xrsession④⑦">(7)</a> <a href="#ref-for-xrsession④⑧">(8)</a>
    <li><a href="#ref-for-xrsession④⑨">10.3. WebGL Context Compatibility</a>
    <li><a href="#ref-for-xrsession⑤⓪">12.1. XRSessionEvent</a> <a href="#ref-for-xrsession⑤①">(2)</a> <a href="#ref-for-xrsession⑤②">(3)</a> <a href="#ref-for-xrsession⑤③">(4)</a>
    <li><a href="#ref-for-xrsession⑤④">12.4. Event Types</a> <a href="#ref-for-xrsession⑤⑤">(2)</a> <a href="#ref-for-xrsession⑤⑥">(3)</a> <a href="#ref-for-xrsession⑤⑦">(4)</a> <a href="#ref-for-xrsession⑤⑧">(5)</a> <a href="#ref-for-xrsession⑤⑨">(6)</a> <a href="#ref-for-xrsession⑥⓪">(7)</a> <a href="#ref-for-xrsession⑥①">(8)</a> <a href="#ref-for-xrsession⑥②">(9)</a> <a href="#ref-for-xrsession⑥③">(10)</a>
    <li><a href="#ref-for-xrsession⑥④">13.3. Context Isolation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-mode">
   <b><a href="#dom-xrsession-mode">#dom-xrsession-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-mode">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrsession-mode①">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrsession-mode②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-outputcontext">
   <b><a href="#dom-xrsession-outputcontext">#dom-xrsession-outputcontext</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-outputcontext">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrsession-outputcontext①">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="initialize-the-session">
   <b><a href="#initialize-the-session">#initialize-the-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-initialize-the-session">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="shut-down-the-session">
   <b><a href="#shut-down-the-session">#shut-down-the-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-shut-down-the-session">2.1. XR</a>
    <li><a href="#ref-for-shut-down-the-session①">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="ended">
   <b><a href="#ended">#ended</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-ended">3.1. XRSession</a> <a href="#ref-for-ended①">(2)</a>
    <li><a href="#ref-for-ended②">10.2. XRWebGLLayer</a> <a href="#ref-for-ended③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-end">
   <b><a href="#dom-xrsession-end">#dom-xrsession-end</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-end">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="active-render-state">
   <b><a href="#active-render-state">#active-render-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-active-render-state">3.1. XRSession</a> <a href="#ref-for-active-render-state①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-pending-render-states">
   <b><a href="#list-of-pending-render-states">#list-of-pending-render-states</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-pending-render-states">3.1. XRSession</a> <a href="#ref-for-list-of-pending-render-states①">(2)</a> <a href="#ref-for-list-of-pending-render-states②">(3)</a>
    <li><a href="#ref-for-list-of-pending-render-states③">3.5. Animation Frames</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-renderstate">
   <b><a href="#dom-xrsession-renderstate">#dom-xrsession-renderstate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-renderstate">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-updaterenderstate">
   <b><a href="#dom-xrsession-updaterenderstate">#dom-xrsession-updaterenderstate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-updaterenderstate">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="apply-pending-render-states">
   <b><a href="#apply-pending-render-states">#apply-pending-render-states</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-apply-pending-render-states">3.5. Animation Frames</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-requestreferencespace">
   <b><a href="#dom-xrsession-requestreferencespace">#dom-xrsession-requestreferencespace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-requestreferencespace">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrsession-requestreferencespace①">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrsession-requestreferencespace②">(2)</a>
    <li><a href="#ref-for-dom-xrsession-requestreferencespace③">5.3. XRStationaryReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-getinputsources">
   <b><a href="#dom-xrsession-getinputsources">#dom-xrsession-getinputsources</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-getinputsources">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="environment-blending-mode">
   <b><a href="#environment-blending-mode">#environment-blending-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-environment-blending-mode">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrenvironmentblendmode-opaque">
   <b><a href="#dom-xrenvironmentblendmode-opaque">#dom-xrenvironmentblendmode-opaque</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrenvironmentblendmode-opaque">3.1. XRSession</a> <a href="#ref-for-dom-xrenvironmentblendmode-opaque①">(2)</a>
    <li><a href="#ref-for-dom-xrenvironmentblendmode-opaque②">3.2. XRSessionMode</a> <a href="#ref-for-dom-xrenvironmentblendmode-opaque③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrenvironmentblendmode-additive">
   <b><a href="#dom-xrenvironmentblendmode-additive">#dom-xrenvironmentblendmode-additive</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrenvironmentblendmode-additive">3.1. XRSession</a> <a href="#ref-for-dom-xrenvironmentblendmode-additive①">(2)</a>
    <li><a href="#ref-for-dom-xrenvironmentblendmode-additive②">3.2. XRSessionMode</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrenvironmentblendmode-alpha-blend">
   <b><a href="#dom-xrenvironmentblendmode-alpha-blend">#dom-xrenvironmentblendmode-alpha-blend</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrenvironmentblendmode-alpha-blend">3.1. XRSession</a> <a href="#ref-for-dom-xrenvironmentblendmode-alpha-blend①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-environmentblendmode">
   <b><a href="#dom-xrsession-environmentblendmode">#dom-xrsession-environmentblendmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-environmentblendmode">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrsession-environmentblendmode①">3.2. XRSessionMode</a> <a href="#ref-for-dom-xrsession-environmentblendmode②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-onblur">
   <b><a href="#dom-xrsession-onblur">#dom-xrsession-onblur</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-onblur">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-onfocus">
   <b><a href="#dom-xrsession-onfocus">#dom-xrsession-onfocus</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-onfocus">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-onend">
   <b><a href="#dom-xrsession-onend">#dom-xrsession-onend</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-onend">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-oninputsourceschange">
   <b><a href="#dom-xrsession-oninputsourceschange">#dom-xrsession-oninputsourceschange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-oninputsourceschange">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-onselectstart">
   <b><a href="#dom-xrsession-onselectstart">#dom-xrsession-onselectstart</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-onselectstart">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-onselectend">
   <b><a href="#dom-xrsession-onselectend">#dom-xrsession-onselectend</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-onselectend">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-onselect">
   <b><a href="#dom-xrsession-onselect">#dom-xrsession-onselect</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-onselect">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="end-the-session">
   <b><a href="#end-the-session">#end-the-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-end-the-session">1.2. Application flow</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="blur-all-sessions">
   <b><a href="#blur-all-sessions">#blur-all-sessions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-blur-all-sessions">13.1. Gaze Tracking</a> <a href="#ref-for-blur-all-sessions①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="poll-the-device-pose">
   <b><a href="#poll-the-device-pose">#poll-the-device-pose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-poll-the-device-pose">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-active-input-sources">
   <b><a href="#list-of-active-input-sources">#list-of-active-input-sources</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-active-input-sources">3.1. XRSession</a>
    <li><a href="#ref-for-list-of-active-input-sources①">9.1. XRInputSource</a> <a href="#ref-for-list-of-active-input-sources②">(2)</a>
    <li><a href="#ref-for-list-of-active-input-sources③">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xrsessionmode">
   <b><a href="#enumdef-xrsessionmode">#enumdef-xrsessionmode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xrsessionmode">2.1. XR</a> <a href="#ref-for-enumdef-xrsessionmode①">(2)</a>
    <li><a href="#ref-for-enumdef-xrsessionmode②">3.1. XRSession</a>
    <li><a href="#ref-for-enumdef-xrsessionmode③">3.2. XRSessionMode</a>
    <li><a href="#ref-for-enumdef-xrsessionmode④">3.3. XRSessionCreationOptions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsessionmode-inline">
   <b><a href="#dom-xrsessionmode-inline">#dom-xrsessionmode-inline</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsessionmode-inline">2.1. XR</a>
    <li><a href="#ref-for-dom-xrsessionmode-inline①">3.2. XRSessionMode</a> <a href="#ref-for-dom-xrsessionmode-inline②">(2)</a> <a href="#ref-for-dom-xrsessionmode-inline③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsessionmode-immersive-vr">
   <b><a href="#dom-xrsessionmode-immersive-vr">#dom-xrsessionmode-immersive-vr</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsessionmode-immersive-vr">2.1. XR</a> <a href="#ref-for-dom-xrsessionmode-immersive-vr①">(2)</a> <a href="#ref-for-dom-xrsessionmode-immersive-vr②">(3)</a>
    <li><a href="#ref-for-dom-xrsessionmode-immersive-vr③">3.2. XRSessionMode</a> <a href="#ref-for-dom-xrsessionmode-immersive-vr④">(2)</a> <a href="#ref-for-dom-xrsessionmode-immersive-vr⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsessionmode-immersive-ar">
   <b><a href="#dom-xrsessionmode-immersive-ar">#dom-xrsessionmode-immersive-ar</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsessionmode-immersive-ar">2.1. XR</a>
    <li><a href="#ref-for-dom-xrsessionmode-immersive-ar①">3.2. XRSessionMode</a> <a href="#ref-for-dom-xrsessionmode-immersive-ar②">(2)</a> <a href="#ref-for-dom-xrsessionmode-immersive-ar③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="immersive-session">
   <b><a href="#immersive-session">#immersive-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-immersive-session">3.2. XRSessionMode</a> <a href="#ref-for-immersive-session①">(2)</a> <a href="#ref-for-immersive-session②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="exclusive-access">
   <b><a href="#exclusive-access">#exclusive-access</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-exclusive-access">3.2. XRSessionMode</a> <a href="#ref-for-exclusive-access①">(2)</a> <a href="#ref-for-exclusive-access②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="session-description">
   <b><a href="#session-description">#session-description</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-session-description">2.1. XR</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrsessioncreationoptions">
   <b><a href="#dictdef-xrsessioncreationoptions">#dictdef-xrsessioncreationoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrsessioncreationoptions">2.1. XR</a>
    <li><a href="#ref-for-dictdef-xrsessioncreationoptions①">3.1. XRSession</a>
    <li><a href="#ref-for-dictdef-xrsessioncreationoptions②">3.3. XRSessionCreationOptions</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsessioncreationoptions-mode">
   <b><a href="#dom-xrsessioncreationoptions-mode">#dom-xrsessioncreationoptions-mode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsessioncreationoptions-mode">2.1. XR</a>
    <li><a href="#ref-for-dom-xrsessioncreationoptions-mode①">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsessioncreationoptions-outputcontext">
   <b><a href="#dom-xrsessioncreationoptions-outputcontext">#dom-xrsessioncreationoptions-outputcontext</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsessioncreationoptions-outputcontext">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrrenderstateinit">
   <b><a href="#dictdef-xrrenderstateinit">#dictdef-xrrenderstateinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrrenderstateinit">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrenderstateinit-depthnear">
   <b><a href="#dom-xrrenderstateinit-depthnear">#dom-xrrenderstateinit-depthnear</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrenderstateinit-depthnear">3.1. XRSession</a> <a href="#ref-for-dom-xrrenderstateinit-depthnear①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrenderstateinit-depthfar">
   <b><a href="#dom-xrrenderstateinit-depthfar">#dom-xrrenderstateinit-depthfar</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrenderstateinit-depthfar">3.1. XRSession</a> <a href="#ref-for-dom-xrrenderstateinit-depthfar①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrenderstateinit-baselayer">
   <b><a href="#dom-xrrenderstateinit-baselayer">#dom-xrrenderstateinit-baselayer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrenderstateinit-baselayer">3.1. XRSession</a> <a href="#ref-for-dom-xrrenderstateinit-baselayer①">(2)</a> <a href="#ref-for-dom-xrrenderstateinit-baselayer②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrrenderstate">
   <b><a href="#xrrenderstate">#xrrenderstate</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrrenderstate">3.1. XRSession</a> <a href="#ref-for-xrrenderstate①">(2)</a>
    <li><a href="#ref-for-xrrenderstate②">3.4. XRRenderState</a> <a href="#ref-for-xrrenderstate③">(2)</a> <a href="#ref-for-xrrenderstate④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrenderstate-depthnear">
   <b><a href="#dom-xrrenderstate-depthnear">#dom-xrrenderstate-depthnear</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrenderstate-depthnear">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrrenderstate-depthnear①">3.4. XRRenderState</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrenderstate-depthfar">
   <b><a href="#dom-xrrenderstate-depthfar">#dom-xrrenderstate-depthfar</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrenderstate-depthfar">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrrenderstate-depthfar①">3.4. XRRenderState</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrenderstate-baselayer">
   <b><a href="#dom-xrrenderstate-baselayer">#dom-xrrenderstate-baselayer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrenderstate-baselayer">3.1. XRSession</a> <a href="#ref-for-dom-xrrenderstate-baselayer①">(2)</a> <a href="#ref-for-dom-xrrenderstate-baselayer②">(3)</a> <a href="#ref-for-dom-xrrenderstate-baselayer③">(4)</a> <a href="#ref-for-dom-xrrenderstate-baselayer④">(5)</a>
    <li><a href="#ref-for-dom-xrrenderstate-baselayer⑤">3.4. XRRenderState</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="initialize-the-render-state">
   <b><a href="#initialize-the-render-state">#initialize-the-render-state</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-initialize-the-render-state">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="callbackdef-xrframerequestcallback">
   <b><a href="#callbackdef-xrframerequestcallback">#callbackdef-xrframerequestcallback</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-callbackdef-xrframerequestcallback">3.1. XRSession</a>
    <li><a href="#ref-for-callbackdef-xrframerequestcallback①">3.5. Animation Frames</a>
    <li><a href="#ref-for-callbackdef-xrframerequestcallback②">4.1. XRFrame</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrframerequestcallback-cancelled">
   <b><a href="#xrframerequestcallback-cancelled">#xrframerequestcallback-cancelled</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrframerequestcallback-cancelled">3.5. Animation Frames</a> <a href="#ref-for-xrframerequestcallback-cancelled①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-animation-frame-callbacks">
   <b><a href="#list-of-animation-frame-callbacks">#list-of-animation-frame-callbacks</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-animation-frame-callbacks">3.5. Animation Frames</a> <a href="#ref-for-list-of-animation-frame-callbacks①">(2)</a> <a href="#ref-for-list-of-animation-frame-callbacks②">(3)</a> <a href="#ref-for-list-of-animation-frame-callbacks③">(4)</a> <a href="#ref-for-list-of-animation-frame-callbacks④">(5)</a> <a href="#ref-for-list-of-animation-frame-callbacks⑤">(6)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="animation-frame-callback-identifier">
   <b><a href="#animation-frame-callback-identifier">#animation-frame-callback-identifier</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-animation-frame-callback-identifier">3.5. Animation Frames</a> <a href="#ref-for-animation-frame-callback-identifier①">(2)</a> <a href="#ref-for-animation-frame-callback-identifier②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-requestanimationframe">
   <b><a href="#dom-xrsession-requestanimationframe">#dom-xrsession-requestanimationframe</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-requestanimationframe">3.1. XRSession</a>
    <li><a href="#ref-for-dom-xrsession-requestanimationframe①">3.5. Animation Frames</a>
    <li><a href="#ref-for-dom-xrsession-requestanimationframe②">4.1. XRFrame</a>
    <li><a href="#ref-for-dom-xrsession-requestanimationframe③">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrsession-requestanimationframe④">(2)</a> <a href="#ref-for-dom-xrsession-requestanimationframe⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsession-cancelanimationframe">
   <b><a href="#dom-xrsession-cancelanimationframe">#dom-xrsession-cancelanimationframe</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsession-cancelanimationframe">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xr-animation-frame">
   <b><a href="#xr-animation-frame">#xr-animation-frame</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xr-animation-frame">5.1. XRSpace</a>
    <li><a href="#ref-for-xr-animation-frame①">5.2. XRReferenceSpace</a>
    <li><a href="#ref-for-xr-animation-frame②">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xr-compositor">
   <b><a href="#xr-compositor">#xr-compositor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xr-compositor">3.6. The XR Compositor</a>
    <li><a href="#ref-for-xr-compositor①">13.2. Trusted Environment</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrframe">
   <b><a href="#xrframe">#xrframe</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrframe">3.5. Animation Frames</a> <a href="#ref-for-xrframe①">(2)</a>
    <li><a href="#ref-for-xrframe②">4.1. XRFrame</a> <a href="#ref-for-xrframe③">(2)</a> <a href="#ref-for-xrframe④">(3)</a> <a href="#ref-for-xrframe⑤">(4)</a> <a href="#ref-for-xrframe⑥">(5)</a> <a href="#ref-for-xrframe⑦">(6)</a> <a href="#ref-for-xrframe⑧">(7)</a> <a href="#ref-for-xrframe⑨">(8)</a> <a href="#ref-for-xrframe①⓪">(9)</a> <a href="#ref-for-xrframe①①">(10)</a> <a href="#ref-for-xrframe①②">(11)</a>
    <li><a href="#ref-for-xrframe①③">12.2. XRInputSourceEvent</a> <a href="#ref-for-xrframe①④">(2)</a> <a href="#ref-for-xrframe①⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrframe-active">
   <b><a href="#xrframe-active">#xrframe-active</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrframe-active">3.5. Animation Frames</a> <a href="#ref-for-xrframe-active①">(2)</a>
    <li><a href="#ref-for-xrframe-active②">4.1. XRFrame</a> <a href="#ref-for-xrframe-active③">(2)</a>
    <li><a href="#ref-for-xrframe-active④">12.2. XRInputSourceEvent</a> <a href="#ref-for-xrframe-active⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrframe-session">
   <b><a href="#dom-xrframe-session">#dom-xrframe-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrframe-session">4.1. XRFrame</a> <a href="#ref-for-dom-xrframe-session①">(2)</a> <a href="#ref-for-dom-xrframe-session②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrframe-getviewerpose">
   <b><a href="#dom-xrframe-getviewerpose">#dom-xrframe-getviewerpose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrframe-getviewerpose">4.1. XRFrame</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrframe-getinputpose">
   <b><a href="#dom-xrframe-getinputpose">#dom-xrframe-getinputpose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrframe-getinputpose">4.1. XRFrame</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrspace">
   <b><a href="#xrspace">#xrspace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrspace">5.1. XRSpace</a> <a href="#ref-for-xrspace①">(2)</a> <a href="#ref-for-xrspace②">(3)</a> <a href="#ref-for-xrspace③">(4)</a> <a href="#ref-for-xrspace④">(5)</a> <a href="#ref-for-xrspace⑤">(6)</a>
    <li><a href="#ref-for-xrspace⑥">5.2. XRReferenceSpace</a> <a href="#ref-for-xrspace⑦">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrspace-session">
   <b><a href="#xrspace-session">#xrspace-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrspace-session">4.1. XRFrame</a> <a href="#ref-for-xrspace-session①">(2)</a>
    <li><a href="#ref-for-xrspace-session②">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrspace-gettransformto">
   <b><a href="#dom-xrspace-gettransformto">#dom-xrspace-gettransformto</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrspace-gettransformto">5.1. XRSpace</a> <a href="#ref-for-dom-xrspace-gettransformto①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xrreferencespacetype">
   <b><a href="#enumdef-xrreferencespacetype">#enumdef-xrreferencespacetype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xrreferencespacetype">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xrstationaryreferencespacesubtype">
   <b><a href="#enumdef-xrstationaryreferencespacesubtype">#enumdef-xrstationaryreferencespacesubtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xrstationaryreferencespacesubtype">5.2. XRReferenceSpace</a>
    <li><a href="#ref-for-enumdef-xrstationaryreferencespacesubtype①">5.3. XRStationaryReferenceSpace</a> <a href="#ref-for-enumdef-xrstationaryreferencespacesubtype②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrreferencespaceoptions">
   <b><a href="#dictdef-xrreferencespaceoptions">#dictdef-xrreferencespaceoptions</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrreferencespaceoptions">3.1. XRSession</a>
    <li><a href="#ref-for-dictdef-xrreferencespaceoptions①">5.2. XRReferenceSpace</a> <a href="#ref-for-dictdef-xrreferencespaceoptions②">(2)</a>
    <li><a href="#ref-for-dictdef-xrreferencespaceoptions③">5.3. XRStationaryReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespaceoptions-type">
   <b><a href="#dom-xrreferencespaceoptions-type">#dom-xrreferencespaceoptions-type</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespaceoptions-type">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrreferencespaceoptions-type①">(2)</a> <a href="#ref-for-dom-xrreferencespaceoptions-type②">(3)</a> <a href="#ref-for-dom-xrreferencespaceoptions-type③">(4)</a> <a href="#ref-for-dom-xrreferencespaceoptions-type④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespaceoptions-subtype">
   <b><a href="#dom-xrreferencespaceoptions-subtype">#dom-xrreferencespaceoptions-subtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespaceoptions-subtype">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrreferencespaceoptions-subtype①">(2)</a> <a href="#ref-for-dom-xrreferencespaceoptions-subtype②">(3)</a>
    <li><a href="#ref-for-dom-xrreferencespaceoptions-subtype③">5.3. XRStationaryReferenceSpace</a> <a href="#ref-for-dom-xrreferencespaceoptions-subtype④">(2)</a> <a href="#ref-for-dom-xrreferencespaceoptions-subtype⑤">(3)</a> <a href="#ref-for-dom-xrreferencespaceoptions-subtype⑥">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrreferencespace">
   <b><a href="#xrreferencespace">#xrreferencespace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrreferencespace">3.1. XRSession</a>
    <li><a href="#ref-for-xrreferencespace①">4.1. XRFrame</a> <a href="#ref-for-xrreferencespace②">(2)</a>
    <li><a href="#ref-for-xrreferencespace③">5.1. XRSpace</a>
    <li><a href="#ref-for-xrreferencespace④">5.2. XRReferenceSpace</a> <a href="#ref-for-xrreferencespace⑤">(2)</a> <a href="#ref-for-xrreferencespace⑥">(3)</a> <a href="#ref-for-xrreferencespace⑦">(4)</a> <a href="#ref-for-xrreferencespace⑧">(5)</a> <a href="#ref-for-xrreferencespace⑨">(6)</a> <a href="#ref-for-xrreferencespace①⓪">(7)</a>
    <li><a href="#ref-for-xrreferencespace①①">5.3. XRStationaryReferenceSpace</a>
    <li><a href="#ref-for-xrreferencespace①②">5.4. XRBoundedReferenceSpace</a> <a href="#ref-for-xrreferencespace①③">(2)</a>
    <li><a href="#ref-for-xrreferencespace①④">5.5. XRUnboundedReferenceSpace</a>
    <li><a href="#ref-for-xrreferencespace①⑤">8.1. XRViewerPose</a> <a href="#ref-for-xrreferencespace①⑥">(2)</a> <a href="#ref-for-xrreferencespace①⑦">(3)</a>
    <li><a href="#ref-for-xrreferencespace①⑧">12.3. XRReferenceSpaceEvent</a> <a href="#ref-for-xrreferencespace①⑨">(2)</a> <a href="#ref-for-xrreferencespace②⓪">(3)</a> <a href="#ref-for-xrreferencespace②①">(4)</a>
    <li><a href="#ref-for-xrreferencespace②②">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespacetype-stationary">
   <b><a href="#dom-xrreferencespacetype-stationary">#dom-xrreferencespacetype-stationary</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespacetype-stationary">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrreferencespacetype-stationary①">(2)</a> <a href="#ref-for-dom-xrreferencespacetype-stationary②">(3)</a>
    <li><a href="#ref-for-dom-xrreferencespacetype-stationary③">5.3. XRStationaryReferenceSpace</a> <a href="#ref-for-dom-xrreferencespacetype-stationary④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespacetype-bounded">
   <b><a href="#dom-xrreferencespacetype-bounded">#dom-xrreferencespacetype-bounded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespacetype-bounded">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrreferencespacetype-bounded①">(2)</a> <a href="#ref-for-dom-xrreferencespacetype-bounded②">(3)</a>
    <li><a href="#ref-for-dom-xrreferencespacetype-bounded③">5.4. XRBoundedReferenceSpace</a> <a href="#ref-for-dom-xrreferencespacetype-bounded④">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespacetype-unbounded">
   <b><a href="#dom-xrreferencespacetype-unbounded">#dom-xrreferencespacetype-unbounded</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespacetype-unbounded">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrreferencespacetype-unbounded①">(2)</a> <a href="#ref-for-dom-xrreferencespacetype-unbounded②">(3)</a>
    <li><a href="#ref-for-dom-xrreferencespacetype-unbounded③">5.5. XRUnboundedReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespace-originoffset">
   <b><a href="#dom-xrreferencespace-originoffset">#dom-xrreferencespace-originoffset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespace-originoffset">5.2. XRReferenceSpace</a> <a href="#ref-for-dom-xrreferencespace-originoffset①">(2)</a> <a href="#ref-for-dom-xrreferencespace-originoffset②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespace-onreset">
   <b><a href="#dom-xrreferencespace-onreset">#dom-xrreferencespace-onreset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespace-onreset">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="create-a-reference-space">
   <b><a href="#create-a-reference-space">#create-a-reference-space</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-create-a-reference-space">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrstationaryreferencespace">
   <b><a href="#xrstationaryreferencespace">#xrstationaryreferencespace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrstationaryreferencespace">5.2. XRReferenceSpace</a> <a href="#ref-for-xrstationaryreferencespace①">(2)</a>
    <li><a href="#ref-for-xrstationaryreferencespace②">5.3. XRStationaryReferenceSpace</a> <a href="#ref-for-xrstationaryreferencespace③">(2)</a> <a href="#ref-for-xrstationaryreferencespace④">(3)</a> <a href="#ref-for-xrstationaryreferencespace⑤">(4)</a> <a href="#ref-for-xrstationaryreferencespace⑥">(5)</a> <a href="#ref-for-xrstationaryreferencespace⑦">(6)</a> <a href="#ref-for-xrstationaryreferencespace⑧">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrstationaryreferencespacesubtype-eye-level">
   <b><a href="#dom-xrstationaryreferencespacesubtype-eye-level">#dom-xrstationaryreferencespacesubtype-eye-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrstationaryreferencespacesubtype-eye-level">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrstationaryreferencespacesubtype-floor-level">
   <b><a href="#dom-xrstationaryreferencespacesubtype-floor-level">#dom-xrstationaryreferencespacesubtype-floor-level</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrstationaryreferencespacesubtype-floor-level">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrstationaryreferencespacesubtype-position-disabled">
   <b><a href="#dom-xrstationaryreferencespacesubtype-position-disabled">#dom-xrstationaryreferencespacesubtype-position-disabled</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrstationaryreferencespacesubtype-position-disabled">5.2. XRReferenceSpace</a>
    <li><a href="#ref-for-dom-xrstationaryreferencespacesubtype-position-disabled①">5.3. XRStationaryReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrstationaryreferencespace-subtype">
   <b><a href="#dom-xrstationaryreferencespace-subtype">#dom-xrstationaryreferencespace-subtype</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrstationaryreferencespace-subtype">5.2. XRReferenceSpace</a>
    <li><a href="#ref-for-dom-xrstationaryreferencespace-subtype①">5.3. XRStationaryReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrboundedreferencespace">
   <b><a href="#xrboundedreferencespace">#xrboundedreferencespace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrboundedreferencespace">5.2. XRReferenceSpace</a> <a href="#ref-for-xrboundedreferencespace①">(2)</a>
    <li><a href="#ref-for-xrboundedreferencespace②">5.4. XRBoundedReferenceSpace</a> <a href="#ref-for-xrboundedreferencespace③">(2)</a> <a href="#ref-for-xrboundedreferencespace④">(3)</a> <a href="#ref-for-xrboundedreferencespace⑤">(4)</a>
    <li><a href="#ref-for-xrboundedreferencespace⑥">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrboundedreferencespace-boundsgeometry">
   <b><a href="#dom-xrboundedreferencespace-boundsgeometry">#dom-xrboundedreferencespace-boundsgeometry</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrboundedreferencespace-boundsgeometry">5.4. XRBoundedReferenceSpace</a> <a href="#ref-for-dom-xrboundedreferencespace-boundsgeometry①">(2)</a> <a href="#ref-for-dom-xrboundedreferencespace-boundsgeometry②">(3)</a>
    <li><a href="#ref-for-dom-xrboundedreferencespace-boundsgeometry③">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrunboundedreferencespace">
   <b><a href="#xrunboundedreferencespace">#xrunboundedreferencespace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrunboundedreferencespace">5.2. XRReferenceSpace</a> <a href="#ref-for-xrunboundedreferencespace①">(2)</a>
    <li><a href="#ref-for-xrunboundedreferencespace②">5.4. XRBoundedReferenceSpace</a>
    <li><a href="#ref-for-xrunboundedreferencespace③">5.5. XRUnboundedReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="view">
   <b><a href="#view">#view</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-view">6.1. XRView</a> <a href="#ref-for-view①">(2)</a> <a href="#ref-for-view②">(3)</a> <a href="#ref-for-view③">(4)</a> <a href="#ref-for-view④">(5)</a> <a href="#ref-for-view⑤">(6)</a> <a href="#ref-for-view⑥">(7)</a> <a href="#ref-for-view⑦">(8)</a> <a href="#ref-for-view⑧">(9)</a>
    <li><a href="#ref-for-view⑨">8.1. XRViewerPose</a> <a href="#ref-for-view①⓪">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xreye">
   <b><a href="#enumdef-xreye">#enumdef-xreye</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xreye">6.1. XRView</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xreye-left">
   <b><a href="#dom-xreye-left">#dom-xreye-left</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xreye-left">6.1. XRView</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrview">
   <b><a href="#xrview">#xrview</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrview">6.1. XRView</a>
    <li><a href="#ref-for-xrview①">6.2. XRViewport</a>
    <li><a href="#ref-for-xrview②">8.1. XRViewerPose</a> <a href="#ref-for-xrview③">(2)</a> <a href="#ref-for-xrview④">(3)</a>
    <li><a href="#ref-for-xrview⑤">10.2. XRWebGLLayer</a> <a href="#ref-for-xrview⑥">(2)</a> <a href="#ref-for-xrview⑦">(3)</a> <a href="#ref-for-xrview⑧">(4)</a> <a href="#ref-for-xrview⑨">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrview-eye">
   <b><a href="#dom-xrview-eye">#dom-xrview-eye</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrview-eye">6.1. XRView</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrview-projectionmatrix">
   <b><a href="#dom-xrview-projectionmatrix">#dom-xrview-projectionmatrix</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrview-projectionmatrix">6.1. XRView</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrview-viewmatrix">
   <b><a href="#dom-xrview-viewmatrix">#dom-xrview-viewmatrix</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrview-viewmatrix">6.1. XRView</a> <a href="#ref-for-dom-xrview-viewmatrix①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrview-transform">
   <b><a href="#dom-xrview-transform">#dom-xrview-transform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrview-transform">6.1. XRView</a> <a href="#ref-for-dom-xrview-transform①">(2)</a> <a href="#ref-for-dom-xrview-transform②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrviewport">
   <b><a href="#xrviewport">#xrviewport</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrviewport">6.2. XRViewport</a> <a href="#ref-for-xrviewport①">(2)</a>
    <li><a href="#ref-for-xrviewport②">8.1. XRViewerPose</a>
    <li><a href="#ref-for-xrviewport③">10.2. XRWebGLLayer</a> <a href="#ref-for-xrviewport④">(2)</a> <a href="#ref-for-xrviewport⑤">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrviewport-x">
   <b><a href="#dom-xrviewport-x">#dom-xrviewport-x</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrviewport-x">6.2. XRViewport</a> <a href="#ref-for-dom-xrviewport-x①">(2)</a> <a href="#ref-for-dom-xrviewport-x②">(3)</a>
    <li><a href="#ref-for-dom-xrviewport-x③">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrviewport-y">
   <b><a href="#dom-xrviewport-y">#dom-xrviewport-y</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrviewport-y">6.2. XRViewport</a> <a href="#ref-for-dom-xrviewport-y①">(2)</a> <a href="#ref-for-dom-xrviewport-y②">(3)</a>
    <li><a href="#ref-for-dom-xrviewport-y③">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrviewport-width">
   <b><a href="#dom-xrviewport-width">#dom-xrviewport-width</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrviewport-width">6.2. XRViewport</a> <a href="#ref-for-dom-xrviewport-width①">(2)</a>
    <li><a href="#ref-for-dom-xrviewport-width②">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrviewport-height">
   <b><a href="#dom-xrviewport-height">#dom-xrviewport-height</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrviewport-height">6.2. XRViewport</a> <a href="#ref-for-dom-xrviewport-height①">(2)</a>
    <li><a href="#ref-for-dom-xrviewport-height②">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="matrix">
   <b><a href="#matrix">#matrix</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-matrix">6.1. XRView</a> <a href="#ref-for-matrix①">(2)</a> <a href="#ref-for-matrix②">(3)</a>
    <li><a href="#ref-for-matrix③">7.2. XRRigidTransform</a>
    <li><a href="#ref-for-matrix④">7.3. XRRay</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrrigidtransform">
   <b><a href="#xrrigidtransform">#xrrigidtransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrrigidtransform">5.1. XRSpace</a> <a href="#ref-for-xrrigidtransform①">(2)</a>
    <li><a href="#ref-for-xrrigidtransform②">5.2. XRReferenceSpace</a> <a href="#ref-for-xrrigidtransform③">(2)</a>
    <li><a href="#ref-for-xrrigidtransform④">6.1. XRView</a> <a href="#ref-for-xrrigidtransform⑤">(2)</a>
    <li><a href="#ref-for-xrrigidtransform⑥">7.2. XRRigidTransform</a> <a href="#ref-for-xrrigidtransform⑦">(2)</a> <a href="#ref-for-xrrigidtransform⑧">(3)</a> <a href="#ref-for-xrrigidtransform⑨">(4)</a>
    <li><a href="#ref-for-xrrigidtransform①⓪">7.3. XRRay</a>
    <li><a href="#ref-for-xrrigidtransform①①">8.1. XRViewerPose</a> <a href="#ref-for-xrrigidtransform①②">(2)</a>
    <li><a href="#ref-for-xrrigidtransform①③">9.2. XRInputPose</a>
    <li><a href="#ref-for-xrrigidtransform①④">12.3. XRReferenceSpaceEvent</a> <a href="#ref-for-xrrigidtransform①⑤">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrigidtransform-xrrigidtransform">
   <b><a href="#dom-xrrigidtransform-xrrigidtransform">#dom-xrrigidtransform-xrrigidtransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrigidtransform-xrrigidtransform">7.2. XRRigidTransform</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrigidtransform-position">
   <b><a href="#dom-xrrigidtransform-position">#dom-xrrigidtransform-position</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrigidtransform-position">7.2. XRRigidTransform</a> <a href="#ref-for-dom-xrrigidtransform-position①">(2)</a> <a href="#ref-for-dom-xrrigidtransform-position②">(3)</a> <a href="#ref-for-dom-xrrigidtransform-position③">(4)</a> <a href="#ref-for-dom-xrrigidtransform-position④">(5)</a> <a href="#ref-for-dom-xrrigidtransform-position⑤">(6)</a> <a href="#ref-for-dom-xrrigidtransform-position⑥">(7)</a> <a href="#ref-for-dom-xrrigidtransform-position⑦">(8)</a>
    <li><a href="#ref-for-dom-xrrigidtransform-position⑧">9.2. XRInputPose</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrigidtransform-orientation">
   <b><a href="#dom-xrrigidtransform-orientation">#dom-xrrigidtransform-orientation</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrigidtransform-orientation">7.2. XRRigidTransform</a> <a href="#ref-for-dom-xrrigidtransform-orientation①">(2)</a> <a href="#ref-for-dom-xrrigidtransform-orientation②">(3)</a> <a href="#ref-for-dom-xrrigidtransform-orientation③">(4)</a> <a href="#ref-for-dom-xrrigidtransform-orientation④">(5)</a> <a href="#ref-for-dom-xrrigidtransform-orientation⑤">(6)</a> <a href="#ref-for-dom-xrrigidtransform-orientation⑥">(7)</a> <a href="#ref-for-dom-xrrigidtransform-orientation⑦">(8)</a> <a href="#ref-for-dom-xrrigidtransform-orientation⑧">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrrigidtransform-matrix">
   <b><a href="#dom-xrrigidtransform-matrix">#dom-xrrigidtransform-matrix</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrrigidtransform-matrix">6.1. XRView</a>
    <li><a href="#ref-for-dom-xrrigidtransform-matrix①">7.2. XRRigidTransform</a>
    <li><a href="#ref-for-dom-xrrigidtransform-matrix②">7.3. XRRay</a> <a href="#ref-for-dom-xrrigidtransform-matrix③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="identity-transform">
   <b><a href="#identity-transform">#identity-transform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-identity-transform">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="normalize">
   <b><a href="#normalize">#normalize</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-normalize">7.2. XRRigidTransform</a>
    <li><a href="#ref-for-normalize①">7.3. XRRay</a> <a href="#ref-for-normalize②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrray">
   <b><a href="#xrray">#xrray</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrray">7.3. XRRay</a> <a href="#ref-for-xrray①">(2)</a> <a href="#ref-for-xrray②">(3)</a> <a href="#ref-for-xrray③">(4)</a> <a href="#ref-for-xrray④">(5)</a>
    <li><a href="#ref-for-xrray⑤">9.2. XRInputPose</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrray-xrray">
   <b><a href="#dom-xrray-xrray">#dom-xrray-xrray</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrray-xrray">7.3. XRRay</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrray-xrray-transform">
   <b><a href="#dom-xrray-xrray-transform">#dom-xrray-xrray-transform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrray-xrray-transform">7.3. XRRay</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrray-origin">
   <b><a href="#dom-xrray-origin">#dom-xrray-origin</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrray-origin">7.3. XRRay</a> <a href="#ref-for-dom-xrray-origin①">(2)</a> <a href="#ref-for-dom-xrray-origin②">(3)</a> <a href="#ref-for-dom-xrray-origin③">(4)</a> <a href="#ref-for-dom-xrray-origin④">(5)</a> <a href="#ref-for-dom-xrray-origin⑤">(6)</a> <a href="#ref-for-dom-xrray-origin⑥">(7)</a> <a href="#ref-for-dom-xrray-origin⑦">(8)</a>
    <li><a href="#ref-for-dom-xrray-origin⑧">9.2. XRInputPose</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrray-direction">
   <b><a href="#dom-xrray-direction">#dom-xrray-direction</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrray-direction">7.3. XRRay</a> <a href="#ref-for-dom-xrray-direction①">(2)</a> <a href="#ref-for-dom-xrray-direction②">(3)</a> <a href="#ref-for-dom-xrray-direction③">(4)</a> <a href="#ref-for-dom-xrray-direction④">(5)</a> <a href="#ref-for-dom-xrray-direction⑤">(6)</a> <a href="#ref-for-dom-xrray-direction⑥">(7)</a> <a href="#ref-for-dom-xrray-direction⑦">(8)</a> <a href="#ref-for-dom-xrray-direction⑧">(9)</a> <a href="#ref-for-dom-xrray-direction⑨">(10)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrray-matrix">
   <b><a href="#dom-xrray-matrix">#dom-xrray-matrix</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrray-matrix">7.3. XRRay</a> <a href="#ref-for-dom-xrray-matrix①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="viewer">
   <b><a href="#viewer">#viewer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-viewer">3.2. XRSessionMode</a> <a href="#ref-for-viewer①">(2)</a>
    <li><a href="#ref-for-viewer②">3.5. Animation Frames</a>
    <li><a href="#ref-for-viewer③">4.1. XRFrame</a> <a href="#ref-for-viewer④">(2)</a>
    <li><a href="#ref-for-viewer⑤">5.3. XRStationaryReferenceSpace</a>
    <li><a href="#ref-for-viewer⑥">8.1. XRViewerPose</a> <a href="#ref-for-viewer⑦">(2)</a> <a href="#ref-for-viewer⑧">(3)</a> <a href="#ref-for-viewer⑨">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrviewerpose">
   <b><a href="#xrviewerpose">#xrviewerpose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrviewerpose">4.1. XRFrame</a> <a href="#ref-for-xrviewerpose①">(2)</a>
    <li><a href="#ref-for-xrviewerpose②">6.2. XRViewport</a>
    <li><a href="#ref-for-xrviewerpose③">8.1. XRViewerPose</a> <a href="#ref-for-xrviewerpose④">(2)</a> <a href="#ref-for-xrviewerpose⑤">(3)</a> <a href="#ref-for-xrviewerpose⑥">(4)</a>
    <li><a href="#ref-for-xrviewerpose⑦">12.2. XRInputSourceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrviewerpose-transform">
   <b><a href="#dom-xrviewerpose-transform">#dom-xrviewerpose-transform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrviewerpose-transform">8.1. XRViewerPose</a> <a href="#ref-for-dom-xrviewerpose-transform①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrviewerpose-views">
   <b><a href="#dom-xrviewerpose-views">#dom-xrviewerpose-views</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrviewerpose-views">8.1. XRViewerPose</a>
    <li><a href="#ref-for-dom-xrviewerpose-views①">12.2. XRInputSourceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xrhandedness">
   <b><a href="#enumdef-xrhandedness">#enumdef-xrhandedness</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xrhandedness">9.1. XRInputSource</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="enumdef-xrtargetraymode">
   <b><a href="#enumdef-xrtargetraymode">#enumdef-xrtargetraymode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-enumdef-xrtargetraymode">9.1. XRInputSource</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrinputsource">
   <b><a href="#xrinputsource">#xrinputsource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrinputsource">3.1. XRSession</a>
    <li><a href="#ref-for-xrinputsource①">4.1. XRFrame</a>
    <li><a href="#ref-for-xrinputsource②">9.1. XRInputSource</a> <a href="#ref-for-xrinputsource③">(2)</a>
    <li><a href="#ref-for-xrinputsource④">9.2. XRInputPose</a>
    <li><a href="#ref-for-xrinputsource⑤">12.2. XRInputSourceEvent</a> <a href="#ref-for-xrinputsource⑥">(2)</a> <a href="#ref-for-xrinputsource⑦">(3)</a> <a href="#ref-for-xrinputsource⑧">(4)</a>
    <li><a href="#ref-for-xrinputsource⑨">12.4. Event Types</a> <a href="#ref-for-xrinputsource①⓪">(2)</a> <a href="#ref-for-xrinputsource①①">(3)</a> <a href="#ref-for-xrinputsource①②">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="primary-action">
   <b><a href="#primary-action">#primary-action</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-primary-action">9.1. XRInputSource</a> <a href="#ref-for-primary-action①">(2)</a> <a href="#ref-for-primary-action②">(3)</a>
    <li><a href="#ref-for-primary-action③">12.4. Event Types</a> <a href="#ref-for-primary-action④">(2)</a> <a href="#ref-for-primary-action⑤">(3)</a> <a href="#ref-for-primary-action⑥">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputsource-handedness">
   <b><a href="#dom-xrinputsource-handedness">#dom-xrinputsource-handedness</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputsource-handedness">9.1. XRInputSource</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputsource-targetraymode">
   <b><a href="#dom-xrinputsource-targetraymode">#dom-xrinputsource-targetraymode</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputsource-targetraymode">9.1. XRInputSource</a> <a href="#ref-for-dom-xrinputsource-targetraymode①">(2)</a>
    <li><a href="#ref-for-dom-xrinputsource-targetraymode②">9.2. XRInputPose</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrtargetraymode-gaze">
   <b><a href="#dom-xrtargetraymode-gaze">#dom-xrtargetraymode-gaze</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrtargetraymode-gaze">9.1. XRInputSource</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrtargetraymode-tracked-pointer">
   <b><a href="#dom-xrtargetraymode-tracked-pointer">#dom-xrtargetraymode-tracked-pointer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrtargetraymode-tracked-pointer">9.1. XRInputSource</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrtargetraymode-screen">
   <b><a href="#dom-xrtargetraymode-screen">#dom-xrtargetraymode-screen</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrtargetraymode-screen">9.1. XRInputSource</a> <a href="#ref-for-dom-xrtargetraymode-screen①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrinputpose">
   <b><a href="#xrinputpose">#xrinputpose</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrinputpose">4.1. XRFrame</a> <a href="#ref-for-xrinputpose①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputpose-targetray">
   <b><a href="#dom-xrinputpose-targetray">#dom-xrinputpose-targetray</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputpose-targetray">9.2. XRInputPose</a> <a href="#ref-for-dom-xrinputpose-targetray①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputpose-griptransform">
   <b><a href="#dom-xrinputpose-griptransform">#dom-xrinputpose-griptransform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputpose-griptransform">9.2. XRInputPose</a> <a href="#ref-for-dom-xrinputpose-griptransform①">(2)</a> <a href="#ref-for-dom-xrinputpose-griptransform②">(3)</a> <a href="#ref-for-dom-xrinputpose-griptransform③">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputpose-emulatedposition">
   <b><a href="#dom-xrinputpose-emulatedposition">#dom-xrinputpose-emulatedposition</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputpose-emulatedposition">9.2. XRInputPose</a> <a href="#ref-for-dom-xrinputpose-emulatedposition①">(2)</a> <a href="#ref-for-dom-xrinputpose-emulatedposition②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrlayer">
   <b><a href="#xrlayer">#xrlayer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrlayer">3.4. XRRenderState</a> <a href="#ref-for-xrlayer①">(2)</a>
    <li><a href="#ref-for-xrlayer②">10.1. XRLayer</a>
    <li><a href="#ref-for-xrlayer③">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="typedefdef-xrwebglrenderingcontext">
   <b><a href="#typedefdef-xrwebglrenderingcontext">#typedefdef-xrwebglrenderingcontext</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-typedefdef-xrwebglrenderingcontext">10.2. XRWebGLLayer</a> <a href="#ref-for-typedefdef-xrwebglrenderingcontext①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrwebgllayerinit">
   <b><a href="#dictdef-xrwebgllayerinit">#dictdef-xrwebgllayerinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrwebgllayerinit">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayerinit-antialias">
   <b><a href="#dom-xrwebgllayerinit-antialias">#dom-xrwebgllayerinit-antialias</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayerinit-antialias">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayerinit-depth">
   <b><a href="#dom-xrwebgllayerinit-depth">#dom-xrwebgllayerinit-depth</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayerinit-depth">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayerinit-stencil">
   <b><a href="#dom-xrwebgllayerinit-stencil">#dom-xrwebgllayerinit-stencil</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayerinit-stencil">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayerinit-alpha">
   <b><a href="#dom-xrwebgllayerinit-alpha">#dom-xrwebgllayerinit-alpha</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayerinit-alpha">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrwebgllayer">
   <b><a href="#xrwebgllayer">#xrwebgllayer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrwebgllayer">3.6. The XR Compositor</a>
    <li><a href="#ref-for-xrwebgllayer①">6.2. XRViewport</a> <a href="#ref-for-xrwebgllayer②">(2)</a>
    <li><a href="#ref-for-xrwebgllayer③">10.1. XRLayer</a>
    <li><a href="#ref-for-xrwebgllayer④">10.2. XRWebGLLayer</a> <a href="#ref-for-xrwebgllayer⑤">(2)</a> <a href="#ref-for-xrwebgllayer⑥">(3)</a> <a href="#ref-for-xrwebgllayer⑦">(4)</a> <a href="#ref-for-xrwebgllayer⑧">(5)</a> <a href="#ref-for-xrwebgllayer⑨">(6)</a> <a href="#ref-for-xrwebgllayer①⓪">(7)</a>
    <li><a href="#ref-for-xrwebgllayer①①">10.3. WebGL Context Compatibility</a> <a href="#ref-for-xrwebgllayer①②">(2)</a> <a href="#ref-for-xrwebgllayer①③">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-requestviewportscaling">
   <b><a href="#dom-xrwebgllayer-requestviewportscaling">#dom-xrwebgllayer-requestviewportscaling</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-requestviewportscaling">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-xrwebgllayer">
   <b><a href="#dom-xrwebgllayer-xrwebgllayer">#dom-xrwebgllayer-xrwebgllayer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-xrwebgllayer">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-context">
   <b><a href="#dom-xrwebgllayer-context">#dom-xrwebgllayer-context</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-context">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-context①">(2)</a>
    <li><a href="#ref-for-dom-xrwebgllayer-context②">13.3. Context Isolation</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-framebuffer">
   <b><a href="#dom-xrwebgllayer-framebuffer">#dom-xrwebgllayer-framebuffer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-framebuffer">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer①">(2)</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer②">(3)</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer③">(4)</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer④">(5)</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer⑤">(6)</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer⑥">(7)</a> <a href="#ref-for-dom-xrwebgllayer-framebuffer⑦">(8)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="opaque-framebuffer">
   <b><a href="#opaque-framebuffer">#opaque-framebuffer</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-opaque-framebuffer">10.2. XRWebGLLayer</a> <a href="#ref-for-opaque-framebuffer①">(2)</a> <a href="#ref-for-opaque-framebuffer②">(3)</a> <a href="#ref-for-opaque-framebuffer③">(4)</a> <a href="#ref-for-opaque-framebuffer④">(5)</a> <a href="#ref-for-opaque-framebuffer⑤">(6)</a> <a href="#ref-for-opaque-framebuffer⑥">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-framebufferwidth">
   <b><a href="#dom-xrwebgllayer-framebufferwidth">#dom-xrwebgllayer-framebufferwidth</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-framebufferwidth">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-framebufferheight">
   <b><a href="#dom-xrwebgllayer-framebufferheight">#dom-xrwebgllayer-framebufferheight</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-framebufferheight">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-antialias">
   <b><a href="#dom-xrwebgllayer-antialias">#dom-xrwebgllayer-antialias</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-antialias">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-antialias①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-depth">
   <b><a href="#dom-xrwebgllayer-depth">#dom-xrwebgllayer-depth</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-depth">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-depth①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-stencil">
   <b><a href="#dom-xrwebgllayer-stencil">#dom-xrwebgllayer-stencil</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-stencil">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-stencil①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-alpha">
   <b><a href="#dom-xrwebgllayer-alpha">#dom-xrwebgllayer-alpha</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-alpha">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-alpha①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="list-of-viewports">
   <b><a href="#list-of-viewports">#list-of-viewports</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-list-of-viewports">10.2. XRWebGLLayer</a> <a href="#ref-for-list-of-viewports①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="viewport-scale-factor">
   <b><a href="#viewport-scale-factor">#viewport-scale-factor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-viewport-scale-factor">10.2. XRWebGLLayer</a> <a href="#ref-for-viewport-scale-factor①">(2)</a> <a href="#ref-for-viewport-scale-factor②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="minimum-viewport-scale-factor">
   <b><a href="#minimum-viewport-scale-factor">#minimum-viewport-scale-factor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-minimum-viewport-scale-factor">10.2. XRWebGLLayer</a> <a href="#ref-for-minimum-viewport-scale-factor①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-getviewport">
   <b><a href="#dom-xrwebgllayer-getviewport">#dom-xrwebgllayer-getviewport</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-getviewport">10.2. XRWebGLLayer</a> <a href="#ref-for-dom-xrwebgllayer-getviewport①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="native-webgl-framebuffer-resolution">
   <b><a href="#native-webgl-framebuffer-resolution">#native-webgl-framebuffer-resolution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-native-webgl-framebuffer-resolution">10.2. XRWebGLLayer</a> <a href="#ref-for-native-webgl-framebuffer-resolution①">(2)</a> <a href="#ref-for-native-webgl-framebuffer-resolution②">(3)</a> <a href="#ref-for-native-webgl-framebuffer-resolution③">(4)</a> <a href="#ref-for-native-webgl-framebuffer-resolution④">(5)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="recommended-webgl-framebuffer-resolution">
   <b><a href="#recommended-webgl-framebuffer-resolution">#recommended-webgl-framebuffer-resolution</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-recommended-webgl-framebuffer-resolution">10.2. XRWebGLLayer</a> <a href="#ref-for-recommended-webgl-framebuffer-resolution①">(2)</a> <a href="#ref-for-recommended-webgl-framebuffer-resolution②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrwebgllayer-getnativeframebufferscalefactor">
   <b><a href="#dom-xrwebgllayer-getnativeframebufferscalefactor">#dom-xrwebgllayer-getnativeframebufferscalefactor</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrwebgllayer-getnativeframebufferscalefactor">10.2. XRWebGLLayer</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="swap-chain">
   <b><a href="#swap-chain">#swap-chain</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-swap-chain">10.2. XRWebGLLayer</a> <a href="#ref-for-swap-chain①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="compatible-graphics-adapter">
   <b><a href="#compatible-graphics-adapter">#compatible-graphics-adapter</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-compatible-graphics-adapter">10.3. WebGL Context Compatibility</a> <a href="#ref-for-compatible-graphics-adapter①">(2)</a> <a href="#ref-for-compatible-graphics-adapter②">(3)</a> <a href="#ref-for-compatible-graphics-adapter③">(4)</a> <a href="#ref-for-compatible-graphics-adapter④">(5)</a> <a href="#ref-for-compatible-graphics-adapter⑤">(6)</a> <a href="#ref-for-compatible-graphics-adapter⑥">(7)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-webglcontextattributes-xrcompatible">
   <b><a href="#dom-webglcontextattributes-xrcompatible">#dom-webglcontextattributes-xrcompatible</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-webglcontextattributes-xrcompatible">10.3. WebGL Context Compatibility</a> <a href="#ref-for-dom-webglcontextattributes-xrcompatible①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xr-compatible">
   <b><a href="#xr-compatible">#xr-compatible</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xr-compatible">2.1. XR</a>
    <li><a href="#ref-for-xr-compatible①">10.2. XRWebGLLayer</a>
    <li><a href="#ref-for-xr-compatible②">10.3. WebGL Context Compatibility</a> <a href="#ref-for-xr-compatible③">(2)</a> <a href="#ref-for-xr-compatible④">(3)</a> <a href="#ref-for-xr-compatible⑤">(4)</a> <a href="#ref-for-xr-compatible⑥">(5)</a> <a href="#ref-for-xr-compatible⑦">(6)</a> <a href="#ref-for-xr-compatible⑧">(7)</a> <a href="#ref-for-xr-compatible⑨">(8)</a> <a href="#ref-for-xr-compatible①⓪">(9)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-webglrenderingcontextbase-makexrcompatible">
   <b><a href="#dom-webglrenderingcontextbase-makexrcompatible">#dom-webglrenderingcontextbase-makexrcompatible</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-webglrenderingcontextbase-makexrcompatible">10.3. WebGL Context Compatibility</a> <a href="#ref-for-dom-webglrenderingcontextbase-makexrcompatible①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrpresentationcontext">
   <b><a href="#xrpresentationcontext">#xrpresentationcontext</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrpresentationcontext">3.1. XRSession</a>
    <li><a href="#ref-for-xrpresentationcontext①">3.3. XRSessionCreationOptions</a>
    <li><a href="#ref-for-xrpresentationcontext②">11.1. XRPresentationContext</a> <a href="#ref-for-xrpresentationcontext③">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrpresentationcontext-canvas">
   <b><a href="#dom-xrpresentationcontext-canvas">#dom-xrpresentationcontext-canvas</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrpresentationcontext-canvas">10.2. XRWebGLLayer</a>
    <li><a href="#ref-for-dom-xrpresentationcontext-canvas①">11.1. XRPresentationContext</a> <a href="#ref-for-dom-xrpresentationcontext-canvas②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrsessionevent">
   <b><a href="#xrsessionevent">#xrsessionevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrsessionevent">12.1. XRSessionEvent</a>
    <li><a href="#ref-for-xrsessionevent①">12.4. Event Types</a> <a href="#ref-for-xrsessionevent②">(2)</a> <a href="#ref-for-xrsessionevent③">(3)</a> <a href="#ref-for-xrsessionevent④">(4)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrsessioneventinit">
   <b><a href="#dictdef-xrsessioneventinit">#dictdef-xrsessioneventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrsessioneventinit">12.1. XRSessionEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrsessionevent-session">
   <b><a href="#dom-xrsessionevent-session">#dom-xrsessionevent-session</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrsessionevent-session">12.1. XRSessionEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrinputsourceevent">
   <b><a href="#xrinputsourceevent">#xrinputsourceevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrinputsourceevent">12.2. XRInputSourceEvent</a> <a href="#ref-for-xrinputsourceevent①">(2)</a>
    <li><a href="#ref-for-xrinputsourceevent②">12.4. Event Types</a> <a href="#ref-for-xrinputsourceevent③">(2)</a> <a href="#ref-for-xrinputsourceevent④">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrinputsourceeventinit">
   <b><a href="#dictdef-xrinputsourceeventinit">#dictdef-xrinputsourceeventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrinputsourceeventinit">12.2. XRInputSourceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputsourceevent-inputsource">
   <b><a href="#dom-xrinputsourceevent-inputsource">#dom-xrinputsourceevent-inputsource</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputsourceevent-inputsource">12.2. XRInputSourceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrinputsourceevent-frame">
   <b><a href="#dom-xrinputsourceevent-frame">#dom-xrinputsourceevent-frame</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrinputsourceevent-frame">12.2. XRInputSourceEvent</a> <a href="#ref-for-dom-xrinputsourceevent-frame①">(2)</a> <a href="#ref-for-dom-xrinputsourceevent-frame②">(3)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="xrreferencespaceevent">
   <b><a href="#xrreferencespaceevent">#xrreferencespaceevent</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-xrreferencespaceevent">12.3. XRReferenceSpaceEvent</a>
    <li><a href="#ref-for-xrreferencespaceevent①">12.4. Event Types</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dictdef-xrreferencespaceeventinit">
   <b><a href="#dictdef-xrreferencespaceeventinit">#dictdef-xrreferencespaceeventinit</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dictdef-xrreferencespaceeventinit">12.3. XRReferenceSpaceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespaceevent-referencespace">
   <b><a href="#dom-xrreferencespaceevent-referencespace">#dom-xrreferencespaceevent-referencespace</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespaceevent-referencespace">12.3. XRReferenceSpaceEvent</a> <a href="#ref-for-dom-xrreferencespaceevent-referencespace①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="dom-xrreferencespaceevent-transform">
   <b><a href="#dom-xrreferencespaceevent-transform">#dom-xrreferencespaceevent-transform</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-dom-xrreferencespaceevent-transform">12.3. XRReferenceSpaceEvent</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xr-devicechange">
   <b><a href="#eventdef-xr-devicechange">#eventdef-xr-devicechange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xr-devicechange">2.1. XR</a> <a href="#ref-for-eventdef-xr-devicechange①">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-blur">
   <b><a href="#eventdef-xrsession-blur">#eventdef-xrsession-blur</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-blur">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="blurred">
   <b><a href="#blurred">#blurred</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-blurred">3.2. XRSessionMode</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-focus">
   <b><a href="#eventdef-xrsession-focus">#eventdef-xrsession-focus</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-focus">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-end">
   <b><a href="#eventdef-xrsession-end">#eventdef-xrsession-end</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-end">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-inputsourceschange">
   <b><a href="#eventdef-xrsession-inputsourceschange">#eventdef-xrsession-inputsourceschange</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-inputsourceschange">3.1. XRSession</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-selectstart">
   <b><a href="#eventdef-xrsession-selectstart">#eventdef-xrsession-selectstart</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-selectstart">3.1. XRSession</a>
    <li><a href="#ref-for-eventdef-xrsession-selectstart①">9.1. XRInputSource</a> <a href="#ref-for-eventdef-xrsession-selectstart②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-selectend">
   <b><a href="#eventdef-xrsession-selectend">#eventdef-xrsession-selectend</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-selectend">3.1. XRSession</a>
    <li><a href="#ref-for-eventdef-xrsession-selectend①">9.1. XRInputSource</a> <a href="#ref-for-eventdef-xrsession-selectend②">(2)</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrsession-select">
   <b><a href="#eventdef-xrsession-select">#eventdef-xrsession-select</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrsession-select">3.1. XRSession</a>
    <li><a href="#ref-for-eventdef-xrsession-select①">4.1. XRFrame</a>
    <li><a href="#ref-for-eventdef-xrsession-select②">9.1. XRInputSource</a>
   </ul>
  </aside>
  <aside class="dfn-panel" data-for="eventdef-xrreferencespace-reset">
   <b><a href="#eventdef-xrreferencespace-reset">#eventdef-xrreferencespace-reset</a></b><b>Referenced in:</b>
   <ul>
    <li><a href="#ref-for-eventdef-xrreferencespace-reset">5.2. XRReferenceSpace</a>
   </ul>
  </aside>
<script>/* script-var-click-highlighting */

    document.addEventListener("click", e=>{
        if(e.target.nodeName == "VAR") {
            highlightSameAlgoVars(e.target);
        }
    });
    {
        const indexCounts = new Map();
        const indexNames = new Map();
        function highlightSameAlgoVars(v) {
            // Find the algorithm container.
            let algoContainer = null;
            let searchEl = v;
            while(algoContainer == null && searchEl != document.body) {
                searchEl = searchEl.parentNode;
                if(searchEl.hasAttribute("data-algorithm")) {
                    algoContainer = searchEl;
                }
            }

            // Not highlighting document-global vars,
            // too likely to be unrelated.
            if(algoContainer == null) return;

            const algoName = algoContainer.getAttribute("data-algorithm");
            const varName = getVarName(v);
            const addClass = !v.classList.contains("selected");
            let highlightClass = null;
            if(addClass) {
                const index = chooseHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] += 1;
                indexNames.set(algoName+"///"+varName, index);
                highlightClass = nameFromIndex(index);
            } else {
                const index = previousHighlightIndex(algoName, varName);
                indexCounts.get(algoName)[index] -= 1;
                highlightClass = nameFromIndex(index);
            }

            // Find all same-name vars, and toggle their class appropriately.
            for(const el of algoContainer.querySelectorAll("var")) {
                if(getVarName(el) == varName) {
                    el.classList.toggle("selected", addClass);
                    el.classList.toggle(highlightClass, addClass);
                }
            }
        }
        function getVarName(el) {
            return el.textContent.replace(/(\s| )+/, " ").trim();
        }
        function chooseHighlightIndex(algoName, varName) {
            let indexes = null;
            if(indexCounts.has(algoName)) {
                indexes = indexCounts.get(algoName);
            } else {
                // 7 classes right now
                indexes = [0,0,0,0,0,0,0];
                indexCounts.set(algoName, indexes);
            }

            // If the element was recently unclicked,
            // *and* that color is still unclaimed,
            // give it back the same color.
            const lastIndex = previousHighlightIndex(algoName, varName);
            if(indexes[lastIndex] === 0) return lastIndex;

            // Find the earliest index with the lowest count.
            const minCount = Math.min.apply(null, indexes);
            let index = null;
            for(var i = 0; i < indexes.length; i++) {
                if(indexes[i] == minCount) {
                    return i;
                }
            }
        }
        function previousHighlightIndex(algoName, varName) {
            return indexNames.get(algoName+"///"+varName);
        }
        function nameFromIndex(index) {
            return "selected" + index;
        }
    }
    </script>
<script>/* script-dfn-panel */

document.body.addEventListener("click", function(e) {
    var queryAll = function(sel) { return [].slice.call(document.querySelectorAll(sel)); }
    // Find the dfn element or panel, if any, that was clicked on.
    var el = e.target;
    var target;
    var hitALink = false;
    while(el.parentElement) {
        if(el.tagName == "A") {
            // Clicking on a link in a <dfn> shouldn't summon the panel
            hitALink = true;
        }
        if(el.classList.contains("dfn-paneled")) {
            target = "dfn";
            break;
        }
        if(el.classList.contains("dfn-panel")) {
            target = "dfn-panel";
            break;
        }
        el = el.parentElement;
    }
    if(target != "dfn-panel") {
        // Turn off any currently "on" or "activated" panels.
        queryAll(".dfn-panel.on, .dfn-panel.activated").forEach(function(el){
            el.classList.remove("on");
            el.classList.remove("activated");
        });
    }
    if(target == "dfn" && !hitALink) {
        // open the panel
        var dfnPanel = document.querySelector(".dfn-panel[data-for='" + el.id + "']");
        if(dfnPanel) {
            dfnPanel.classList.add("on");
            var rect = el.getBoundingClientRect();
            dfnPanel.style.left = window.scrollX + rect.right + 5 + "px";
            dfnPanel.style.top = window.scrollY + rect.top + "px";
            var panelRect = dfnPanel.getBoundingClientRect();
            var panelWidth = panelRect.right - panelRect.left;
            if(panelRect.right > document.body.scrollWidth && (rect.left - (panelWidth + 5)) > 0) {
                // Reposition, because the panel is overflowing
                dfnPanel.style.left = window.scrollX + rect.left - (panelWidth + 5) + "px";
            }
        } else {
            console.log("Couldn't find .dfn-panel[data-for='" + el.id + "']");
        }
    } else if(target == "dfn-panel") {
        // Switch it to "activated" state, which pins it.
        el.classList.add("activated");
        el.style.left = null;
        el.style.top = null;
    }

});
</script>